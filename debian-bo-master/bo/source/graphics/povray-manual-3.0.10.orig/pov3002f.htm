<html>
<body text="#000000" bgcolor="#C0C0C0" background="backgrnd.gif">
<a name="ref 1519 pri 0"><a name="ref 986 pri 0"><a name="ref 1520 pri 0"><center><h3><a name="section 7.8.9.2.3">
Section 7.8.9.2.3<br>distance_maximum</h3></center>
The <a name="ref 986 pri 1"><strong>distance_maximum</strong> is the only tuning value that depends upon the size of the objects in the scene. This one <b>must</b> be set for scenes to render properly... the rest can be ignored for a first try. It is difficult to describe the meaning simply but it sets the distance in model units from a sample at which the error is guaranteed to hit 100% (<a name="ref 1521 pri 1"><strong>radiosity_error_bound</strong> &gt;=1): no samples are reused at a distance larger than this from their original calculation point.<p>
Imagine an apple at the left edge of a table. The goal is to make sure that samples on the surface of the table at the right are not used too close to the apple and definitely not underneath the apple. If you had enough rays there wouldn't be a problem since one of them would be guaranteed to hit the apple and set the reuse radius properly for you. In practice, you must limit this.<p>
We use this technique: find the object in your scene which might have the following problem: a small object on a larger flatter surface that you want good ambient light near. Now, how far from this would you have to get to be sure that one of your rays had a good chance of hitting it? In the apple-on-the-table example, assuming I used one POV-Ray unit as one inch, I might use 30 inches. A theoretically sound way (when you are running lots of rays) is the distance at which this object's top is 5 degrees above the <strong>horizon</strong> of the sample point you are considering. This corresponds to about 11 times the height of the object. So, for a 3-inch apple, 33 inches makes some sense. For good behavior under and around a 1/3 inch pea, use 3 inches etc. Another VERY rough estimate is one third the distance from your eye position to the point you are looking at. The reasoning is that you are probably no more than 90 inches from the apple on the table, if you care about the shading underneath it.<p>
The default value is 0.<hr>
<a name="ref 1522 pri 0"><a name="ref 1006 pri 0"><a name="ref 1523 pri 0"><center><h3><a name="section 7.8.9.2.4">
Section 7.8.9.2.4<br>error_bound</h3></center>
The <a name="ref 1006 pri 1"><strong>error_bound</strong> is one of the two main speed/quality tuning values (the other is of course the number of rays shot). In an ideal world, this would be the <b>only</b> value needed. It is intended to mean the fraction of error tolerated. For example, if it were set to 1 the algorithm would not calculate a new value until the error on the last one was estimated at as high as 100%. Ignoring the error introduced by rotation for the moment, on flat surfaces this is equal to the fraction of the reuse distance, which in turn is the distance to the closest item hit. If you have an old sample on the floor 10 inches from a wall, an error bound of 0.5 will get you a new sample at a distance of about 5 inches from the wall. 0.5 is a little rough and ready, 0.33 is good for final renderings. Values much lower than 0.3 take <b>forever</b>.<p>
The default value is 0.4.<hr>
<a name="ref 1524 pri 0"><a name="ref 833 pri 0"><a name="ref 1525 pri 0"><center><h3><a name="section 7.8.9.2.5">
Section 7.8.9.2.5<br>gray_threshold</h3></center>
Diffusely interreflected light is a function of the objects around the point in question. Since this is recursively defined to millions of levels of recursion, in any real life scene, every point is illuminated at least in part by every other part of the scene. Since we can't afford to compute this, we only do one bounce and the calculated ambient light is very strongly affected by the colors of the objects near it. This is known as color bleed and it really happens but not as much as this calculation method would have you believe. The <a name="ref 833 pri 1"><strong>gray_threshold</strong> variable grays it down a little, to make your scene more believable. A value of .6 means to calculate the ambient value as 60% of the equivalent gray value calculated, plus 40% of the actual value calculated. At 0%, this feature does nothing. At 100%, you always get white/gray ambient light, with no hue. Note that this does not change the lightness/darkness, only the strength of hue/grayness (in HLS terms, it changes H only).<p>
The default value is 0.5<hr>
<a name="ref 1526 pri 0"><a name="ref 890 pri 0"><a name="ref 1527 pri 0"><center><h3><a name="section 7.8.9.2.6">
Section 7.8.9.2.6<br>low_error_factor</h3></center>
If you calculate just enough samples, but no more, you will get an image which has slightly blotchy lighting. What you want is just a few extra interspersed, so that the blending will be nice and smooth. The solution to this is the mosaic preview: it goes over the image one or more times beforehand, calculating radiosity values. To ensure that you get a few extra, the radiosity algorithm lowers the error bound during the pre-final passes, then sets it back just before the final pass. This tuning value sets the amount that the error bound is dropped during the preliminary image passes. If your low error factor is 0.8 and your error bound is set to 0.4 it will really use an error bound of 0.32 during the first passes and 0.4 on the final pass.<p>
The default value is 0.8.<hr>
<a name="ref 1528 pri 0"><a name="ref 924 pri 0"><a name="ref 1529 pri 0"><center><h3><a name="section 7.8.9.2.7">
Section 7.8.9.2.7<br>minimum_reuse</h3></center>
The minimum effective radius ratio is set by <a name="ref 924 pri 1"><strong>minimum_reuse</strong>. This is the fraction of the screen width which sets the minimum radius of reuse for each sample point (actually, it is the fraction of the distance from the eye but the two are roughly equal). For example, if the value is 0.02 the radius of maximum reuse for every sample is set to whatever ground distance corresponds to 2% of the width of the screen. Imagine you sent a ray off to the horizon and it hits the ground at a distance of 100 miles from your eyepoint. The reuse distance for that sample will be set to 2 miles. At a resolution of 300*400 this will correspond to (very roughly) 8 pixels. The theory is that you don't want to calculate values for every pixel into every crevice everywhere in the scene, it will take too long. This sets a minimum bound for the reuse. If this value is too low, (which is should be in theory) rendering gets slow, and inside corners can get a little grainy. If it is set too high, you don't get the natural darkening of illumination near inside edges, since it reuses. At values higher than 2% you start getting more just plain errors, like reusing the illumination of the open table underneath the apple.<p>
Remember that this is a unitless ratio.<p>
The default value is 0.015.<hr>
<a name="ref 1530 pri 0"><a name="ref 931 pri 0"><a name="ref 1531 pri 0"><center><h3><a name="section 7.8.9.2.8">
Section 7.8.9.2.8<br>nearest_count</h3></center>
The <a name="ref 931 pri 1"><strong>nearest_count</strong> value is the maximum number of old ambient values blended together to create a new interpolated value. It will always be the n geometrically closest reusable points that get used. If you go lower than 4, things can get pretty patchy. This can be good for debugging, though. Must be no more than 10, since that is the size of the array allocated.<p>
The default value is 6.<hr>
<a name="ref 1532 pri 0"><a name="ref 1533 pri 0"><a name="ref 1534 pri 0"><center><h3><a name="section 7.8.9.2.9">
Section 7.8.9.2.9<br>radiosity_quality</h3></center>
This feature is not yet implemented.<hr>
<a name="ref 1535 pri 0"><a name="ref 821 pri 0"><a name="ref 1536 pri 0"><center><h3><a name="section 7.8.9.2.10">
Section 7.8.9.2.10<br>recursion_limit</h3></center>
This value determines how many recursion levels are used to calculate the diffuse inter-reflection. Valid values are one and two.<p>
The default value is 1.<hr>
<a name="ref 1537 pri 0"><a name="ref 1538 pri 0"><center><h3><a name="section 7.8.9.3">
Section 7.8.9.3<br>Tips on Radiosity</h3></center>
If you want to see where your values are being calculated set <a name="ref 1539 pri 0"><strong>radiosity_count</strong> down to about 20, set <a name="ref 1540 pri 0"><strong>radiosity_nearest_count</strong> to 1 and set <a name="ref 1541 pri 0"><strong>radiosity_gray</strong> to 0. This will make everything maximally patchy, so you'll be able to see the borders between patches. There will have been a radiosity calculation at the center of most patches. As a bonus, this is quick to run. You can then change the <a name="ref 1521 pri 1"><strong>radiosity_error_bound</strong> up and down to see how it changes things. Likewise modify <a name="ref 1542 pri 1"><strong>radiosity_reuse_dist_min</strong> and <a name="ref 906 pri 2"><strong>max</strong>.<p>
One way to get extra smooth results: crank up the sample count (we've gone as high as 1300) and drop the <a name="ref 890 pri 3"><strong>low_error_factor</strong> to something small like 0.6. Bump up the <a name="ref 1543 pri 3"><strong>reuse_count</strong> to 7 or 8. This will get better values, and more of them, then interpolate among more of them on the last pass. This is not for people with a lack of patience since it is like a squared function. If your blotchiness is only in certain corners or near certain objects try tuning the error bound instead. Never drop it by more than a little at a time, since the run time will get very long.<p>
If your scene looks good but right near some objects you get spots of the right (usually darker) color showing on a flat surface of the wrong color (same as far away from the object), then try dropping <a name="ref 1544 pri 3"><strong>reuse_dist_max</strong>. If that still doesn't work well increase your ray count by 100 and drop the error bound just a bit. If you still have problems, drop <a name="ref 1545 pri 3"><strong>reuse_nearest_count</strong> to about 4.<hr>
<a name="ref 1546 pri 0"><a name="ref 40 pri 0"><center><h3><a name="section A">
Appendix A<br>Copyright</h3></center>
The following sections contain the legal information and license for the Persistence of Vision(tm) Ray-Tracer, also called POV-Ray(tm).<p>
Before you use this program you have to read the sections below.<hr>
<a name="ref 1547 pri 0"><a name="ref 1548 pri 0"><center><h3><a name="section A.1">
Appendix A.1<br>General License Agreement</h3></center>
<b>THIS NOTICE MUST ACCOMPANY ALL OFFICIAL OR CUSTOM PERSISTENCE OF  VISION FILES. IT MAY NOT BE REMOVED OR MODIFIED. THIS INFORMATION  PERTAINS TO ALL USE OF THE PACKAGE WORLDWIDE. THIS DOCUMENT  SUPERSEDES ALL PREVIOUS GENERAL LICENSES OR DISTRIBUTION POLICIES.  ANY INDIVIDUALS, COMPANIES OR GROUPS WHO HAVE BEEN GRANTED SPECIAL  LICENSES MAY CONTINUE TO DISTRIBUTE VERSION 2.x BUT MUST RE-APPLY  FOR VERSION 3.00 OR LATER</b>.<p>
This document pertains to the use and distribution of the Persistence of Vision(tm) Ray-Tracer a. k. a POV-Ray(tm). It applies to all POV-Ray program source files, executable (binary) files, scene files, documentation files, help file, bitmaps and INI files contained in official POV-Ray Team(tm) archives. All of these are referred to here as <strong>the software</strong>.<p>
All of this software is Copyright 1991,1997 by the POV-Ray Team(tm). Although it is distributed as freeware, it is <b>NOT</b> Public Domain.<p>
The copyrighted package may ONLY be distributed and/or modified according to the license granted herein. The spirit of the license is to promote POV-Ray as a standard ray-tracer, provide the full POV-Ray package freely to as many users as possible, prevent POV-Ray users and developers from being taken advantage of, enhance the life quality of those who come in contact with POV-Ray. This license was created so these goals could be realized. You are legally bound to follow these rules, but we hope you will follow them as a matter of ethics, rather than fear of litigation.<hr>
<a name="ref 1549 pri 0"><a name="ref 1550 pri 0"><center><h3><a name="section A.2">
Appendix A.2<br>Usage Provisions</h3></center>
Permission is granted to the user to use the software and associated files in this package to create and render images. The use of this software for the purpose of creating images is completely free. The creator of a scene file and the image created from the scene file, retains all rights to the image and scene file they created and may use them for any purpose commercial or noncommercial.<p>
The user is also granted the right to use the scenes files, fonts, bitmaps, and include files distributed in the <b>include</b>, <b>texsamps</b> and <b>pov3demo</b> sub- directories in their own scenes. Such permission does not extend to files in the <b>povscn</b> sub-directory. <b>povscn</b> files are for your enjoyment and education but may not be the basis of any derivative works.<hr>
<a name="ref 1551 pri 0"><a name="ref 1552 pri 0"><center><h3><a name="section A.3">
Appendix A.3<br>General Rules for All Distributions</h3></center>
The permission to distribute this package under certain very specific conditions is granted in advance, provided that the following conditions are met.<p>
These archives must not be re-archived using a different method without the explicit permission of the POV-Team. You may rename the archives only to meet the file name conventions of your system or to avoid file name duplications but we ask that you try to keep file names as similar to the originals as possible (for example: <b>povsrc.zip</b> to <b>povsrc30.zip</b>)<p>
Ready-to-run unarchived distribution on CD-ROM is also permitted if the files are arranged in our standard directory or folder structure as though it had been properly installed on a hard disk.<p>
You must distribute a <strong>full package</strong> of files as described in the next section. No portion of this package may be separated from the package and distributed separately other than under the conditions specified in the provisions given below.<p>
Non-commercial distribution in which no money or compensation is charged (such as a user copying the software for a personal friend or colleague) is permitted with no other restrictions.<p>
Teachers and educational institutions may also distribute the material to students and may charge minimal copying costs if the software is to be used in a course.<hr>
<a name="ref 1553 pri 0"><a name="ref 1554 pri 0"><center><h3><a name="section A.4">
Appendix A.4<br>Definition of "Full Package"</h3></center>
POV-Ray is contained in two sets of archives for each hardware platform. A <strong>full package</strong> consists of either:<p>
 1) End user executable archives containing an executable program,  documentation, and sample scenes but no source.<p>
 - or -<p>
 2) Programmer archives containing full source code but no executable.  Also you must include an archive containing documentation, and  sample scenes. On some platforms, the documentation and sample  scenes are archived separately from the source. Source alone  is not sufficient. You must have docs and scenes.<p>
POV-Ray is officially distributed for MS-Dos; Windows 32-bit; Linux for Intel x86 series; Apple Macintosh; Apple PowerPC; SunOS; and Amiga. Other systems may be added in the future.<p>
Distributors need not support all platforms but for each platform you support you must distribute a full package. For example a Macintosh only BBS need not distribute the Windows versions.<p>
This software may <b>only</b> be bundled with other software packages according to the conditions specified in the provisions below.<p>
{/HEADER 1 Conditions for Shareware/Freeware Distribution Companies/}<p>
Shareware and freeware distribution companies may distribute the software included in software-only compilations using media such as, but not limited to, floppy disk, CD-ROM, tape backup, optical disks, hard disks, or memory cards. This section only applies to distributors of collected programs. Anyone wishing to bundle the package with a shareware product must use the commercial bundling rules. Any bundling with books, magazines or other print media should also use the commercial rules.<p>
You must notify us that you are distributing POV-Ray and must provide us with information on how to contact you should any support issues arise.<p>
No more than five dollars U.S. ($5) can be charged per disk for the copying of this software and the media it is provided on. Space on each disk must be used as fully as possible. You may not spread the files over more disks than are necessary.<p>
Distribution on high volume media such as backup tape or CD-ROM is permitted if the total cost to the user is no more than $0.08 U.S. dollars per megabyte of data. For example a CD-ROM with 600 meg could cost no more than $48.00.<hr>
<a name="ref 1555 pri 0"><a name="ref 1556 pri 0"><center><h3><a name="section A.5">
Appendix A.5<br>Conditions for On-Line Services and BBS's Including Internet</h3></center>
On-line services, BBS's and internet sites may distribute the POV-Ray software under the conditions in this section. Sites which allow users to run POV-Ray from remote locations must use separate provisions in the section below.<p>
The archives must all be easily available on the service and should be grouped together in a similar on-line area.<p>
It is strongly requested that sites remove prior versions of POV-Ray to avoid user confusion and simplify or minimize our support efforts.<p>
The site may only charge standard usage rates for the downloading of this software. A premium may not be charged for this package. I. e. CompuServe or America On-Line may make these archives available to their users, but they may only charge regular usage rates for the time required to download.<hr>
<a name="ref 1557 pri 0"><a name="ref 1558 pri 0"><center><h3><a name="section A.6">
Appendix A.6<br>Online or Remote Execution of POV-Ray</h3></center>
Some internet sites have been set up so that remote users can actually run POV-Ray software on the internet server. Other companies sell CPU time for running POV-Ray software on workstations or high-speed computers. Such use of POV-Ray software is permitted under the following conditions.<p>
Fees or charges, if any, for such services must be for connect time, storage or processor usage ONLY. No premium charges may be assessed for use of POV-Ray beyond that charged for use of other software. Users must be clearly notified that they are being charged for use of the computer and not for use of POV-Ray software.<p>
Users must be prominently informed that they are using POV-Ray software, that such software is free, and where they can find official POV-Ray software. Any attempt to obscure the fact that the user is running POV-Ray is expressly prohibited.<p>
All files normally available in a full package distribution, especially a copy of this license and full documentation must be available for download or readable online so that users of an online executable have access to all of the material of a full user package.<p>
If the POV-Ray software has been modified in any way, it must also follow the provisions for custom versions below.<hr>

<center>
<a href="pov30030.htm">Next Section</a><br>
<a href="povray.htm#Table of Contents">Table Of Contents</a><br>
</center>
</body>
</html>

dnl Process this file with autoconf to produce a configure script.
AC_INIT(configure)
dnl Organize the search for common prefixes
if test x$prefix = xNONE
then
    prefix=$ac_default_prefix
fi
if test "$prefix" = "/usr"
then
    altprefix=/usr/local
else
    altprefix=/usr
fi
dnl Substitute correct version in files.
psptools_version="1.2.2"
AC_SUBST(psptools_version)
npslpr_version="0.1.1"
AC_SUBST(psplpr_date)
psplpr_version="1.2.2"
AC_SUBST(psplpr_version)
npslpr_date="19 June 1996"
AC_SUBST(npslpr_version)
psplpr_date="3 July 1996"
AC_SUBST(npslpr_date)
mkppddir_version="1.0.1"
AC_SUBST(mkppddir_version)
mkppddir_date="19 June 1996"
AC_SUBST(mkppddir_date)
ppd_def_section="AnySetup"
AC_SUBST(ppd_def_section)
ppd_def_order=-100
AC_SUBST(ppd_def_order)
ppd_dir="ppd.dir"
AC_SUBST(ppd_dir)
dnl
AC_CANONICAL_HOST
case "$host" in
    *nextstep*)
	nextstep=1;;
    *)
	nextstep=0;;
esac
AC_SUBST(nextstep)
dnl Check for the programs used by psplpr.
AC_PATH_PROG(SED, sed)
AC_PATH_PROG(PERL, perl)
if test -z "$PERL"
then
    echo "Sorry, Perl is definitively needed."
    exit 1
fi
PERL_VERS=`$PERL -v | grep 'This is perl' | sed 's/.*version //'`
case "$PERL_VERS" in
    5*)
	;;
    *)
	echo "Sorry, Perl 5 or above is definitively needed."
	;;
esac
AC_PATH_PROG(BSD_LPR, lpr)
AC_PATH_PROG(SYSV_LP, lp)
AC_PATH_PROG(PR, pr)
AC_PATH_PROG(CAT, cat)
AC_PATH_PROG(NIDUMP, nidump)
AC_PATH_PROG(GZIP, gzip)
AC_PATH_PROG(COMPRESS, compress)
AC_PATH_PROG(SHAR, shar)
dnl We need a BSD-like install.
AC_PROG_INSTALL
dnl Check for files and directories.
AC_PATH_FILE(PRINTCAP, $prefix/etc:$altprefix/etc:/etc, printcap)
if test "$prefix" != /usr
then
    AC_NC_PATH_DIRS(PERLLIB, $prefix/lib:$altprefix/lib:$prefix/lib/perl5:$altprefix/lib/perl5:$prefix/lib/perl:$altprefix/lib/perl, site_perl)
fi
if test -z "$PERLLIB"
then
    AC_NC_PATH_DIRS(PERLLIB, $prefix/lib:$altprefix/lib, perl5 perl)
fi
dnl Output our files.
AC_OUTPUT(Makefile sedscript)


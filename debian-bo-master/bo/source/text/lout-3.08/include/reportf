
###########################################################################
#                                                                         #
#  @ReportLayout extension to @DocumentLayout.                            #
#                                                                         #
#  Jeffrey H. Kingston                                                    #
#  August 1994                                                            #
#                                                                         #
#  This package extends DocumentLayout with definitions for reports.      #
#                                                                         #
###########################################################################

extend @DocumentLayout
export @Report @Abstract @Section @Appendix
def @ReportLayout
    named @CoverSheet			{ Yes			}
    named @DateLine			{ No			}
    named @ReferencesBeforeAppendices	{ No			}

    named @AbstractWord			{ abstract		}
    named @ContentsWord			{ contents		}
    named @AppendixWord			{ appendix		}
    named @IndexWord			{ index			}
    named @IndexAWord			{ index			}
    named @IndexBWord			{ index			}

    named @SectionNumbers		{ Arabic		}
    named @SubSectionNumbers		{ Arabic		}
    named @SubSubSectionNumbers		{ Arabic		}
    named @AppendixNumbers		{ UCAlpha		}
    named @SubAppendixNumbers		{ Arabic		}
    named @SubSubAppendixNumbers	{ Arabic		}

    named @AbstractHeadingFont		{ Bold			}
    named @AbstractHeadingBreak		{ ragged 1.2fx nohyphen }
    named @AbstractHeadingFormat
	    right title			{ title			}

    named @ContentsHeadingFont		{ Bold			}
    named @ContentsHeadingBreak		{ ragged 1.2fx nohyphen }
    named @ContentsHeadingFormat
	    right title			{ title			}

    named @SectionHeadingFont		{ Bold			}
    named @SectionHeadingBreak		{ ragged 1.2fx nohyphen }
    named @SectionHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @SubSectionHeadingFont	{ Bold			}
    named @SubSectionHeadingBreak	{ ragged 1.2fx nohyphen	}
    named @SubSectionHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @SubSubSectionHeadingFont	{ Slope			}
    named @SubSubSectionHeadingBreak	{ ragged 1.2fx nohyphen	}
    named @SubSubSectionHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @AppendixHeadingFont		{ Bold			}
    named @AppendixHeadingBreak		{ ragged 1.2fx nohyphen	}
    named @AppendixHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @SubAppendixHeadingFont	{ Bold			}
    named @SubAppendixHeadingBreak	{ ragged 1.2fx nohyphen	}
    named @SubAppendixHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @SubSubAppendixHeadingFont	{ Slope			}
    named @SubSubAppendixHeadingBreak	{ ragged 1.2fx nohyphen	}
    named @SubSubAppendixHeadingFormat
	    left number right title	{ number @DotSep title	}

    named @ReferencesHeadingFont	{ Bold			}
    named @ReferencesHeadingBreak	{ ragged 1.2fx nohyphen	}
    named @ReferencesHeadingFormat
	    right title			{ title			}

    named @IndexHeadingFont		{ Bold			}
    named @IndexHeadingBreak		{ ragged 1.2fx nohyphen	}
    named @IndexHeadingFormat
	    right title			{ title			}

    named @IndexAHeadingFont		{ Bold			}
    named @IndexAHeadingBreak		{ ragged 1.2fx nohyphen	}
    named @IndexAHeadingFormat
	    right title			{ title			}

    named @IndexBHeadingFont		{ Bold			}
    named @IndexBHeadingBreak		{ ragged 1.2fx nohyphen	}
    named @IndexBHeadingFormat
	    right title			{ title			}

    named @SectionGap			{ 2.00v			}
    named @SubSectionGap		{ 1.50v			}
    named @SubSubSectionGap		{ 1.50v			}
    named @AppendixGap			{ 2.00v			}
    named @SubAppendixGap		{ 1.50v			}
    named @SubSubAppendixGap		{ 1.50v			}

    named @SectionInContents		{ Yes			}
    named @SubSectionInContents		{ Yes			}
    named @SubSubSectionInContents	{ No			}
    named @AppendixInContents		{ Yes			}
    named @SubAppendixInContents	{ Yes			}
    named @SubSubAppendixInContents	{ No			}
    named @ReferencesInContents		{ Yes			}
    named @IndexInContents		{ Yes			}
    named @IndexAInContents		{ Yes			}
    named @IndexBInContents		{ Yes			}

    named @SectionNumInTheorems		{ No			}
    named @SubSectionNumInTheorems	{ No			}
    named @SubSubSectionNumInTheorems	{ No			}
    named @AppendixNumInTheorems	{ No			}
    named @SubAppendixNumInTheorems	{ No			}
    named @SubSubAppendixNumInTheorems	{ No			}

    named @SectionNumInDisplays		{ Yes			}
    named @SubSectionNumInDisplays	{ No			}
    named @SubSubSectionNumInDisplays	{ No			}
    named @AppendixNumInDisplays	{ Yes			}
    named @SubAppendixNumInDisplays	{ No			}
    named @SubSubAppendixNumInDisplays	{ No			}

    named @SectionNumInFigures		{ Yes			}
    named @SubSectionNumInFigures	{ No			}
    named @SubSubSectionNumInFigures	{ No			}
    named @AppendixNumInFigures		{ Yes			}
    named @SubAppendixNumInFigures	{ No			}
    named @SubSubAppendixNumInFigures	{ No			}

    named @SectionNumInTables		{ Yes			}
    named @SubSectionNumInTables	{ No			}
    named @SubSubSectionNumInTables	{ No			}
    named @AppendixNumInTables		{ Yes			}
    named @SubAppendixNumInTables	{ No			}
    named @SubSubAppendixNumInTables	{ No			}
@Begin

    #######################################################################
    #                                                                     #
    #  Lists of sections, subsections, etc.                               #
    #                                                                     #
    #######################################################################

    export num
    def @SectionList named @Tag {} right num
    {
	@Galley
        //@SectionGap	@SectionList @Next num
    }

    export num
    def @SubSectionList named @Tag {} right num
    {
	@Galley
        //@SubSectionGap    @SubSectionList @Next num
    }

    export num
    def @SubSubSectionList named @Tag {} right num
    {
	@Galley
        //@SubSubSectionGap @SubSubSectionList @Next num
    }

    export num
    def @AppendixList named @Tag {} right num
    {
	@Galley
        //@AppendixGap	@AppendixList @Next num
    }

    export num
    def @SubAppendixList named @Tag {} right num
    {
	@Galley
        //@SubAppendixGap   @SubAppendixList @Next num
    }

    export num
    def @SubSubAppendixList named @Tag {} right num
    {
	@Galley
        //@SubSubAppendixGap   @SubSubAppendixList @Next num
    }

    def @AbstractPlace { @Galley }


    #######################################################################
    #                                                                     #
    #  @Full - this sends text to a full-width place.                     #
    #                                                                     #
    #######################################################################

    def @Full force into { @FullPlace&&following } right x
    {
        x
    }


    #######################################################################
    #                                                                     #
    #  @Report                                                            #
    #                                                                     #
    #######################################################################

    def @Report
        named @Title {}
        named @Author {}
        named @Institution {}
        named @DateLine { @DateLine }
        named @CoverSheet { @CoverSheet }
        named @InitialFont { @InitialFont }
        named @InitialBreak { @InitialBreak }
        named @InitialSpace { @InitialSpace }
        named @InitialLanguage { @InitialLanguage }
        named @PageHeaders { @PageHeaders }
        named @ColumnNumber { @ColumnNumber }
        named @FirstPageNumber { @FirstPageNumber }
	named @OptimizePages { @OptimizePages }
    {

	def @Cntr right x
	{
	    x @Case {
		""	@Yield @Null
		else	@Yield { |0.5rt x | }
	    }
	}

	def @DateValue right indent
	{
	    @DateLine @Case {
		No	@Yield {}
		Yes	@Yield @Date
		else	@Yield @DateLine
	    }
	}

	def @TitleMaterial
	{
	    //1i    @B {clines 1.4vx} @Break @Cntr @Title
	    //1.00v @I clines @Break @Cntr @Author
	    //1.00v clines @Break @Cntr @Institution
	    //1.00v clines @Break @Cntr @DateValue
	}

	def @ContentsPart
	{
	    //	|0.5rt @ContentsHeadingFont @Font @ContentsHeadingBreak @Break
		       @ContentsHeadingFormat { contents @WordVal @ContentsWord } |
	    //  @ContentsSection
	    //  NonStart @Runner @MajorTitle {contents @WordVal @ContentsWord}
	}

	def @ReferencesPart
	    named @Tag {}
	{
		@ReferencesHeadingFont @Font @ReferencesHeadingBreak @Break @Protect
		@ReferencesHeadingFormat @RefHeading @RefListTitle
            //  @PageMarker&&preceding @Tagged @Tag
            //  @ReferencesInContents @MajorContentsEntry
		    title { @RefHeading @RefListTitle }
		    pagenum { @PageOf @Tag }
            //@RefListGap  @ReferencesSection
	    //  NonStart @Runner @MajorTitle { @RefHeading @RefListTitle }
	}

        def @IndexPart
	    named @Tag {}
        {
            @Full {
		    @IndexHeadingFont @Font @IndexHeadingBreak @Break
		    @IndexHeadingFormat { index @WordVal @IndexWord }
                //  @PageMarker&&preceding @Tagged @Tag
                //  @IndexInContents @MajorContentsEntry
			title { index @WordVal @IndexWord }
			pagenum { @PageOf @Tag }
                //  NonStart @Runner @MajorTitle { index @WordVal @IndexWord }
	    }
            //  @IndexSection {NonStart @Runner @MajorTitle {
		    index @WordVal @IndexWord }}
        }

        def @IndexAPart
	    named @Tag {}
        {
            @Full {
		    @IndexAHeadingFont @Font @IndexAHeadingBreak @Break
		    @IndexAHeadingFormat { index @WordVal @IndexAWord }
                //  @PageMarker&&preceding @Tagged @Tag
                //  @IndexAInContents @MajorContentsEntry
			title { index @WordVal @IndexAWord }
			pagenum { @PageOf @Tag }
                //  NonStart @Runner @MajorTitle { index @WordVal @IndexAWord }
	    }
            //  @IndexASection {NonStart @Runner @MajorTitle {
		    index @WordVal @IndexAWord }}
        }

        def @IndexBPart
	    named @Tag {}
        {
            @Full {
		    @IndexBHeadingFont @Font @IndexBHeadingBreak @Break
		    @IndexBHeadingFormat { index @WordVal @IndexBWord }
                //  @PageMarker&&preceding @Tagged @Tag
                //  @IndexBInContents @MajorContentsEntry
			title { index @WordVal @IndexBWord }
			pagenum { @PageOf @Tag }
                //  NonStart @Runner @MajorTitle { index @WordVal @IndexBWord }
	    }
            //  @IndexBSection {NonStart @Runner @MajorTitle {
		    index @WordVal @IndexBWord }}
        }

        def @ReportBodyWithCoverSheet force into { @ColPlace&&preceding }
	    named @Optimize { @OptimizePages }
        {

	    //			Start @Runner
	    //@SectionGap	@ContentsPart
	    //@SectionGap	@SectionList 1
	    //@SectionGap	@ReferencesBeforeAppendices @Do {
				    @MakeReferences @Do @ReferencesPart
				}
            //@AppendixGap	@AppendixList 1
	    //@SectionGap	@ReferencesBeforeAppendices @NoDo {
				    @MakeReferences @Do @ReferencesPart
				}
	    //@SectionGap	@EndFigureList
	    //@SectionGap	@EndNoteList 1
	    //			@MakeIndexA @Do @IndexAPart
	    //			@MakeIndexB @Do @IndexBPart
	    //			@MakeIndex  @Do @IndexPart
        }

        def @ReportBodyWithoutCoverSheet force into { @ColPlace&&preceding }
	    named @Optimize { @OptimizePages }
        {

	    //			Start @Runner
	    //			@AbstractPlace
	    //@SectionGap	@ContentsPart
	    //@SectionGap	@SectionList 1
	    //@SectionGap	@ReferencesBeforeAppendices @Do {
				    @MakeReferences @Do @ReferencesPart
				}
            //@AppendixGap	@AppendixList 1
	    //@SectionGap	@EndFigureList
	    //@SectionGap	@EndNoteList 1
	    //@SectionGap	@ReferencesBeforeAppendices @NoDo {
				    @MakeReferences @Do @ReferencesPart
				}
	    //			@MakeIndexA @Do @IndexAPart
	    //			@MakeIndexB @Do @IndexBPart
	    //			@MakeIndex  @Do @IndexPart
        }

        @InitialFont @Font @InitialBreak @Break @InitialLanguage @Language
	@InitialSpace @Space { @ColourCommand @InitialColour } @SetColour
        {
	    @CoverSheet @Case {

		No @Yield {
		        @FootNoteThrough @Do @BeginFootNoteCounter
		    //	Yes @BeginAllCounters {}
		    //	Yes @BeginDisplayCounter {}
		    //	Yes @BeginFigureCounter {}
		    //	Yes @BeginTableCounter {}
		    //  @PageList
			    @ColumnNumber { @ColumnNumber }
			    @PageHeaders { @PageHeaders }
			    # extra { Yes }
			    @AtTop { @TitleMaterial }
			    @FirstPageNumber
		    //	@ReportBodyWithoutCoverSheet
		    //	NonStart @Runner
		}

		Yes @Yield {
		        @FootNoteThrough @Do @BeginFootNoteCounter
		    //	Yes @BeginAllCounters {}
		    //	Yes @BeginDisplayCounter {}
		    //	Yes @BeginFigureCounter {}
		    //	Yes @BeginTableCounter {}
		    //  @PageLabel "i"
		    //	@OddPage
			{
			    @TitleMaterial
			    //0.5i |0.5rt @OneCol {|0.5i @AbstractPlace |0.5i}
			    // //1rt @OneRow { //@MidGap @PageFootNoteSection }
			}
		    //	@PageList
			    @ColumnNumber { @ColumnNumber }
			    @PageHeaders { @PageHeaders }
			    # extra { Yes }
			    @AtTop { @TitleMaterial }
			    @FirstPageNumber
		    //	@ReportBodyWithCoverSheet
		    //	NonStart @Runner
		}
	    }
        }
    }


    #######################################################################
    #                                                                     #
    #  Abstract.                                                          #
    #                                                                     #
    #######################################################################

    def @Abstract force into { @AbstractPlace&&preceding }
        named @Tag {}
        named @Title { abstract @WordVal @AbstractWord }
        named @RunningTitle { dft }
	named @InitialLanguage {}
        body @Body
    {
	@InitialLanguage @Language {
		|0.5rt @AbstractHeadingFont @Font @AbstractHeadingBreak @Break
		       @AbstractHeadingFormat @Title |
	    //  @Body
	}
    }


    #######################################################################
    #                                                                     #
    #  Sections.                                                          #
    #                                                                     #
    #######################################################################

    export @BeginSubSections @EndSubSections @SubSection
    def @Section force into { @SectionList&&preceding }
	named @Tag {}
	named @Title {}
	named @RunningTitle { dft }
	named @InitialLanguage {}
	named @BypassNumber { dft }
	body @Body
    {

        def @SectionNum
	{
	  @BypassNumber @Dft {
	    @SectionNumbers @Num { @SectionList&&@Tag @Open { num } }
	  }
	}

        def @SectionTitle
	{
	    @InitialLanguage @Language { @RunningTitle @Dft @Title }
	}

        def @EndSubSectionsPlace { @Galley }

        macro @BeginSubSections
        {
	    //@SubSectionGap @SubSectionList 1
	    // @EndSubSectionsPlace //
	}

        def @EndSubSections force into { @EndSubSectionsPlace&&preceding }
	{}

	export @BeginSubSubSections @EndSubSubSections @SubSubSection
        def @SubSection force into { @SubSectionList&&preceding }
	    named @Tag {}
	    named @Title {}
	    named @RunningTitle { dft }
	    named @InitialLanguage { @InitialLanguage }
	    named @BypassNumber { dft }
	    body @Body
        {

	    def @SubSectionNum
	    {
	      @BypassNumber @Dft {
		@SubSectionNumbers @Then {
		    @SectionNum @DotJoin @SubSectionNumbers @Num
		    { @SubSectionList&&@Tag @Open { num } }
		}
	      }
	    }

            def @SubSectionTitle
	    {
		@InitialLanguage @Language { @RunningTitle @Dft @Title }
	    }

	    def @EndSubSubSectionsPlace { @Galley }

            macro @BeginSubSubSections
            {
		//@SubSubSectionGap @SubSubSectionList 1
		// @EndSubSubSectionsPlace //
	    }

            def @EndSubSubSections force into
		{ @EndSubSubSectionsPlace&&preceding }
	    {}

	    def @SubSubSection force into { @SubSubSectionList&&preceding }
		named @Tag {}
		named @Title {}
		named @RunningTitle { dft }
		named @InitialLanguage { @InitialLanguage }
		named @BypassNumber { dft }
		body @Body
	    {
                
		def @SubSubSectionNum
		{
		  @BypassNumber @Dft {
		    @SubSubSectionNumbers @Then {
			@SubSectionNum @DotJoin @SubSubSectionNumbers @Num
			{ @SubSubSectionList&&@Tag @Open { num } }
		    }
		  }
		}

	            @InitialLanguage @Language @SubSubSectionHeadingFont @Font
		    @SubSubSectionHeadingBreak @Break @Protect
		      { @SubSubSectionNum @SubSubSectionHeadingFormat @Title }
		//  @NumberMarker @Tag { @Tag } @Value { @SubSubSectionNum }
		//  @SubSubSectionList&&preceding @Tagged @Tag
		//  @PageMarker&&preceding @Tagged @Tag
		//  @SubSubSectionInContents @ContentsEntry
			indent { 6f }
			number { @SubSubSectionNum }
			title { @InitialLanguage @Language @Title }
			pagenum { @PageOf @Tag }
		//  @SubSubSectionNumInTheorems @BeginAllCounters @SubSectionNum
		//  @SubSubSectionNumInDisplays @BeginDisplayCounter @SubSectionNum
		//  @SubSubSectionNumInFigures @BeginFigureCounter @SubSectionNum
		//  @SubSubSectionNumInTables @BeginTableCounter @SubSectionNum
		//  @InitialLanguage @Language @Body
	    }

	        @InitialLanguage @Language @SubSectionHeadingFont @Font
		@SubSectionHeadingBreak @Break @Protect
		  { @SubSectionNum @SubSectionHeadingFormat @Title }
	    //  @NumberMarker @Tag { @Tag } @Value { @SubSectionNum }
	    //  @SubSectionList&&preceding @Tagged @Tag
	    //  @PageMarker&&preceding @Tagged @Tag
	    //  @SubSectionInContents @ContentsEntry
		    indent { 3f }
		    number { @SubSectionNum }
		    title { @InitialLanguage @Language @Title }
		    pagenum { @PageOf @Tag }
	    //  @SubSectionNumInTheorems @BeginAllCounters @SubSectionNum
	    //  @SubSectionNumInDisplays @BeginDisplayCounter @SubSectionNum
	    //  @SubSectionNumInFigures @BeginFigureCounter @SubSectionNum
	    //  @SubSectionNumInTables @BeginTableCounter @SubSectionNum
	    //  @InitialLanguage @Language @Body
	    //  NonStart @Runner
		    @MajorNum { @SectionNum }
		    @MajorTitle { @SectionTitle }
		    @MinorNum { @SubSectionNum }
		    @MinorTitle { @SubSectionTitle }
        }

            @InitialLanguage @Language @SectionHeadingFont @Font
	    @SectionHeadingBreak @Break @Protect
	      { @SectionNum @SectionHeadingFormat @Title }
	//  @NumberMarker @Tag { @Tag } @Value { @SectionNum }
	//  @SectionList&&preceding @Tagged @Tag
	//  @PageMarker&&preceding @Tagged @Tag
	//  @SectionInContents @MajorContentsEntry
		number { @SectionNum }
		title { @InitialLanguage @Language @Title }
		pagenum { @PageOf @Tag }
	//  @SectionNumInTheorems @BeginAllCounters @SectionNum
	//  @SectionNumInDisplays @BeginDisplayCounter @SectionNum
	//  @SectionNumInFigures @BeginFigureCounter @SectionNum
	//  @SectionNumInTables @BeginTableCounter @SectionNum
	//  @InitialLanguage @Language @Body
	//  NonStart @Runner
		@MajorNum { @SectionNum }
		@MajorTitle { @SectionTitle }

    }


    #######################################################################
    #                                                                     #
    #  Appendices.                                                        #
    #                                                                     #
    #######################################################################

    export @BeginSubAppendices @EndSubAppendices @SubAppendix
    def @Appendix force into { @AppendixList&&preceding }
        named @Tag {}
        named @Title {}
        named @RunningTitle { dft }
	named @InitialLanguage {}
	named @BypassNumber { dft }
        body @Body
    {
        def @EndSubAppendicesPlace { @Galley }

        macro @BeginSubAppendices
	{   //@SubAppendixGap @SubAppendixList 1
	    // @EndSubAppendicesPlace //
	}

        def @EndSubAppendices force into { @EndSubAppendicesPlace&&preceding }
	{}

        def @AppendixShortNum
        {
	  @BypassNumber @Dft {
	    @AppendixNumbers @Num { @AppendixList&&@Tag @Open { num } }
	  }
        }

        def @AppendixLongNum
        {
            @AppendixNumbers @Then {
		@InitialLanguage @Language {
		    appendix @WordVal @AppendixWord  @AppendixShortNum
		}
	    }
        }

        def @AppendixTitle
	{
	    @InitialLanguage @Language { @RunningTitle @Dft @Title }
	}

        export @BeginSubSubAppendices @EndSubSubAppendices @SubSubAppendix
        def @SubAppendix force into { @SubAppendixList&&preceding }
            named @Tag {}
            named @Title {}
            named @RunningTitle { dft }
	    named @InitialLanguage { @InitialLanguage }
	    named @BypassNumber { dft }
            body @Body
        {

            def @SubAppendixNum
	    {
	      @BypassNumber @Dft {
		@SubAppendixNumbers @Then {
		    @AppendixShortNum @DotJoin @SubAppendixNumbers @Num
		    { @SubAppendixList&&@Tag @Open { num } }
		}
	      }
	    }

            def @SubAppendixTitle
	    {
		@InitialLanguage @Language { @RunningTitle @Dft @Title }
	    }

            def @EndSubSubAppendicesPlace { @Galley }

            macro @BeginSubSubAppendices
            {
		//@SubSubAppendixGap @SubSubAppendixList 1
		// @EndSubSubAppendicesPlace //
	    }

            def @EndSubSubAppendices force into
		{ @EndSubSubAppendicesPlace&&preceding }
	    {}

            def @SubSubAppendix force into { @SubSubAppendixList&&preceding }
		named @Tag {}
		named @Title {}
		named @RunningTitle { dft }
		named @InitialLanguage { @InitialLanguage }
		named @BypassNumber { dft }
		body @Body
            {

                def @SubSubAppendixNum
		{
		  @BypassNumber @Dft {
		    @SubSubAppendixNumbers @Then {
			@SubAppendixNum @DotJoin @SubSubAppendixNumbers @Num
			{ @SubSubAppendixList&&@Tag @Open { num } }
		    }
		  }
		}

	            @InitialLanguage @Language @SubSubAppendixHeadingFont @Font
		    @SubSubAppendixHeadingBreak @Break @Protect
		      { @SubSubAppendixNum @SubSubAppendixHeadingFormat @Title }
	        //  @NumberMarker @Tag { @Tag } @Value { @SubSubAppendixNum }
	        //  @SubSubAppendixList&&preceding @Tagged @Tag
	        //  @PageMarker&&preceding @Tagged @Tag
	        //  @SubSubAppendixInContents @ContentsEntry
		        indent { 6f }
		        number { @SubSubAppendixNum }
		        title { @InitialLanguage @Language @Title }
		        pagenum { @PageOf @Tag }
		//  @SubSubAppendixNumInTheorems @BeginAllCounters @SubSubAppendixNum
		//  @SubSubAppendixNumInDisplays @BeginDisplayCounter @SubSubAppendixNum
		//  @SubSubAppendixNumInFigures @BeginFigureCounter @SubSubAppendixNum
		//  @SubSubAppendixNumInTables @BeginTableCounter @SubSubAppendixNum
	        //  @InitialLanguage @Language @Body
            }

                @InitialLanguage @Language @SubAppendixHeadingFont @Font
		@SubAppendixHeadingBreak @Break @Protect
		  { @SubAppendixNum @SubAppendixHeadingFormat @Title }
            //  @NumberMarker @Tag { @Tag } @Value { @SubAppendixNum }
            //  @SubAppendixList&&preceding @Tagged @Tag
            //  @PageMarker&&preceding @Tagged @Tag
            //  @SubAppendixInContents @ContentsEntry
		    indent { 3f }
		    number { @SubAppendixNum }
		    title { @InitialLanguage @Language @Title }
		    pagenum { @PageOf @Tag }
	    //  @SubAppendixNumInTheorems @BeginAllCounters @SubAppendixNum
	    //  @SubAppendixNumInDisplays @BeginDisplayCounter @SubAppendixNum
	    //  @SubAppendixNumInFigures @BeginFigureCounter @SubAppendixNum
	    //  @SubAppendixNumInTables @BeginTableCounter @SubAppendixNum
            //  @InitialLanguage @Language @Body
            //  NonStart @Runner
	            @MajorNum { @AppendixLongNum }
	            @MajorTitle { @AppendixTitle }
	            @MinorNum { @SubAppendixNum }
	            @MinorTitle { @SubAppendixTitle }

        }

	    @InitialLanguage @Language @AppendixHeadingFont @Font 
	    @AppendixHeadingBreak @Break { @AppendixLongNum @AppendixHeadingFormat @Title }
	//  @NumberMarker @Tag { @Tag } @Value { @AppendixShortNum }
	//  @AppendixList&&preceding @Tagged @Tag
	//  @PageMarker&&preceding @Tagged @Tag
	//  @AppendixInContents @MajorContentsEntry
		number { @AppendixLongNum }
		title { @InitialLanguage @Language @Title }
		pagenum { @PageOf @Tag }
	//  @AppendixNumInTheorems @BeginAllCounters @AppendixShortNum
	//  @AppendixNumInDisplays @BeginDisplayCounter @AppendixShortNum
	//  @AppendixNumInFigures @BeginFigureCounter @AppendixShortNum
	//  @AppendixNumInTables @BeginTableCounter @AppendixShortNum
        //  @InitialLanguage @Language @Body
        //  NonStart @Runner
		@MajorNum { @AppendixLongNum }
		@MajorTitle { @AppendixTitle }
    }

@End @ReportLayout

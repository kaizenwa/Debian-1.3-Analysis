# Generated automatically from Makefile.in by configure.
#
# Makefile for printer filters
#
# The printer filters are localized for this system
#
CPP = gcc -E
CPPFLAGS =  -I.
SED = sed
RM = rm -f
LN = ln -s
CHMOD = chmod
prefix = /usr
exec_prefix = ${prefix}
bindir = ${exec_prefix}/bin
INSTALL = /bin/install -c
INSTALL_EXEC = ${INSTALL}
INSTALL_DATA = ${INSTALL} -m 644

FILTERS=	bj10e-filter       laserjet-filter    m8510-filter \
		bj200-filter       laserjetlo-filter  necp6-filter \
		deskjet-filter     lbp8-filter        oki182-filter \
		dj500-filter       lj250-filter       pj-filter \
		dj500c-filter      ljet2p-filter      pjxl-filter \
		dj550c-filter      ljet2plo-filter    pjxl300-filter \
		epson9-filter      ljet3-filter       ps300-filter \
		epson9c-filter     ljet4-filter       ps400-filter \
		epsonlq-filter     ljet4l-filter      ps600-filter \
		epsonlqc-filter    ljet4m-filter      r4081-filter \
		ibmpro-filter      ljet4ml-filter     tek4693-filter \
		jetp3852-filter    ljetplus-filter    tek4696-filter \
		la50-filter        ljetpluslo-filter \
		la75-filter        ln03-filter \
		psonly300-filter   psonly400-filter   psonly600-filter \
		cps300-filter	   cps400-filter      cps600-filter \
		cpsonly300-filter  cpsonly400-filter  cpsonly600-filter

.SUFFIXES:
.SUFFIXES:	.x .xc .h .xh .mh .xt

.x.xc:
	${SED} -e 's/~/~~SQU~~/g' -e "s/'/~~APO~~/g" -e 's/"/~~QUO~~/g' \
		-e 's/\\/~~BSL~~/g' -e 's/^#/~~~/' -e 's/^%/#/' \
		-e 's/^[ 	]*$$/~~BLANK~~/' < $< > $*.xc

.xh.mh:
	${SED} -e 's/~/~~SQU~~/g' -e "s/'/~~APO~~/g" -e 's/"/~~QUO~~/g' \
		-e 's/\\/~~BSL~~/g' -e 's/^#/~~~/' -e 's/^%/#/' \
		-e 's/^[ 	]*$$/~~BLANK~~/' < $< > $*.mh

.xc.xt:
	-${RM} $*.c
	${LN} $< $*.c
	${CPP} ${CPPFLAGS} $*.c > $*.xt
	${RM} $*.c

.xt:
	echo "#! ${bindir}/magicfilter" > $*
	${SED} -e '/^#/d' -e '/^[ 	]*$$/d' -e 's/^~~~/#/' \
		-e 's/^~~BLANK~~$$//' -e "s/~~APO~~/'/g" \
		-e 's/~~QUO~~/"/g' -e 's/~~BSL~~/\\/g' \
		-e 's/~~SQU~~/~/g' < $< >> $*
	${CHMOD} a+x $*

all:	depend ${FILTERS}

install: all
	for filter in ${FILTERS}; do \
		${INSTALL_EXEC} $$filter ${bindir}/$$filter; \
	done

clean:
	-${RM} *.c *.xc *.xt *.mh *-filter
distclean: clean
	-${RM} *~ Makefile filters.h filters2.h

# The dependencies the following defines are a little overly restrictive,
# but get the job done
depend:
	head -n `grep -n '^# DEPENDENCIES' Makefile | cut -d':' -f1 ` \
		Makefile > Makefile.tmp
	for xfile in *.x; do \
		echo $${xfile}c: *.xh | sed -e 's/\.xh/.mh/g' \
			>> Makefile.tmp; \
	done
	mv Makefile.tmp Makefile	

idepend:
	head -n `grep -n '^# DEPENDENCIES' Makefile.in | cut -d':' -f1 ` \
		Makefile.in > Makefile.in.tmp
	for xfile in *.x; do \
		echo $${xfile}c: *.xh | sed -e 's/\.xh/.mh/g' \
			>> Makefile.in.tmp; \
	done
	mv Makefile.in.tmp Makefile.in	

# DEPENDENCIES -- do not delete this line --
bj10e-filter.xc: genericps.mh stdconv.mh stdrejects.mh
bj200-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cps300-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cps400-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cps600-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cpsonly300-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cpsonly400-filter.xc: genericps.mh stdconv.mh stdrejects.mh
cpsonly600-filter.xc: genericps.mh stdconv.mh stdrejects.mh
deskjet-filter.xc: genericps.mh stdconv.mh stdrejects.mh
dj500-filter.xc: genericps.mh stdconv.mh stdrejects.mh

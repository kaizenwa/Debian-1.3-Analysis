Quick installation instructions:

* Run "configure".  If you want to put the files in any other directory
  tree than /usr/local (i.e. /usr/local/bin, /usr/local/man) then call
  it with the option --prefix=<directory-prefix>, for example:

	./configure --prefix=/usr

  See the file INSTALL for more information.

* Run "make".

* Run "make install".

* If you want to install all the sample printer filters (there are 40
  of them in the 1.1 release) then do "make install_filters".
  Otherwise pick the one(s) you want from the "filters" directory and
  put them in the appropriate location.  Make sure they are executable
  (they can be considered "scripts", with magicfilter being the interpreter.)

-----------------------------------------------------------------------------

The following instructions apply only to systems using the BSD
printing system.  Linux and BSD-derived OSes all use the BSD printing
system, some System V-based systems such as IRIX do as an option
whereas others, such as Solaris, do not.

If in doubt, check for the existence of the file /etc/printcap.

NOTE: The standard BSD print daemon does *not* support filters for
remote printers, hence the instructions below apply only to systems
which have the printers physically attached.  A version of lpd which
does not have this problem is available as a part of the LPRng package
from ftp://dickory.sdsu.edu/pub/LPRng/.  To use filters with remote
printers for LPRng, specify the "bqfilter" flag in /etc/printcap, for
example:

  # Remote HP LaserJet 4 (possibly connected via built-in Ethernet)
  remoteprinter:\
	:lp=:rm=printserver:rp=remoteprinter:\
	:sd=/var/spool/lpd/remoteprinter:\
	:bqfilter:mx#0:\
	if=/usr/local/bin/ljet4-filter:

-----------------------------------------------------------------------------

* Edit your /etc/printcap file to contain a call to the appropriate
  printer filter in the "if" entry of each local printer.  This will
  typically look something like this:

  pencil|lp|PostScript|ljet4|HP LaserJet 4:\
	:lp=/dev/lp1:sd=/var/spool/lpd/pencil:sh:mx#0:\
	:if=/usr/local/bin/ljet4-filter:

  crayon|dj550c|color|HP DeskJet 550C:\
	:lp=/dev/lp2:sd=/var/spool/lpd/crayon:sh:mx#0:\
	:if=/usr/local/bin/dj550c-filter:

  Note the alias "lp" for the default (text) printer, and "PostScript"
  for the preferred PostScript printer.

  IMPORTANT: If you're on a really old version of UNIX which doesn't
  support the so-called "#!-hack" for selecting an interpreter for
  your filters, this form of installation does not work.  Instead, you
  need to make your /etc/printcap file look something like this:

  pencil|lp|PostScript|ljet4|HP LaserJet 4:\
	:lp=/dev/lp1:sd=/var/spool/lpd/pencil:sh:mx#0:\
	:if=/usr/local/bin/magicfilter:\
	:af=/usr/local/bin/ljet4-filter:

  To test if your OS supports the #!-hack, type at the command line:

	/usr/local/bin/XXXX-filter < /dev/null

  ... where XXXX-filter is any installed magic filter.  If you get an
  error message, your OS does *not* support the #!-hack.

  Linux, all BSD-derived OSes and System V R3 and later all support
  the #!-hack.

* Kill and restart lpd.  Your printer filter should now be working.

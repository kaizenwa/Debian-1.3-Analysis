#
#  Imakefile for the calctool lib directory.
#
#  @(#)Imakefile.lib 1.1 90/03/01
#
#  Provided by Didier Poirot, Chorus Systemes  (dp@chorus.fr).
#
#  Note that to use this Imakefile, the current calctool directory
#  layout needs to be rearranged as follows:
#
#  Files in the main directory:
#
#  Imakefile.main, renamed to Imakefile.
#
#  calctool.1              mathlib.c            Imakefile
#  calctool.c              mathlib.h            Makefile
#  calctool.color.icon     calctool.help        patchlevel.h
#  calctool.icon           x11.c                README                  
#  TODO                    help.cursor
#
#  Files in a new sub-directory called lib:
#
#  Imakefile.lib (this file), renamed to Imakefile.
#
#  Imakefile       color.h         functions.c     graphics.c
#  Makefile        display.c       get.c           calctool.h 
#  extern.h 
# 
#  Permission is given to distribute these sources, as long as the 
#  copyright messages are not removed, and no monies are exchanged. 
# 
#  No responsibility is taken for any errors inherent either in the comments
#  or the code of this program, but if reported to me then an attempt will
#  be made to fix them.

#include <Library.tmpl>

SOCALCTOOLREV = SharedCalctoolRev

        LIBNAME = ./lib/libCalctool.a
        CALCLIB = $(LIBNAME)
       INCLUDES = -I.. -I$(TOP)
   INSTALLFLAGS = $(INSTINCFLAGS)
     LINTLIBDIR = ./lib
      USRLIBDIR = ./lib

HEADERS = calctool.h color.h extern.h

SRCS =  graphics.c display.c functions.c get.c

OBJS =  graphics.o display.o functions.o get.o

all::

NormalLibraryObjectRule()

NormalLibraryTarget(Calctool,$(OBJS))
LintLibraryTarget(Calctool,$(SRCS))
InstallLibrary(Calctool,$(USRLIBDIR))
InstallLintLibrary(Calctool,$(LINTLIBDIR))

BuildIncludes($(HEADERS),Calctool,..)

MakeDirectories(install,$(INCDIR)/Calctool)

InstallMultiple($(HEADERS),$(INCDIR)/Calctool)

DependTarget()

NormalLintTarget($(SRCS))


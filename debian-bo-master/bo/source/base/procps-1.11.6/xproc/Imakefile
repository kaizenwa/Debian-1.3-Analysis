#define InstallProgramAlias(progname,alias,dest)    @@\
install::                                           @@\
	-(cd $(DESTDIR)dest; \                      @@\
		RemoveFile(alias); \                @@\
		$(LN) progname alias)

        DEPLIBS = XawClientDepLibs
LOCAL_LIBRARIES = XawClientLibs -L../proc -lproc
           SRCS = xload.c get_load.c get_idle.c get_mem.c MemStripChart.c
          LOBJS = xload.o get_load.o get_idle.o get_mem.o MemStripChart.o
          COBJS = XConsole.o
  INSTROOTFLAGS = 
 OSMAJORVERSION = OSMajorVersion
 OSMINORVERSION = OSMinorVersion
        DEFINES = -DOSMAJORVERSION=$(OSMAJORVERSION) -DOSMINORVERSION=$(OSMINORVERSION) 
      CCOPTIONS = -O4 -Wall
  LOCAL_LDFLAGS = -s

AllTarget(xload XConsole)

NormalProgramTarget(xload,$(LOBJS),$(DEPLIBS),$(LOCAL_LIBRARIES),NullParameter)
SetUIDProgramTarget(XConsole,$(COBJS),$(DEPLIBS),$(LOCAL_LIBRARIES),NullParameter)

InstallProgram(xload,$(BINDIR))

InstallProgramAlias(xload, xidle, $(BINDIR))
InstallProgramAlias(xload, xmem, $(BINDIR))

InstallProgramWithFlags(XConsole,$(BINDIR),-o 0 -m 4555)

InstallManPage(xload,$(MANDIR))
InstallManPage(xmem,$(MANDIR))
InstallManPage(xidle,$(MANDIR))
InstallManPage(XConsole,$(MANDIR))

InstallAppDefaults(XLoad)
InstallAppDefaults(XMem)
InstallAppDefaults(XIdle)

DependTarget()

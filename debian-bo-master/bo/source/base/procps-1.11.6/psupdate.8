.\"             -*-Nroff-*-
.\"  This page Copyright (C) 1993 Michael K. Johnson, johnsonm@sunsite.unc.edu
.\"  Rewritten: 1995, 1996 Jeffrey A. Uphoff <juphoff@nrao.edu>
.\"  Freely distributable under the terms of the GPL
.TH PSUPDATE 8 "6 Jan 1996 " "Cohesive Systems & NRAO" "Linux Programmer's Manual"
.SH NAME
psupdate \- update the ps database of kernel offsets
.SH SYNOPSIS
psupdate [path to uncompressed kernel image]
.SH DESCRIPTION
\fBpsupdate\fP updates the /boot/psdatabase file to correspond to the
current kernel image system map file,
/usr/src/linux/vmlinux by default.
.SS Options
If your system map file is not /usr/src/linux/vmlinux, you may give the
name of an alternate map file on the command line.  This is the only
argument currently supported.
.PP
.SH FILES
.ta
/etc/psdatabase
.br
/usr/src/linux/vmlinux
.fi

.SH NOTE
The database produced by this version of psupdate is not compatible with
the one produced by the kmem-based psupdate.  The procps version does
not need some of the things contained in the kmemps database, so the
procps database is slightly smaller and has a different "magic" string.
Also, the kmem-based version (as of v1.2.9) is not quite as up-to-date
in some respects.  If, for some obscure reason, you want to use both the
proc- and kmem-based versions of the ps suites, you should keep two
different databases and update both of them at boot (or
kernel-compilation) time.  (Please note that kmemps, by default, puts
its database in a different place anyway: /var/run.)

.SH "SEE ALSO"
.BR ps (1)

.SH AUTHORS
Original code written by Branko Lankaster, horribly munged by Michael
K. Johnson in a desperate effort to add /etc/psdatabase support to
procps.  Jeff Uphoff added the code to handle ELF-compiled kernels and
rewrote much of the other code.  Parts of this are still being
re-written, and the support in ps for alternate namelists will hopefully
be added soon.

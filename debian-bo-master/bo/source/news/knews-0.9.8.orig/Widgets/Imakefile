/* This software is Copyright 1995, 1996 by Karl-Johan Johnsson
 *
 * Permission is hereby granted to copy, reproduce, redistribute or otherwise
 * use this software as long as: there is no monetary profit gained
 * specifically from the use or reproduction of this software, it is not
 * sold, rented, traded or otherwise marketed, and this copyright notice is
 * included prominently in any copy made. 
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. ANY USE OF THIS
 * SOFTWARE IS AT THE USERS OWN RISK.
 */
#include "../knews.tmpl"

WIDGETS	= \
	ArtText.o ArtTree.o CloseSh.o Dialogue.o FileSel.o         \
	Login.o Manager.o Menu.o MenuG.o MenuKnapp.o MenuShell.o   \
	Notice.o Knapp.o Message.o PullRight.o Sash.o Scrollable.o \
	ScrBar.o ScrList.o SeparatorG.o Shadow.o StringG.o         \
	TextField.o Toggle.o ToggleG.o Util.o

LAYOUT	= Layout.o laylex.o laygram.o

NormalLibraryTarget(Widgets, $(WIDGETS) $(LAYOUT))

/*
 *   Rules for Keith Packard's Layout widget
 */

depend::	laygram.c /*laylex.c*/

laygram.c:	laygram.y
	$(YACC) -d laygram.y
	sed 's/yy/LayYY/g' y.tab.c > laygram.c
	sed 's/yy/LayYY/g' y.tab.h > laygram.h
	rm -f y.tab.c y.tab.h

clean::
	-rm -f laygram.c laygram.h

/*
 *laylex.c:	laylex.l
 *	lex laylex.l
 *	sed 's/yy/LayYY/g' lex.yy.c > laylex.c
 *	rm lex.yy.c
 */

laylex.c:	laylex_new.c laygram.c
	sed 's/yy/LayYY/g' laylex_new.c > laylex.c

clean::
	-rm -f laylex.c


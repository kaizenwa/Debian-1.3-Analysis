/* This software is Copyright 1995 by Karl-Johan Johnsson
 *
 * Permission is hereby granted to copy, reproduce, redistribute or otherwise
 * use this software as long as: there is no monetary profit gained
 * specifically from the use or reproduction of this software, it is not
 * sold, rented, traded or otherwise marketed, and this copyright notice is
 * included prominently in any copy made. 
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. ANY USE OF THIS
 * SOFTWARE IS AT THE USER'S OWN RISK.
 */
#include "../knews.tmpl"

#include "../configure.h"
#undef DOMAIN_NAME
#undef MAIL_COMMAND
#undef EDIT_COMMAND

XMU_LIB		=
XPM_LIB		=
REGEXP_LIB	=
REGEXP_INCLUDES	=

#if !HAVE_POSIX_REGEXPS
REGEXP_INCLUDES	= -I../regexp
REGEXP_LIB	= -L../regexp -lregexp
#endif

#if HAVE_XMU
XMU_LIB		= -lXmu
#endif

#if HAVE_XPM
XPM_LIB		= -lXpm
#endif

#if !HAVE_JPEG
JPEG_LIB	=
#endif

#if !HAVE_PNG
PNG_LIB		=
#endif

INCLUDES	= -I../Widgets $(REGEXP_INCLUDES) $(KNEWS_INCLUDES)

LOCAL_LIBRARIES	= \
	-L../Widgets -lWidgets $(REGEXP_LIB) $(JPEG_LIB) $(PNG_LIB) \
	$(XMU_LIB) $(XPM_LIB) $(XTOOLLIB) $(XLIB)
DEPLIBS		= $(DEPXLIBS) ../Widgets/libWidgets.a

SRCS		= \
	actions.c ahead.c bg.c cache.c charset.c child.c color.c       \
	connect.c decode.c domain.c expand.c file.c font.c ftp.c       \
	gif.c jpeg.c k_action.c k_edit.c k_file.c k_kill.c k_node.c    \
	mailcap.c main.c misc.c newsrc.c p_attach.c p_check.c p_menu.c \
	p_popup.c p_post.c p_setup.c parse.c partial.c png.c procs.c   \
	read.c resource.c save.c search.c server.c sort.c sysdeps.c    \
	tag.c thread.c util.c uudecode.c viewer.c widgets.c xutil.c

OBJS		= \
	actions.o ahead.o bg.o cache.o charset.o child.o color.o       \
	connect.o decode.o domain.o expand.o file.o font.o ftp.o       \
	gif.o jpeg.o k_action.o k_edit.o k_file.o k_kill.o k_node.o    \
	mailcap.o main.o misc.o newsrc.o p_attach.o p_check.o p_menu.o \
	p_popup.o p_post.o p_setup.o parse.o partial.o png.o procs.o   \
	read.o resource.o save.o search.o server.o sort.o sysdeps.o    \
	tag.o thread.o util.o uudecode.o viewer.o widgets.o xutil.o

ComplexProgramTarget(knews)
InstallAppDefaults(Knews)

.TH FGET 1 "27 January 1993"
.SH NAME
fgrabcmd, fgrab \- download files from the FSP database
.SH SYNOPSIS
.B fgrabcmd
[-f|u|t|n|a]
.br
.B fgrabcmd
[-f|u|t|n|a]
.I filename
\&.\|.\|.
.LP
.B fgrab
[-f|u|t|n|a]
.br
.B fgrab
[-f|u|t|n|a]
.I filename
\&.\|.\|.
.SH DESCRIPTION
.LP
When used without arguments, a list of file names is read from the
standard input.  When arguments are given, the arguments are taken
to be the list of file names.  For each file named in the list,
.B fgrabcmd
copies the file to the client's current working directory in the
client machine, and deletes it from the FSP database.
It is guaranteed that multiple concurrent grab actions appear to be
mutually exclusive.
.B fgrabcmd
will perform
.B csh
file name globbing based on file and directory information
obtained from the FSP database.
.LP
Since user's command shells generally cannot do the proper globbing for
this program, it is recommended that user defines a shell alias or
function to turn off command shell globbing before running this program.
.B csh
example:
.LP
.nf
alias fgrab \e(set noglob\e; exec fgrabcmd \e!\e*\e)
.fi
.SH ARGUMENTS
.LP
.B -f
-- forces overwriting of files during an fget.
.LP
.B -u
-- forces unique filenames (appends a unique integer to each copy)
.LP
.B -t
-- forces overwrite of local file if download is successful.
.LP
.B -n
-- forces
.B fgetcmd
to refuse to overwrite files with identical names.
.LP
.B -a
-- forces
.B fgetcmd
to try and append data to a partial file.
.LP
The default mode is for
.B fgetcmd
to overwrite files after a successful download.  This has the drawback of
possibly leaving behind temporary files with names like
.I .fsp.temp.####
.SH ENVIRONMENT
.LP
The following variables associate this program with a FSP database:
.TP
.B FSP_HOST
The name or internet number of the machine with the FSP server.
.TP
.B FSP_PORT
The port number of the UDP socket used by the FSP server.
.TP
.B FSP_LOCALPORT
The port number of the UDP socket used by FSP client utilities.
The only reason to define this variable is to ensure mutual
exclusion of client commands when none of the udp packet
multiplexing mechanisms are enabled during compile time.
You may pick any number not currently used for other purposes.
.TP
.B FSP_DIR
The current working directory of the client in the FSP database.
The root of the database is /.
.TP
.B FSP_TRACE
If this variable is set,   
.B fgrabcmd
will display the number of kilo-byte blocks transferred as transfer 
progresses.  Also shown is an indicator of network speed in the form
of characters per second.
.SH "BUGS"
If
.B fgrab
is interrupted, the file being copied is deleted nonetheless.
.TP
.B FSP_LOCAL_DIR
If this variable is set, it contains the local working directory where
all incoming files will be placed.
.TP
.B FSP_TIMEOUT
If this variable is set, it contains the timeout value.  The default value is
4.  No function if program was compiled without the client timeout code.
.SH "SEE ALSO"
.PD
fcatcmd(1), fcdcmd(1), fgetcmd(1), fgrabcmd(1), flscmd(1), fmkdir(1),
fprocmd(1), fput(1), frmcmd(1), frmdircmd(1), fver(1), fducmd(1),
fhostcmd(1), fspd(1), fsp_prof(5), ffindcmd(1)

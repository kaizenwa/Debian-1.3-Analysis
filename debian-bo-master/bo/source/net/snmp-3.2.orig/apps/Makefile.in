#
# Makefile for snmpget, snmpgetnext, snmpwalk, snmpstatus, snmptest 
# snmptrap snmptrapd snmpd
#

ORIGTARG=	snmpget snmpd snmpwalk snmpbulk authkey

TARG=	snmpget snmpgetnext snmpwalk snmpstatus snmptest \
	snmpset snmptrap snmptrapd snmpd authkey 

AGENT_OBJS = snmpd.o kernel.o snmp_agent.o snmp_vars.o \
	snmp_var_route.o snmp_config.o route_write.o \
	hr_processor_load.o

LIBS=	-L../snmplib -lsnmp
CFLAGS= @DEBUG@ -I../snmplib

all: $(TARG)

authkey:    authkey.o
	${CC} -o $@ authkey.o ${LIBS}

snmpget:    snmpget.o
	${CC} -o $@ snmpget.o ${LIBS}

snmpbulk:    snmpbulk.o
	${CC} -o $@ snmpbulk.o ${LIBS}

snmpgetnext:    snmpgetnext.o
	${CC} -o $@ snmpgetnext.o ${LIBS}

snmpwalk:    snmpwalk.o
	${CC} -o $@ snmpwalk.o ${LIBS}

snmpstatus:    snmpstatus.o
	${CC} -o $@ snmpstatus.o ${LIBS}

snmptest:    snmptest.o
	${CC} -o $@ snmptest.o ${LIBS}

snmpset:    snmpset.o
	${CC} -o $@ snmpset.o ${LIBS}

snmptrap:    snmptrap.o
	${CC} -o $@ snmptrap.o ${LIBS}

snmptrapd:    snmptrapd.o
	${CC} -o $@ snmptrapd.o ${LIBS}

snmpd:		$(AGENT_OBJS)
	if [ -f snmpd ] ; then rm snmpd ; else true ; fi
	${CC} -o $@ $(AGENT_OBJS) $(LIBS)

clean:
	rm -f core *.o ${TARG}

install:
	cp ${TARG} ../bin


# Default top-level directories in which to install architecture-
# specific files (exec_prefix) and machine-independent files such
# as scripts (prefix).  The values specified here may be overridden
# at configure-time with the --exec-prefix and --prefix options
# to the "configure" script.

prefix =	@prefix@
exec_prefix =	@exec_prefix@

# Directory containing library files:
LIB_DIR =       $(exec_prefix)/lib

# Directory in which to install scotty library files.
SCOTTY_DIR =	$(LIB_DIR)/scotty

# Directory in which to install agent scripts.
AGENT_DIR =	$(SCOTTY_DIR)/agents

# Top-level directory for manual entries:
MAN_DIR =       $(prefix)/man

# Directory in which to install manual entry for user commands:
MAN1_DIR =      $(MAN_DIR)/man1

# Directory in which to install manual entry for admin commands:
MAN8_DIR =      $(MAN_DIR)/man8

# Some versions of make, like SGI's, use the following variable to
# determine which shell to use for executing commands:
SHELL =		/bin/sh

#----------------------------------------------------------------
# The information below is modified by the configure script when
# Makefile is generated from Makefile.in.  You shouldn't normally
# modify any of this stuff by hand.
#----------------------------------------------------------------

INSTALL =		@INSTALL@
INSTALL_PROGRAM =	@INSTALL_PROGRAM@
INSTALL_DATA =		@INSTALL_DATA@
SRC_DIR =		@srcdir@
VPATH =			@srcdir@

#----------------------------------------------------------------
# The information below should be usable as is.  The configure
# script won't modify it and you shouldn't need to modify it
# either.
#----------------------------------------------------------------

SRCS = tubs.tcl mlm.tcl mlm_scripts.tcl http.tcl www.tcl

all: tclIndex

tclIndex: $(SRCS)
	scotty -nc 'cd $(SRC_DIR); auto_mkindex . *.tcl; exit'

install: tclIndex
	@if [ ! -d $(AGENT_DIR) ] ; then \
		mkdir -p $(AGENT_DIR); \
	else true; \
	fi
	$(INSTALL_PROGRAM) $(SRC_DIR)/snmpd $(AGENT_DIR)
	for f in README tclIndex $(SRCS) ; do \
		$(INSTALL_DATA) $(SRC_DIR)/$$f $(AGENT_DIR); \
	done

clean:
	@rm -f core *~ *.bak lmake.??? 

distclean: clean
	@rm -f Makefile TAGS


Sun Oct 29 19:55:02 1995  Juergen Schoenwaelder  <schoenw@data>

	* init.c (Scotty_Init):
	  Read the global Tcl variable scotty_rcFileName.

	* Makefile.in:
	  Dynamic loading (tested on SunOS, IRIX, Linux, FreeBSD).

Sat Oct 28 21:52:48 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* icmp.c (ForkNtping):
	  The SCOTTY_NTPING environment variable can be used to
	  overwrite the compiled in location of ntping.

Fri Oct 20 12:34:45 1995  Juergen Schoenwaelder  <schoenw@data>

	* sunrpc.c:
	  Replaced all uses of clnt_create() with clnttcp_create()
	  or clntudp_create(). This is hopefully more portable.

Mon Oct 16 23:28:15 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* job.c (Schedule):
	  Jobs that create Tcl errors are now removed automatically.
          This is consistend with the fileevent command and avoids 
          never ending error loops.

Sat Sep 23 20:02:15 1995  Juergen Schoenwaelder  <schoenw@asterix>

	* udp.c (UdpReceive):
	  Added some code to convert non-printable characters
	  into the the \x?? notation, where ?? is a two digit
	  hexadecimal number. Every \ character is represented 
	  by two \\ characters.

Thu Sep 14 19:34:03 1995  Juergen Schoenwaelder  <schoenw@data>

	* sunrpc.c (SunrpcMount, SunrpcExports):
	  Use a TCP connection to query the mount daemon. This 
	  allows to retrieve very large results.

Tue Sep 12 16:37:57 1995  Juergen Schoenwaelder  <schoenw@data>

	* job.c (Schedule):
	  Changing the command bound to a job is now done in two
	  parts: First accept the new command and then put the
	  command in place inside of the scheduler. This fixes a
	  race condition where the was changed which was currently
	  evaluated.

Mon Sep 11 20:39:18 1995  Juergen Schoenwaelder  <schoenw@data>

	* udp.c (UdpMulticast):
	  Various fixes/cleanups. Multicasts now work at least on
	  SunOS 4.1.3, FreeBSD 2.0.5 and a bit on Linux 1.3.25.

Fri Jul 28 12:12:27 1995  Juergen Schoenwaelder  <schoenw@data>

	* rpc.c (RpcProcessProc):
	  We are not calling Tcl_Eval() because of possible security
	  holes with $ substitution and bracketed command evaluation.

Thu Jul 27 14:31:57 1995  Juergen Schoenwaelder  <schoenw@data>

	* sunrpc.c (SunrpcProbe):
	  Fixed a silly byte-order bug by adding a htons for our
	  Intel friends.

Sat Jun 17 20:22:05 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* job.c:
	  Major rewrite. We now use an object-oriented syntax
	  and there is also a wait option.
	  *** POTENTIAL INCOMPATIBILITY ***

Wed Jun 14 20:00:13 1995  Juergen Schoenwaelder  <schoenw@data>

	* sunrpc.c (SunrpcEtherd):
	  Added some code to extract the packets per protocol and
	  the packet size distribution reported by the etherd.

Wed May 17 23:45:44 1995  Juergen Schoenwaelder  <schoenw@data>

	* ntp.c (Scotty_NtpCmd):
	  Added an error return if called without any arguments.

Sun May 14 12:31:54 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* icmp.c (Scotty_IcmpCmd):
	  We do not accept multiple arguments anymore.
	  *** POTENTIAL INCOMPATIBILITY ***

	* icmp.c (ReadAnswer):
	  New and more efficient function to read reply from ntping.

Fri May 12 19:03:36 1995  Juergen Schoenwaelder  <schoenw@data>

	* http.c (HttpGet):
	  The http get command now writes into a file instead
	  of a Tcl variable thus allowing binary data transfer.
	  *** POTENTIAL INCOMPATIBILITY ***

Tue May  9 01:47:21 1995  Juergen Schoenwaelder  <schoenw@data>

	* ined.c (Scotty_InedCmd):
	  The auto_path variable was not initialized correctly
	  as TKINED_PATH includes a colon separated list of

Wed Apr 26 09:01:47 1995  Juergen Schoenwaelder  <schoenw@data>

	* netdb.c, sunrpc.c:
	  Include rpc/netdb.h if HAVE_RPC_NETDB_H is true.

Thu Apr  6 00:10:51 1995  Juergen Schoenwaelder  <schoenw@data>

	* http.c:
	  Added support for http binding. Need more work.

Thu Mar 23 09:38:38 1995  Juergen Schoenwaelder  <schoenw@data>

	* sunrpc.c (Scotty_SunrpcCmd):
	  The protocol of the probe command was parsed from a wrong 
	  argv element (Thanks to Doug.Huges@End.Auburn.EDU).

Fri Mar 10 09:45:04 1995  Juergen Schoenwaelder  <schoenw@data>

	* Replaced all xmalloc() calls etc. with ckalloc() etc.

	* ined.c, rpc.c, icmp.c: 
	  Made xread() and xwrite() a static function and removed
	  xread.[hc] completely.

	* Moved most of the sources into the tcpip subdirectory.

Wed Mar  8 13:45:57 1995  Juergen Schoenwaelder  <schoenw@data>

	* icmp.c (Scotty_IcmpCmd):
	  We now accept 0 retries as a default value.

Tue Mar  7 22:42:00 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* configure.in:
	  Added a switch --with-gdmo to compile the gdmo parser.
	  Moved the mib directory back to the snmp directory and
	  created a mib repository in the gdmo directory.

Tue Feb 21 20:16:13 1995  Juergen Schoenwaelder  <schoenw@data>

	* job.c:
	  Fixed a bug reported by andy@is.net (Andy Shelley). An
	  uninitialized last scheduling time was substracted if
	  job list was called before the first job had a chance
	  to run.

Sun Feb 19 13:50:13 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* Created a doc directory to hold all manual pages etc.

Tue Feb 14 19:29:28 1995  Juergen Schoenwaelder  <schoenw@data>

	* Centralized some includes to make ports easier.

Thu Feb  9 16:12:25 1995  Juergen Schoenwaelder  <schoenw@data>

	* Added a configure option for msqltcl. Cool stuff.

Sun Jan 29 10:14:21 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* ined.c:
	  Added new tkined object types HTML and DATA.

Mon Jan 23 16:18:49 1995  Juergen Schoenwaelder  <schoenw@data>

	* configure.in:
	  More checks to get -lsocket, -lnsl, -lrpcsvc stuff right.
	  (Thanks to Ross Wakelin <r.wakelin@march.co.uk>).
	  Recursively configure the ntping source.

Thu Jan 19 18:16:58 1995  Juergen Schoenwaelder  <schoenw@data>

	* dns.c (DnsDoQuery): 
	  Removed some hard wired quotings that are now done
	  automatically by appending elements.

Sat Jan 14 08:10:31 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* Removed the syslogd and netguard sources. They are now
	  available as netguard-0.1.tar.gz and syslogd-0.1.tar.gz
	  from ftp.ibr.cs.tu-bs.de/pub/local/tkined/contrib.

	* dns.c (DnsIsNumAddr):
	  Strikter checks for invalid arguments.
	  *** POTENTIAL INCOMPATIBILITY ***

	* udp.c (UdpMulticast):
	  Added the patch by Sam Shen (sls@mh1.lbl.gov) which allows
	  multicasts (tested on Solaris-2.3 and Linux-1.1.81).

Fri Jan 13 14:53:36 1995  Juergen Schoenwaelder  <schoenw@data>

	* clock.c:
	  Removed the nslook command. An emulation is in init.tcl.

	* netdb.c: 
	  Wrote a netdb command to access basic networking infos
	  in tcl.

	* config.h
	  Changed the autoconfiguration to use config.h files.

	* scotty.h
	  Moved some standard #includes into scotty.h.

Mon Jan  9 19:03:00 1995  Juergen Schoenwaelder  <schoenw@data>

	* icmp.c:
	  Rewrote the argument parsing code so that you always
	  must define the operation separated from the options.
	  *** POTENTIAL INCOMPATIBILITY ***

Mon Jan  9 10:08:54 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* ntp.c, dns.c
	  Cleanup of the command parsing code. The option (-timeout,
	  -retries, -server) keep their state now.
          *** POTENTIAL INCOMPATIBILITY ***

Sun Jan  8 15:58:50 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* Makefile.in:
	  The install target now installs scotty.h and libscotty.a.

	* Renamed most C functions to follow the Tcl coding style.

	* scotty.c:
	  Major cleanup. I replaced the command processing with the
	  code from tkMain.c. This makes the behaviour identical to
	  tclsh and wish.

Sat Jan  7 13:04:38 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* rpc.c:
	  Cleanup of unused code.

Tue Jan  3 21:11:45 1995  Juergen Schoenwaelder  (schoenw at sulu)

	* Replaced the scottyerror error handling proc with tkerror 
	  as we now use the tk event loop.

	* ined.c:
	  A received command that is not processed imediately 
	  schedules a time event to flush the queue.

Thu Dec 29 14:05:43 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* Upgraded to tk4.0. Replaced the addinput/removeinput command
	  with the new tk fileevent command and removed the select 
	  command since we now use the tk event loop. The sleep command
	  is obsolete now since after can do the same thing. A sleep
	  is defined in init.tcl for compatibility.
	  *** POTENTIAL INCOMPATIBILITY ***

Mon Dec 19 15:50:20 1994  Juergen Schoenwaelder  <schoenw@data>

	* scotty-1.2.0

	* init.tcl:
	  Use the global variable scotty_mibs to define the default
	  set of SNMP mibs. This allows modifications using 
	  site/init.tcl.

Fri Dec 16 13:19:38 1994  Juergen Schoenwaelder  <schoenw@data>

	* tcp.c (tcp_close): 
	  Added a missing call to shutdown().

Wed Dec  7 11:27:48 1994  Juergen Schoenwaelder  <schoenw@kastor>

	* ined.c, scotty.c:
	  Moved the ined initialization into inedCmd() so that it is
	  possible to write scwish scripts for tkined by calling 
	  something like `catch {ined}' at the top of the script.

Wed Dec  7 06:23:16 1994  Juergen Schoenwaelder  <schoenw@data>

	* scotty.c:
	  Removed the -v option which seems to be unused.

Sun Dec  4 12:16:31 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* rpc.c:
	  Replaced all addinput/removeinput calls by an appropriate
	  call to tcl C interface of the event handler.

	* Makefile.in:
	  Added a check for libtk.a and libX11.a.

Sat Dec  3 14:13:57 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* Makefile.in:
	  Create a libscotty.a library which can be linked to
	  different tcl interpreters.

	* init.tcl:
	  Source $scotty_lib/site/init.tcl for site specific 
	  initializations. Added a check and a warning message
	  if the after, addinput or removeinput command is missing.

	* xread.c:
	  New file containing xread() and xwrite().

	* init.c:
	  New file just containing Scotty_Init() to support hyper 
	  extended wishes. Added a target to build scwish binary.

	* event.c, job.c, ined.c, scotty.c, tcp.c, udp.c, sunrpc.c,
	  ntp.c, rpc.c, http.c: 
	  Fixed / added function prototypes.

Thu Nov 24 12:16:50 1994  Juergen Schoenwaelder  <schoenw@data>

	* Moved the mibs directory below the toplevel directory
	  because ULTRIX install is brain damaged (sorry).

Sun Nov 20 17:19:27 1994  Juergen Schoenwaelder  <schoenw@sol>

	* Updated the configure stuff to autoconf-2.1.

Fri Nov 18 16:32:55 1994  Juergen Schoenwaelder  <schoenw@data>

	* Removed the --with-snmp option as the snmp stack should
	  run on almost any UNIX machine.

Thu Nov 17 09:42:54 1994  Juergen Schoenwaelder  <schoenw@data>

	* Calling scottyerror in ined.c when a command received 
	  from the tkined editor fails.

Sun Nov 13 12:30:16 1994  Juergen Schoenwaelder  <schoenw@data>

	* Automatic loading of all mib definitions is only done
	  when the first mib command is no load command.

Tue Nov  8 01:06:03 1994  Juergen Schoenwaelder  <schoenw@achill>

	* Initialize tcl_interactive before the calling Tcl_AppInit()
	  Added some minor defines to better integrate with tclX.

Wed Oct 26 13:07:52 1994  Juergen Schoenwaelder  <schoenw@data>

	* Added some magic to init.tcl to load mib definitions
	  only when the mib command is actually used.

Sun Oct 23 17:21:13 1994  Juergen Schoenwaelder  <schoenw@data>

	* Moved the xmalloc() functions to xmalloc.c.

Fri Oct 21 22:05:41 1994  Juergen Schoenwaelder  <schoenw@data>

	* Fixed a bug in event.c. Tk_DeleteFileHandler() did not
	  close the FILE handle.

Sat Sep  3 11:05:37 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* Added an initialization file init.tcl that is expected
	  to live in /usr/local/lib/scotty. It will be used to
	  customize the SNMPv2 software.

Mon Aug 29 22:32:13 1994  Juergen Schoenwaelder  (schoenw@data)

	* Fixed a bug in event.c handler which did not allow
	  to redefine an addinput handler.

Sun Aug 28 19:36:42 1994  Juergen Schoenwaelder  (schoenw@data)

	* Fixed a bug in ined.c where I must have overlooked to
	  rename a TOOL to a MENU object.

Fri Aug 26 16:24:00 1994  Juergen Schoenwaelder  (schoenw@data)

	* scotty-1.0

	* Some last minute updates in ntp.c to retrieve the
	  offset to the ntp peer by Erik.

Mon Aug 22 13:39:15 1994  Juergen Schoenwaelder  (schoenw@data)

	* Renamed the ida and idb subcommand to src and dst
	  in ined.c.

Sun Aug 14 18:33:01 1994  Juergen Schoenwaelder  (schoenw@data)

	* ntp.c adds a somewhat limited command to query some
	  network time protocol stats.

Fri Aug 12 18:30:10 1994  Juergen Schoenwaelder  (schoenw@data)

	* Updated ined.c to support the new strip- and barchart 
	  objects.

Mon Aug  8 12:00:27 1994  Juergen Schoenwaelder  (schoenw@data)

	* Fixed a bug in event.c that caused core dumps on some 
	  machines (AIX, LINUX) when an event handler installed 
	  with Tk_CreateFileHandler() was invoked.

Tue Aug  2 22:29:49 1994  Juergen Schoenwaelder  (schoenw@data)

	* Added code to close unused file descriptors after forking
	  a new ntping process.

	* Added a socketpair(2) replacement using pipe(2) for SCO 
          based on a patch by Juergen Luksch (luksch@telenet.de).

	* Added some new stuff to configure.in needed by SCO and
	  some other ununsual OSs.

	* Fixed a bug in scotty.c to remove the eventhandler for
	  stdin when EOF is reached.

Tue Jul 26 21:40:09 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Changed the configure script to search for libgdbm.a
	  since gdbm files have less holes than dbm files which
	  is nice if you are using rdist.

Tue Jul 19 09:25:55 1994  Juergen Schoenwaelder  (schoenw@achill)

	* scotty-0.9i

	* Renamed the directory with the MIB files from scotty-mib to 
	  scotty. Please remove your old scotty-mib directory if you
	  don't use older versions anymore.

	* Added an 'rcp info' command that is similar to the
	  'tcp info' and 'udp info' commands.

Sun Jul 17 21:38:23 1994  Juergen Schoenwaelder  (schoenw@data)

	* Rewrote the icmp command and the RPC mechanism to use
	  read() and write() system calls instead of FILE operations.
	  This makes scotty run correctly on HPUX machines.

Thu Jul 14 01:19:01 1994  Juergen Schoenwaelder  (schoenw@data)

	* Made stdin unbuffered when running in ined mode. This
	  makes the communication script running synchronous.

Tue Jun  7 21:42:46 1994  Juergen Schoenwaelder  (schoenw@logic)

	* Fixed a bug in the event / job handler which delayed
	  job starts. This lead to a race condition in event.c.

Tue Jun  2 18:22:46 1994  Juergen Schoenwaelder  (schoenw@bayes)

	* scotty-0.9e

Mon May 30 19:40:32 1994  Juergen Schoenwaelder  (schoenw@data)

	* Added the well known tk C interface to the event handler.
	  This is a hack that allows us to program async SNMP requests
	  and will be changed when tk 4.0 comes out with an event
	  mechanism that can be used without X11.

Mon May 16 17:38:36 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Changed 'sunrpc ether open sulu' to 'sunrpc ether sulu open'.
	  Corrected some wrong sunrpc error messages.
	  *** POTENTIAL INCOMPATIBILITY ***

Sun May 15 20:41:38 1994  Juergen Schoenwaelder  (schoenw@bayes)

	* scotty-0.9d

	* Added the extended syslogd sources to this package.

	* Split the tcp connect command in a tcp connect and a tcp
	  listen command.
	  *** POTENTIAL INCOMPATIBILITY ***

Sun May 15 10:14:07 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* Started a test suite in the tests directory. Some of the
	  tests assume a normal tcp/ip installation, mainly a correct
	  definition of localhost, udp and tcp echo capabilities, a
	  running portmapper etc. Should work on most systems.

	* Added the udp command and the tcp prefix to the tcp commands.
	  This enhances readability and makes udp and tcp commands
	  look similar.
	  *** POTENTIAL INCOMPATIBILITY ***

Tue Apr 26 20:41:26 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Added the getdate command and an argument to getclock.

Wed Apr 20 00:22:11 1994  Juergen Schoenwaelder  (schoenw@helios)

	* Rewrote the job scheduler in C. See the job command
	  for more details. This replaces the job scheduler
	  which was part of ined.tcl. The interface is now
	  cleaner and documented.
	  *** POTENTIAL INCOMPATIBILITY ***

Sun Apr 17 23:08:20 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Various cleanups and more consistent error messages.

Sun Apr 10 23:13:12 1994  Juergen Schoenwaelder  (schoenw@helios)

	* Integrated the access commands ined_id, ined_name etc.
	  into the ined command. Now its legal do use either
	  `ined name $comp' on an external object representation
	  or `ined name $id' using an object id.
	  *** POTENTIAL INCOMPATIBILITY ***

Fri Apr  8 19:58:22 1994  Juergen Schoenwaelder  (schoenw@bayes)

	* Added round trip time to the sunrpc probe command
	  and cleaned up the error messages a little bit.

	* Rewrote the ined command in C for speed improvements.

Wed Mar  9 20:15:56 1994  Juergen Schoenwaelder  (schoenw@sol)

	* scotty-0.9 released.

Sat Feb 26 16:38:06 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Moved ined.tcl from the tkined source to the scotty
	  sources. The ined.tcl module now uses the event loop
	  mechanism of scotty. This is needed to use the rpc
	  mechanism in a tkined script.

Fri Feb  4 12:26:26 1994  Juergen Schoenwaelder  (schoenw@helios)

	* A background error that occurs while evaluating event
	  callbacks is now handled by the user defined proc
	  scottyerror, which takes the error message as its
	  argument.

Fri Jan 28 15:24:35 1994  Juergen Schoenwaelder  (schoenw@helios)

	* Added a check for the resolver library to configure.in.

Mon Jan 24 11:51:40 1994  Juergen Schoenwaelder  (schoenw@bayes)

	* Do not remove the output from rpcgen when making a
	  distribution. This makes the compat directory obsolete.

	* Included a Erik's patch for dns.c to make it compilable
	  on AIX machines. Also added test for sys/select.h to
	  configure.

Sat Jan 22 15:15:09 1994  Juergen Schoenwaelder  (schoenw@bayes)

	* Renamed the old rpc command to sunrpc to avoid confusion
	  about which rpc service will be used.
          *** POTENTIAL INCOMPATIBILITY ***

	* Added the rpc code that lets us build communication
	  agents easily.

	* Removed the support for GNU's readline library because
	  we get trouble with the eventloop mechanism. Use ile
	  instead.

Wed Jan 19 10:25:07 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Added an eventloop mechanism in event.c that allows
	  us to run tcl scripts as server that receive commands,
	  perform some action and return the results. Changed 
	  scotty so that it runs in this eventloop per default.

Fri Jan 14 16:32:35 1994  Juergen Schoenwaelder  (schoenw@sol)

	* Added Poul-Henning Kamp's SNMP implementation. This will
	  be removed when our own SNMP implementation is done. This
	  will break things but lets us play with SNMP right now.

Sun Jan  9 18:11:25 1994  Juergen Schoenwaelder  (schoenw at sulu)

	* scotty-0.6 released.

	* Option parsing is now done without getopt. This allows
	  me to forward unrecognized options to the interpreter
	  in the global argc and args variables.

Fri Dec 31 03:10:02 1993  Juergen Schoenwaelder  (schoenw at sulu)

	* Scotty now uses GNU's autoconf program to create a
	  configure command.

Tue Dec 21 11:07:00 1993  Juergen Schoenwaelder  (schoenw@ra)

	* Syslog command added.

Fri Oct  8 17:08:52 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* scotty-0.7 released

Mon Sep 27 19:40:31 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* Added the select command from extended tcl distribution
	  (tclXselect.c) to implement a small job scheduler.

Fri Sep 10 20:50:33 1993  Juergen Schoenwaelder  (schoenw@ra)

	* scotty-0.6a released (based on tk3.3 / tcl7.0)

Mon Sep  6 20:58:22 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* Wrote tcp.c (based on tclRawTCP) which uses the new
	  file handling interface of tcl-7.0.

Sat Sep  4 19:01:25 1993  Juergen Schoenwaelder  (schoenw at sulu)

	* Tkined specific initialization option -i added.

	* Scotty now compiles with non ANSI C compilers.

Tue Aug 31 19:15:09 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* scotty-0.6 released

Thu Jul 21 18:51:15 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* dns command written by Erik Schoenfelder added to scotty.

Thu Jul 19 19:45:15 1993  Juergen Schoenwaelder  (schoenw@bayes)

	* scotty-0.5 released (first public release)


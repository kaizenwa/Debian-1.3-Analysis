.TH AUTHFILE 5 "21 June 1995"
.SH NAME
authfile \- \s-2RADIUS\s+2 realm to authentication-type mapping file
.SH SYNOPSIS
.B ../raddb/authfile
.SH DESCRIPTION
.LP
The
.I authfile
file resides in the
.I ../raddb
directory.  It contains a list of realms which \s-2RADIUS\s+2 can use
to authenticate Network Access Server (\s-2NAS\s+2) users who enter
.I user@realm
as their user name.
Comments are indicated by leading pound sign
.RB (' # ')
characters.
All such comment lines are ignored (as are blank lines).
.LP
The file contains a line of information for each such realm.
Each line has several, white-space delimited fields.
There are a number of lines of the form:
.IP
.I <realm-name>
[(
.I <alias>
[,
.IR " <alias>" "])] ["
.IR \-<protocol> ]
.I <type>
[
.IR <realm/\s-2DNS\s+2/file> "] ["
.IR <filter-id> ]
.LP
For example:
.IP
.ft B
umich.edu                  \s-2AFS-KRB\s+2      \s-2UMICH.EDU\s+2          umich
.sp
.ft B
flatland.org                \s-2FILE\s+2           flatland
.sp
.ft R
where the latter is only available with the Merit \s-2LAS\s+2 license.
.LP
The
.I <realm-name>
is any appropriate symbol or name for the realm to which the user "belongs."
Note that this does not have to be a Domain Name System (\s-2DNS\s+2) name.
A
.B \s-2DEFAULT\s+2
entry may be included in the file which indicates how to
handle authentication requests specifying authenticator realms not found in
this file.
Usually, a remote \s-2RADIUS\s+2 server will handle these relayed requests.
A user is not allowed to use the name
.B \s-2DEFAULT\s+2
as the authenticator
name.
The
.B \s-2NULL\s+2
entry may be used to indicate how to handle user namess
without an attached realm name.
There is a "wild card" syntax,
.IR *.realm ,
which may be included as the primary (non-alias) realm name on an entry in
the authfile.
The purpose of this is to provide a shorthand way of indicating several
related realms which are to be handled by one entry (one authentication
type) in the authfile.
For example, a company may have several branches, eastern.foobah.com,
western.foobah.com and central.foobah.com, so that an entry *.foobah.com
would "match" all three of these realms.
It is recommended that any such wild card entry be listed toward the end
of the authfile.  This allows for specific entries to override the wild
card entry.
Aliases are allowed on the wild card entry and are interpreted as meaning
.I *.alias
rather than
.I alias.realm
or just
.IR alias.
.LP
The
.I <alias>
field is an optional, comma separated list of realm names enclosed within
parenthesis.
Each realm alias is equivalent to the "main" realm name and may be provided
for user convenience or other purposes.
.LP
The
.I <protocol>
field is one of
.BR \s-2\-PW\s+2 ,
.BR \s-2\-CHAP\s+2 ,
or
.BR \s-2\-DFLT\s+2 .
These may be used to force the processing order of
.I authfile
entries which would otherwise be identical.
.LP
Valid
.IR <type> s
include
.BR \s-2PASSWD\s+2 ,
.BR \s-2UNIX-PW\s+2 ,
.BR \s-2RADIUS\s+2 ,
.BR \s-2MIT-KRB\s+2 ,
.BR \s-2AFS-KRB\s+2 ,
.BR \s-2FILE\s+2 ,
.BR \s-2TACACS\s+2 ,
and
.BR \s-2KCHAP\s+2 .
These authentication types are case insensitive.
The \s-2FILE\s+2 type is only available with the Merit \s-2LAS\s+2 license.
.LP
The
.B \s-2PASSWD\s+2
.I <type>
is the same as the
.B \s-2UNIX-PW\s+2
.IR <type> .
Either refers to authentication using the \s-2UNIX\s+2 password file (usually
found in the
.I /etc/passwd
file).
.LP
The
.B \s-2RADIUS\s+2
.I <type>
indicates the authentication is to be performed by
a remote \s-2RADIUS\s+2 server.
The authorization Attribute/Value Pairs returned by the remote \s-2RADIUS\s+2
server are propagated back to the \s-2NAS\s+2.
See the
.BR dictionary (5)
man page.
\s-2RADIUS\s+2 servers check to see if the
.I <realm/\s-2DNS\s+2/file>
field contains their \s-2DNS\s+2 host identifier or is blank, in either case
the request is handled as a local \s-2UNIX\s+2 request.
.LP
For the remaining
.IR <type> s,
the entries in the
.I <realm/\s-2DNS\s+2/file>
field depend on how the \s-2RADIUS\s+2 server was configured.
For \s-2RADIUS\s+2 servers built to use the Kerberos model for
authentication, these entries correspond to the Kerberos realm
name to be used by Kerberos.
Note that the
.I /etc/krb.conf
file must have valid entries for the Kerberos realm.
For \s-2RADIUS\s+2 servers built to use the \s-2FILE\s+2 model, this field
contains the "prefix" of a compound file name:
.I prefix
.I <period>
.I users
(for example,
.IR flatland.users ).
The \s-2FILE\s+2 type is only available with the Merit \s-2LAS\s+2 license.
.LP
The
.IR <filter-id s>
are names of filters pre-configured on the \s-2NAS\s+2.
The names should match the configured values on the \s-2NAS\s+2.
This filter name, if present, overrides any filter name a remote
\s-2RADIUS\s+2 server may have set.
.LP
The
.I authfile
file is read by
.B radiusd
at startup and whenever a \s-2HUP\s+2 signal is received by
.BR radiusd .
The \s-2RADIUS\s+2 server detects any out-of-date configuration files
upon receipt of a Status-Server (or Management-Poll) request and re-reads
all the configuration files.
This file is maintained by the \s-2RADIUS\s+2 administrator using a text editor.
.SH FILES
.PD 0
.TP
.I ../raddb/authfile
.TP
.I ../raddb/dictionary
.TP
.I ../raddb/users
.TP
.I /etc/krb.conf
.TP
.I /etc/minostab
.PD
.SH "SEE ALSO"
.BR signal (3),
.BR dictionary (5),
.BR users (5),
.BR radiusd (8),
.BR radcheck (8),
.BR radpwtst (8)

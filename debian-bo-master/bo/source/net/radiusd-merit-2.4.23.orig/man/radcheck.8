.TH RADCHECK 8 "10 September 1996"
.SH NAME
radcheck \- determines whether a \s-2RADIUS\s+2 server is operational.
.SH SYNOPSIS
.B radcheck
[
.BI \-d directory
]
[
.BI \-p port
]
[
.BI \-r retries
]
[
.BI \-t timeout
]
[
.B \-x
]
[
.B \-v
]
[
.B \-n
]
.I servername
.SH DESCRIPTION
.LP
.B Radcheck
determines whether a given \s-2RADIUS\s+2 server is operational.
The
.I servername
is required on the command line.
This is the \s-2DNS\s+2 name of a machine running a \s-2RADIUS\s+2 server.
See
.BR authfile (5)
for more information.
.B Radcheck
may be executed on any host, not just one registered in the
.I clients
file.
.LP
If the server is found to be operational,
.B radcheck
displays
.IP
auth queue: \f2a/b\fP, acct queue: \f2c/d\fP, maxtime: \f2t\fP (\f2date\fP)
.IP
authfile: \f2x\fP, clients: \f2y\fP, users: \f2z\fP, \f2date\fP
.IP
RADIUS version  \f2version\fP  \f2config codes\fP
.sp
.IP
"\f2servername\fP (\f2port-number\fP)" is responding
.LP
on standard output.
If the number of retries is greater than zero,
.B radcheck
will additionally display
.IP
(\f2n\fP retries)
.LP
otherwise,
.B radcheck
displays
.IP
"\f2servername\fP (\f2port-number\fP)"
.I "some message"
.LP
where
.I "some message"
may be one of the following (amongst others):
.IP
No reply from \s-2RADIUS\s+2 server "\f2<hostname>\fP(\f2port\fP)"
.IP
Received non-matching id in server response
.IP
Received invalid reply digest from server
.IP
No such server: "\f2<hostname>\fP"
.LP
If the server has been built with \s-2LAS\s+2 (Local Authorization
Server) support, then the above output is preceded by the following:
.IP
Status: \f2g\fP authen, \f2h\fP unconfirmed, \f2i\fP connected, \f2j\fP suspended, \f2k\fP unknown
.LP
and if any token pools are configured (see
.BR tokenpool.las (5)
for more information), there will be one line for each such pool
and the total number of pools displayed in the following manner:
.IP
\f2some-pool-name\fP: \f2p\fP/\f2q\fP/\f2r\fP-\f2timestamp\fP
.IP
number of pools: \f2n\fP
.LP
where \f2p\fP is the total number of tokens configured in \f2some-pool-name\fP,
\f2q\fP is the current number of tokens in use and \f2r\fP is the token
high-water-mark recorded at date and time \f2timestamp\fP.
.LP
The above discussion of tokens does not apply to the \s-2LAS\s+2 per se,
but are features of the full Merit \s-2RADIUS\s+2 server as operated
within MichNet.
.SH OPTIONS
.TP
.BI \-d " directory"
allows the user to specify an alternate directory which is different from
the default choices
.I ../raddb
or
.IR /usr/private/etc/raddb .
.TP
.BI \-p " port"
allows the user to specify an alternate port number instead of the default
port
.IR 1645 .
.TP
.BI \-r " retries"
allows the user to specify a number of retries different from the default
.IR 10 .
.TP
.BI \-t " timeout"
allows the user to specify a maximum timeout different from the default
.I 3
seconds.
.TP
.B \-x
allows the user to turn on debugging output.
.TP
.B \-v
prints the version of \s-2RADIUS\s+2 used to build the program.
.TP
.B \-n
specifies that the \s-2RADIUS\s+2 packet type Status-Server should be used.
.PD
.SH EXIT STATUS
.LP
Normal successful completion returns zero to the system.
If the response from the \s-2RADIUS\s+2 server
had errors,
.B radcheck
returns -2,
local errors return -1, and timeout errors return 1 as status.
.PD
.SH SEE ALSO
.LP
.BR radpwtst (8),
.BR radiusd (8),
.BR authfile (5),
.BR clients (5),
.BR dictionary (5),
.BR users (5)
.SH AUTHOR
Allan C. Rubens, Merit Network, Incorporated.

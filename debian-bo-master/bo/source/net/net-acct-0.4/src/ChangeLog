Thu Jul 11 01:10:52 MET DST 1996  Bernd Eckenfels  <ecki@lina.inka.de>

	* "notdev" support for excluding devices from logging

	* "disable" for nearly all fields possible now

	* be less memory consuming for the 'unknown' user

	* new field for packets-counter

	* -D flag for non-detach mode (for inittab).

	* patches are submitted to author and he is working on a 
	new version

Sun Jun  4 19:07:41 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* capture-linux.c: Fixed two bugs with new dynamic ip stuff.

Sun May 28 20:18:55 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* netacct.h:
	Prefixed variables macro DEBUG. Not doing this caused obscure bugs
	in the debugging output.

	* README: Various fixes and updates

Sun May 28 16:32:28 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* utils.c: Portability fixes

	* process.c:
	Removed a few include files that are already included via netacct.h

	Split up capture.c into process.c and capture-$(ARCH).c

	Removed variables ignorenet, dynadat

	Removed functions init_capture, exit_capture, onignorelist,
        check_user_dev2line, check_user_dynamicip, handle_ip

	Reworked do_acct to use architecture dependend packet_loop()

	Added TELL_WAIT* functions to fix races in child/signal
        handling. See Stevens APUE 8.8

	Fixed bug in SIG_CHLD handling - didn't check return value from
	waitpid before testing errno, so if errno accidentially was set to
	ECHILD before... go figure...

	Added debugging output in various places.

	* main.c:
	New argument to macro SETSIG to set flags. Not really used until now.

	Added typecast for pid output

	* daemon.c: Added debugging output to daemon_stop

	Changed linux/time.h into sys/time.h for portability

	* netacct.h: Improved portability by changing some of the includes

	Changed DEFAULT_IGNOREMASK to 255.255.255.255, so it matches the
        documentation

	Some more globals due to the splitting of capture.c into process.c
        and capture-$(ARCH).c

	Some #ifdef linux added for linux specific parts

	* config.c:
	added option excludenamelookup (keyword "exclude-name-lookup")

	* capture-linux.c:
	Split up capture.c in process.c and capture-$(ARCH).c

	Removed variables running, packets, plist, olist, plistsize,
        olistsize, lck, writing, dumping, writepid, dumppid, may_write,
        err_delay, max_err_delay, now, ignorenet, list_compares,
        list_lookups

	Removed functions reopen_sockets, do_acct, register_packet,
        do_write_list, write_list, dump_curr_list, child_finished,
        alarm_handler, write_log, signal_debug, signal_ignore

	do_acct is now split up in packet_loop (architecture dependend)
        and do_acct (in process.c)

	implemented Bart's suggestions for new style dynamic ip handling
	(excludenamelookup option and checking other addr if first fails)

Tue May 23 19:24:12 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* main.c: Removed global capture_sd

	* process.c, capture-linux.c: Initial revision

Mon May 22 22:28:43 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* netacct.h: Minor fixes

	* main.c, config.c: Fixed unbuffering of debug output file

	* capture.c: Added new style dynamic ip handling

	* capture.c: Cleaned up debugging handling

	Prepared new style dynamic ip handling

	Added dontignore handling

	* config.c: Initialize debugname

	* config.c:
	Added parsing of dontignore, dynamicip, debugfile, dynamicnet

	* netacct.h: Cleaned up debugging handling, addition DBG_*, macro DEBUG

	Prepared for new style handling of dynamic ip

	* main.c: Cleaned up debugging handling

	* daemon.c: Added fclose(dbg_file) for new style debugging output

Sun May 21 12:54:44 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* README: Erklaert, wie man zur Discussion-Liste subscribed.

	minor fixes

Wed Apr 12 19:23:34 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* capture.c: Removed unused variable tmp in do_write_list

Wed Apr 12 19:13:43 1995  Ulrich Callmeier  <uc@brian.lunetix.de>

	* capture.c: You can now disable certain fields of output.

	* config.c: Added parsing of disable statememts

	* README: Updated for 0.3

	* netacct.h: Added disabling of certain fields

Wed Mar  1 17:00:56 1995  Ulrich Callmeier  <uc@brian>

	* README: For release 0.2

	* main.c:
	Feature added: a pid file (in /var/run) is created on startup and deleted
	on exit. On startup we check for the existence of such a file. If one
	exists and contains the pid of a process still running we quit

	* daemon.c: unlink pid-file on exit

	* capture.c: Made dumppid and writepid volatile.

	Added some debugging output.
	Messages about corrected clock only if difference >5 seconds.

	* main.c: Using SA_RESTART was a bad idea. Removed it again.

Mon Feb 27 16:07:17 1995  Ulrich Callmeier  <uc@brian>

	* capture.c:
	Fixed a bug in SIGCHLD handling. We have to loop until waitpid return 0, not just check
	once.

	Removed silly reinstallation of signal handlers. This is 1995...

	* main.c:
	We use sigaction instead of signal to set up our signal handlers. Interrupted
	systemcalls are to be restarted.

Tue Feb 21 16:21:49 1995  Ulrich Callmeier  <uc@brian>

	* README: Bumped up to version 0.1.

Tue Feb 21 16:18:58 1995  Ulrich Callmeier  <uc@brian>

	* capture.c:
	Added three missing unlink(tmpn). This caused a lot of empty
	lockfiles to be left in /tmp. Arghhhh.

	* capture.c:
	Added some if(debug_level > x) to prevent unnecessary syslog output.

Mon Feb 20 23:35:57 1995  Ulrich Callmeier  <uc@brian>

	* capture.c: Support for delayed write of data:
	 Added dump process
	 Added data timestamping

	Seperated out do_write_list from write_list.
	do_write_list is used by write_list and dump_curr_list.

	Cleaned up alarm signal handler, now in an own routine alarm_handler
	This maintains an internal clock (in variable now)

	Removed unneccessary globals flush and fname now that cfg is global

	* main.c: Cleaned up signal handling:
	 New handler alarm_handler for SIGALRM
	 Added comments

	Save old dumpfiles on startup (save_dumpfile)

	Added check if caller is superuser on startup.
	Exit with appropriate message otherwise. Thanks to Randolf Skerka
	<Skerka@Heim2.TU-Clausthal.DE> for the hint.

	* config.c: Support for dumpname and fdelay.

	Added check if filename and dumpname are given.

	* daemon.c: Changed call to write_log to force a complete flush.

	* netacct.h:
	Support for holding entries in memory at least a certain time:
	 Added fdelay to struct config. Added default define for fdelay.
	 Added dumpname to struct config.
	 Added field when to struct ipdata (to record last use of entry).

	Cleaned up alarm handler. Changed prototype of write_log accordingly.
	Added prototype for new alarm_handler.

	* daemon.c: Adapted call to write_log to new declaration.

Mon Feb 20 16:00:20 1995  Ulrich Callmeier  <uc@brian>

	* config.c: Added support for parsing "line" statements.

	* main.c: Added dev2line global.

	* netacct.h:
	Added (preliminary) support to associate slip/ppp packets with users.

	* capture.c:
	Added (preliminary) support for associating slip/ppp packets with users.

	* README: Updated to newest release.

	* README: Initial revision

Sun Feb 19 22:11:47 1995  Ulrich Callmeier  <uc@brian>

	* capture.c:
	Adapted init_capture and exit_capture to new handling of devices to set into
	promiscous mode.

	Minor cleanups.

	* main.c: Moved signal setups to function signal_setup.

	Removed struct capture.

	* config.c:
	Adapted read_config to deal with new linked list of promisc devices.

	Provided sensible defaults for all of the values. These are imported from
	netacct.h.

	* netacct.h: Cleaned up promiscious device handling.
	Got rid of struct capture. This is now in struct promisc_device.
	There is now a linked list of devices to put into promiscous mode. This
	can be empty.

	Provided sensible defaults for some of the naccttab settings (DEFAULT_* defines)

	Removed define for version. This is now done with RCS.

	Configuration information is now a global.

	* daemon.c:
	Removed check for capture -> reset. This is now done in exit_capture.

Wed Feb  8 15:18:05 1995  Ulrich Callmeier  <uc@brian>

	* capture.c:
	Ifdeffed ignoring of unencapsulated packets. A better system has to be
	devised.

Mon Jan 30 21:10:26 1995  Ulrich Callmeier  <uc@brian>

	* netacct.h, utils.c, main.c, daemon.c, config.c, capture.c:
	Initial revision under RCS


#
#===========================================================================
#=                                                                         =
#=  (C) Copyright 1995, Computer Technology Institute (CTI)                =
#=                                                                         =
#=  Permission to use, copy, modify and distribute this software and       =
#=  its documentation for non-commercial use and without fee is hereby     =
#=  granted, provided that the above copyright notice appear in all        =
#=  copies and that both that copyright notice and this permission         =
#=  notice and warranty disclaimer appear in supporting documentation,     =
#=  and that the name of Computer Technology Institute (CTI) or any of     =
#=  its entities not be used in advertising or publicity pertaining to     =
#=  distribution of the software and its documentation without specific    =
#=  prior permission.                                                      =
#=                                                                         =
#=  Computer Technology Institute (CTI) disclaims all warranties with      =
#=  regard to this software and makes no representations about the         =
#=  suitability of this software and its documentation for any purpose.    =
#=  It is provided "as is" without expressed or implied warranty.          =
#=                                                                         =
#===========================================================================
#=                                                                         =
#=                        Project CTI-Print                                =
#=                                                                         =
#= File:                                                                   =
#=   Makefile                                                              =
#=                                                                         =
#= Synopsis:                                                               =
#=   This is the Makefile to build and install the filter man page.        =
#=                                                                         =
#= Author:                                                                 =
#=   Panos Dimakopoulos, Systems Programmer,                               =
#=   Computer Technology Institute,                                        =
#=   Division of Computing Facilities,                                     =
#=   P.O. Box 1122,                                                        =
#=   261 10  Patras,                                                       =
#=   Greece                                                                =
#=   (e-mail: dimakop@cti.gr)                                              =
#=   Tel: +30 61 992061                                                    =
#=   Fax: +30 61 993973                                                    =
#=                                                                         =
#===========================================================================
#


#============================================================================
#= Modification History:
#= 	Revision 1.1	95/01/16	13:43:23
#=		 Creation.
#= 	Revision 1.2	95/02/10	17:32:03
#=		 Full CTI address.
#= 	Revision 1.3	95/02/13	20:04:09
#=		 Make.inc moved to parent directory.
#=
#

#**************** OPTIONS *******************************

VPATH=@srcdir@

# Directory where the manual pages are to be placed

MAN=@prefix@/man
INSTALLCMD=@INSTALL@
FONTDIR=@prefix@/lib/CTI-Print/fonts
MACHINESFONTS= -DMACHINESFONTS=\"$(ETC)/host_fonts.\"
INSTDIR=@prefix@/lib/CTI-Print/bin

#**************** configure does not change lines after this *********

.PHONY: install all clean distclean ci

all: ifhp.8

install: ifhp.8
	$(INSTALLCMD) -c $^ $(MAN)/man8

clean:
	rm -f ifhp.8

ifhp.8: ifhp.n
	sed -e 's,_FONTDIR_,$(FONTDIR),g' \
	    -e 's,_INSTDIR_,$(INSTDIR),g' \
	    -e 's,_MACHINESFONTS_,$(MACHINESFONTS),g' $^ >$@

distclean: clean
	rm -f Makefile

ci:
	for i in Makefile.in Makefile *.n; do \
		ci $(CI) -l -mUpdate -t-Initial $$i; \
	done;

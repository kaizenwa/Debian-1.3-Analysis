.\"
.\" netstat.8 (mdw@tc.cornell.edu & dc6iq@insu1.etec.uni-karlsruhe.de)
.\"
.\" I believe mdw should look up this manual page again for bad
.\" grammar, bad spelling etc... -FB
.\"
.\" This man page is for Version 1.1.79 of netstat - compatible to
.\" NET3.019
.\"
.TH NETSTAT 8 "9 Jan 1995" "Cohesive Systems" "Linux Programmer's Manual"
.SH NAME
netstat \- Display active network connections
.SH SYNOPSIS
netstat [[-a | [-t | -u | -w]] [-n | -o] | -x] [-c]

netstat -i [-a] [-c]

netstat -r [-c] [-n]

netstat -v
.SH DESCRIPTION
.B Netstat
displays the status of network connections on either TCP, UDP, RAW
or UNIX sockets to the system. By default,
.B netstat
only displays status
on active sockets which are not in the LISTEN state (i.e. connections
to active processes). To obtain information about the kernel routing
table,
.B netstat
may be invoked with the option
.B -r
.
.sp
Netstat's display includes the following information for each socket:
.SS "Proto" 
The protocol (either TCP or UDP) used by the socket. 

.SS "Recv-Q"
The count of bytes not copied by the user program connected to this socket.

.SS "Send-Q"
The count of bytes not acknoledged by the remote host.

.SS "Local Address" 
The local address (local hostname) and port number of the socket. Unless
the
.B -n
switch is given, the socket address is resolved to its canonical
hostname, and the port number is translated into the corresponding service
name. 

.SS "Foreign Address"
The remote address (remote hostname) and port number of he socket. As
with the local address:port, the
.B -n
switch turns off hostname and service name resolution.

.SS "(State)"
The state of the socket. Since there are no states in RAW and usually no
states used in UDP, this row may be left blank. Normally this can be one
of several values:
.TP
.I
ESTABLISHED
The socket has an established connection.
.TP
.I
SYN_SENT
The socket is actively attempting to establish a connection.
.TP
.I
SYN_RECV
The connection is being initialized.
.TP
.I
FIN_WAIT1
The socket is closed, and the connection is shutting down.
.TP
.I
FIN_WAIT2
Connection is closed, and the socket is waiting for a shutdown from the
remote end.
.TP
.I
TIME_WAIT
The socket is waiting after close for remote shutdown retransmission.
.TP
.I
CLOSED
The socket is not being used.
.TP
.I
CLOSE_WAIT
The remote end has shut down, waiting for the socket to close.
.TP
.I
LAST_ACK
The remote end shut down, and the socket is closed. Waiting for
acknowledgement.
.TP
.I
LISTEN
The socket is listening for incoming connections.
.TP
.I
CLOSING
Both sockets are shut down but we still don't have all our data
sent.
.TP
.I
UNKNOWN
The state of the socket is unknown.
.PP
.sp
If
.B netstat
is invoked with the option
.B -o
, additional information will be displayed behind the state info.
These informations are shown like this: "rx-retransmission byte count"
"tx-retransmission byte count" "timer state" "(time/backoff)". Timer
state may now be either on or off.  The time (in seconds)
being displayed is how long it will take the timer to expire. All these
options are subject to be removed in later releases of the NET software.
.sp
Being invoked with the option
.B -x
,
.B netstat displys a list of all
active UNIX internal communication sockets. 
.sp
Netstat's display includes the following information for each socket:
.SS "Proto" 
The protocol (usually unix) used by the socket.
\"
\" To mdw, FvK: I don't believe there are other protocols than "0", right ?
\" >>>FVK>>> Correct.
\"
.SS "RefCnt"
The reference count (i.e. attached processes via this socket).

.SS "Flags"
The only displayed flag is SO_ACCEPTON (displayed as ACC) otherwise left
blank. SO_ACCECPTON is used on unconnected sockets if their corresponding
processes are waiting for a connect request. The other flags are not
of normal interest and not displayed.

.SS "Type"
There are several types of socket access:
.TP
.I
SOCK_DGRAM
The socket is used in Datagram (connectionless) mode.
.TP
.I
SOCK_STREAM
This is a stream (connection) socket.
.TP
.I
SOCK_RAW
The socket is used as a raw socket.
.TP
.I
SOCK_RDM
This one serves reliably-delivered messages.
.TP
.I
SOCK_SEQPACKET
This is a sequential packet socket.
.TP
.I
SOCK_PACKET
RAW interface access socket.
.TP
.I
UNKNOWN
Who ever knows, what the future will bring us - just fill in here :-)
.PP
.SS "State"
This field will contain one of the following Keywords:
.TP
.I
FREE
The socket is not allocated
.TP
.I
LISTENING
The socket is listening for a connection request.
.TP
.I
UNCONNECTED
The socket is not connected to another one.
.TP
.I
CONNECTING
The socket is about to establish a connection.
.TP
.I
CONNECTED
The socket is connected.
.TP
.I
DISCONNECTING
The socket is disconnecting.
.TP
.I
UNKNOWN
This state should never happen.
.SS "Path"
This displays the path name as which the corresponding processes attached
to the socket.
.PP
.sp
The network routing table (invoked with
.B netstat -r
) shows up the
following information:
.SS Destination net/address
The destination adress of a resolved host or hand-entered network
is displayed.  Unless the option
.B -n is given, the hosts or nets are resolved. An entry named
"default" shows up the default route for the kernel.
.SS Gateway address
If there is no Asterisk ('*') displayed - any data will be routed
to the dedicated gateway.
.SS Flags
Possible routeing flags are:
.TP
.I
U
This route is useable
.TP
.I
G
Destination is a gateway
.TP
.I
H
Destination is a Host entry
.TP
.I
R
Route will be reinstated after time-out
.TP
.I
D
This one is created dynamically (by redirection)
.TP
.I
M
This one is modified dynamically (by redirection)
.SS RefCnt
Reference count for this route
.SS Use
How many times this route was used yet
.SS Iface
This is the name of the Interface, where this route belongs to
.PP
.sp
The device statistics table (invoked with
.B netstat -i
) displays information about the interfaces:
.SS Iface
The name this interface.
.SS MTU
Maximum size for transmission on this interface. This should be the size
of data transferred on this interface without interface specific headers.
.SS RX-OK
error free received packets for this interface.
.SS RX-ERR
buggy received packets.
.SS RX-DRP
dropped received packets (due to memory lack ?).
.SS RX-OVR
packets that we were unable to receive that fast way.
.SS TX-OK
error free transmitted packets for this interface.
.SS TX-ERR
buggy transmitted packets.
.SS TX-DRP
dropped transmitteded packets.
.SS TX-OVR
packets that we were unable to transmit.
.SS Flags
The following flags may occur on the given interfaces:
.TP
.I
A
This interface will receive all Multicast adresses.
.TP
.I
B
Broadcasts are ok here.
.TP
.I
D
Debugging is turned on..
.TP
.I
L
Interface is a loopback device.
.TP
.I
M
all packets are received (Promisc-Mode).
.TP
.I
N
Trailers are avoided.
.TP
.I
O
No Addres Resolution Protocol on this Interface.
.TP
.I
P
Interface is a Point-to-Point connection.
.TP
.I
R
Interface is running.
.TP
.I
U
Interface is up.
.PP
.SS Options
.PP
.TP
\fB-a\fP
Display information about all internet sockets, i.e. TCP, UDP, RAW and UNIX
including those sockets that are listening only.
.TP
.B -i
Show network devices statistics.
.TP
.B -c
Generate a continuous listing of network status: network status is displayed
every second until the program is interrupted.
.TP
.B -n
Causes netstat not to resolve hostnames and service names when displaying
remote and local address and port information.
.TP
.B -o
Display timer states, expiration times and backoff state.
.TP
.B -r
Display kernel routing table.
.TP
.B -t
Display information about TCP sockets only, including those that are
listening.
.TP
.B -u
Display information about UDP sockets only.
.TP
.B -v
Print version information.
.TP
.B -w
Display information about raw sockets.
.TP
.B -x
Display information about UNIX domain sockets.
.PP
.SH FILES
.ta
.I /etc/services
-- The services translation file

.I /proc/net/socket
-- devices information

.I /proc/net/raw
-- RAW socket information

.I /proc/net/route
-- Kernel routing information

.I /proc/net/tcp
-- TCP socket information

.I /proc/net/udp
-- UDP socket information

.I /proc/net/unix
-- Unix domain socket information
.fi
.SH BUGS
Occasionally strange information may appear if a socket changes
as it is viewed. This is unlikely to occur.
.SH AUTHORS
The netstat user interface was written by Fred Baumgarten
<dc6iq@insu1.etec.uni-karlsruhe.de> the man page basically
by Matt Welsh <mdw@tc.cornell.edu>. It was updated by
Alan Cox <Alan.Cox@linux.org> but could do with a bit more
work.
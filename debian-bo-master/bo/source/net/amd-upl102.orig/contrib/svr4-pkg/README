From asc@concurrent.co.uk Wed Sep 15 05:32:22 1993
Received: from cs.columbia.edu by shekel.cs.columbia.edu with SMTP id AA15501
  (5.65c/IDA-1.4.4.5/jba/jtt/ad for ezk); Wed, 15 Sep 1993 05:31:24 -0400
Received: from slough.concurrent.co.uk by cs.columbia.edu (5.65c/0.6/jba+ad+jtt?u for ezk@shekel.cs.columbia.edu) with SMTP 
	id AA28409; Wed, 15 Sep 1993 05:31:06 -0400
Received: from concurrent.co.uk by slough.concurrent.co.uk via TCP/IP with SMTP 
          id <14274-0@slough.concurrent.co.uk>; Wed, 15 Sep 1993 10:29:41 +0000
In-Reply-To: Your message of Tue, 14 Sep 1993 14:45:28 -0400. <199309141845.AA08545@shekel.cs.columbia.edu>
Message-Id: <1875.748085302@concurrent.co.uk>
From: Andy Chittenden <asc@concurrent.co.uk>
Subject: Re: amd pl 67
To: Erez HWank1 Zadok <ezk@shekel.cs.columbia.edu>
Cc: Andy Chittenden <asc@concurrent.co.uk>, asc@concurrent.co.uk
Date: Wed, 15 Sep 1993 10:28:22 +0100


Erez

I've found another "problem". I used to start amd by having a
S74amd.client shell script in the /etc/rc2.d directory. This meant
that amd started up when the machine came up. Unfortunately, you
have changed something to look for mountd on localhost. However,
mountd is not available until init level 3. One place you use
localhost is in host_ops.c. This looks incorrect to me - shouldn't
you be using the machine you're trying to communicate with? Anyway,
when amd couldn't find mount prog on localhost, amd just hung - it
didn't background itself nor did it exit and thus my machine didn't
boot. What a time I had trying to figure out what was wrong!

In order to fix this,  I have mv'd my start up script to
/etc/rc3.d but there are some "latent" problems still with amd - it
should have exit'ed or backgrounded itself.

On another subject, I've got some packaging info files so that
you can use pkgmk to generate an amd package on Solaris 2 (and
other svr4's?).  Really, these should be generated as part of the
"A. ..." directory by a make target (say "package") but I couldn't
figure out where they should go. Here are pkginfo, prototype (both
required by pkgmk) and my amd start up script in a
compress'ed cpio archive.

begin 664 /tmp/package.cpio.Z
M'YV0<8X!8%#A0Z!^ B0 2 ,@    +"HYB@%@P<,!-\*T(>-B#)LT9=S0>3@B
MQ LQ:=R\F(-&P0@0<^B$D4,'1!TX(#224: @C1D06T"$ -&"#(@7=>;(.9D2
M1!<%=-"$3$#U)5*E(-R\J=GF31V1978F*(,G#1T%9M+P7).&#1LX<MZ,09$"
MQ)ZJ(-BZ!1&U3%:-84' E5MFSAP4A5,H2  G#9D>8*XN1:D2SARB?ODL!L&9
MLV2F*L_(*8.31 P0FA-T]IQT<LJ5@5OX/3'GA1?.*EZ\.($9!.T7(%SDW@UF
M<5 1)!J3$2&T!P@1S+N ,&$B;ULV()([5M"'YPB7(*;(I+F2SAN<@\<4GE,8
MQ.@X==*,-FKFC9R<&T%X!"G2)<\Q8;#WG&G,I:0 ;>/1<8)B";PDWDPU]953
M'>9U]14=9<CAPF+?)> 34$3A<51K*U'V@DY.+=:7&XLE, <;99 &0@UXW1&&
M62#4=Y\<<(Q!F5'FZ?=&&W[=U.*';J014V$UA4'A&U^X408=+MAWQA=DR-?B
MBBTFX,87;80!1P].FA?EE%W6 ::89#[Y15(9ME@&&^QU^6688Y;YA@M2GD55
M FKBV:9Y+L I1XMI\415&W:,J-0+=+0!QXD;N9!A7')<]EFDD^IDJ1R8SN'"
M'&'8X9<,/AQ%1AEVO.!&'6ZU^-D<)J+8PA1$W=>"B&&XQ8)6>!*%4PO8;2HI
MI1Q=:I^F=607J)A'N9'=G=#Z .FQGBK7XHLQXA0##(LEFL .._"$X'D+*JH7
M=BU0480438  !H U7=MII<H5-VZY*C!8QAAHO/%<%:2>488.V<%@%TP)HL;P
M>2#T(<)BY"I06!AC* ! 0 -5 $(@M"2T4$,/1>0($  @\!  5\"QQADIU0< 
M%$L<T8,(.DWL1!!-%'%S$$]:")8<$UOQ[A1)/.'$S3G(  ,.,M!P$QLVW##Q
M$$&X>\034F1Q\QQY+-G&Q$%(,0027\,QTQBCOC%'#1-O+!!!(8 L,D,.061)
M+H4 H#$  E PF'ETY %'&0"$L*H93K)1TPTUU.#>&UN!0%E/@KT<\QMH9?6&
ME$=-.<8+*9GE AG(=O112'206>E^K"MPF5:@OR#Z"W*,,</I+TQQ PV>PBY2
M#[;3,7KI5*(>_.K]S?ZY7\6/GOONJ"_Q^_+\M1X]Z4DFG[KP9SE?^^VYR\"[
M]<"_SKSVMR//._:QBP\]^6/$</[UZF=/?/O=OY]__)X;G_%P-P88W"]]' '?
M_@;H/N7]KS\_H1WT2$2KU^BD!T$8U5=H\(4YN*T&7ZB!"V2 K,Y)T%%+J:!*
M-!('#&K0#1STX-M".$)*Q<&$ST-AB5YCACELSH5SV& '/TA#$O9P<SBL'05-
MU(8UM$ G+1!4!H,(PR'.4(0D;.(3-Q)%,2F 8RL+X\KR)D:+K(P*4@A"$ICP
IKA"X48QPC*,<YTC'.MKQCGC,HQ[WR,<^^O&/@ RD( =)R$(:\I"(%"-"
 
end


Rgds, Andy Chittenden

      __   __   __   
     |\ _\|\ _\|\ _\
     | |  |_|  |_|  |    |   DOMAIN:     asc@concurrent.co.uk
     | | :    :    :|    |   UUCP:       ...!uunet!ukc!concurrent!asc
     | |   ______   |    |   NEM:        asc slough
     | |  /    | \  |    |   Royal Mail: 227 Bath Road    
     | |  |    | |  |    |               Slough SL1 4AX, England 
      \|__|     \|__|    |   
                                   	
          CASEmate       




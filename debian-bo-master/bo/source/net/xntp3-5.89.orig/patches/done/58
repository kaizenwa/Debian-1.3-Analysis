Replied: Mon, 13 Jan 1997 20:12:16 -0500
Replied: "schueman@ix.netcom.com "
Replied: Mon, 13 Jan 1997 19:50:38 -0500
Replied: "schueman@ix.netcom.com "
Replied: Mon, 13 Jan 1997 17:41:57 -0500
Replied: "schueman@ix.netcom.com Mills@huey.udel.edu"
Received: from snow-white.ee.udel.edu by whimsy.udel.edu id aa01706;
          12 Jan 97 6:20 GMT
Received: from sverige (pas-ca12-10.ix.netcom.com [204.31.230.202]) by dfw-ix8.ix.netcom.com (8.6.13/8.6.12) with SMTP id WAA29959; Sat, 11 Jan 1997 22:19:44 -0800
Message-ID: <32D882C6.6D01@ix.netcom.com>
Date: Sat, 11 Jan 1997 22:20:54 -0800
From: Greg Schueman <schueman@ix.netcom.com>
Reply-To: schueman@ix.netcom.com
X-Mailer: Mozilla 3.0Gold (Win95; U)
MIME-Version: 1.0
To: stenn@whimsy.udel.edu
CC: Mills@huey.udel.edu
Subject: XNTP 3.5-88 mods for Windows NT
References: <9612171248.aa04594@huey.udel.edu>
Content-Type: multipart/mixed; boundary="------------734F2E1E7C08"

This is a multi-part message in MIME format.

--------------734F2E1E7C08
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Harlan,
  I've cleaned up some compiler warnings, fixed the qsort() 
parameter type warnings by defining HAVE_PROTOTYPE in the Makefiles,
and some misc cleanup.

I have also added /include/winnt which contains dummy
headers.  This allowed me to remove SYS_WINNT references from
several files.   All in all, less SYS_WINNT ifdefs to deal with.

I also ran the code through Purify (memory leak checker) under 
NT, and everything looks fine.  

I verified that the "net stop NetworkTimeProtocol" command 
works with the current version, as I wasn't sure in my last
message.

I'm attaching a Gzip'ed tar file containing the diffs and
the new dummy header files.

-Greg

--------------734F2E1E7C08
Content-Type: application/x-gzip; name="diffs3-5-88.tar.gz"
Content-Transfer-Encoding: base64
Content-Disposition: inline; filename="diffs3-5-88.tar.gz"

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
--------------734F2E1E7C08--


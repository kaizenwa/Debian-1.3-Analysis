dnl Process this file with autoconf to produce a configure script.
dnl Updated for autoconf 2.
dnl
AC_INIT(nfsd.c)
AC_CONFIG_HEADER(config.h)
AC_PROG_CC
# If we're using gcc, we want warning flags
test -n "$GCC" &&
  WARNFLAGS=-Wall RPC_WARNFLAGS="-Wno-unused -Wno-switch -Wno-uninitialized"
AC_SUBST(WARNFLAGS)
AC_SUBST(RPC_WARNFLAGS)
AC_PROG_CPP
AC_PROG_RANLIB
AC_PROG_RPCGEN
AC_RPCGEN_C
AC_RPCGEN_I
AC_GCC_TRADITIONAL
AC_AIX
AC_MINIX
AC_ISC_POSIX
AC_PROG_INSTALL
AC_CROSS_CHECK
AC_CONST
AC_DEV_T_SIZE
AC_CHECK_SIZEOF(unsigned long)
AC_VPRINTF
AC_STDC_HEADERS
AC_HEADER_DIRENT
AC_RETSIGTYPE
AC_ST_BLKSIZE
AC_ST_BLOCKS
AC_ST_RDEV
AC_STAT_MACROS_BROKEN
AC_UID_T
AC_MODE_T
AC_GETGROUPS_T
AC_XDRPROC_T
AC_UTIME_NULL
AC_MAJOR_HEADER
AC_HAVE_HEADERS(unistd.h string.h memory.h fcntl.h syslog.h sys/file.h sys/time.h utime.h)
AC_ALLOCA
AC_CHECK_LIB(nsl, main)
AC_CHECK_LIB(socket, main)
AC_REPLACE_FUNCS(strerror realpath mkdir rename utimes strdup strstr)
AC_HAVE_FUNCS(getcwd seteuid setreuid getdtablesize setgroups lchown setsid setfsuid setfsgid getnetgrent quotactl)
AC_MOUNTLIST
AC_FSUSAGE
AC_LIBWRAP_BUG
AC_OUTPUT(Makefile)

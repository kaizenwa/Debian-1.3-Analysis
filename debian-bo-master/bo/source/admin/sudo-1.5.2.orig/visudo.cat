


visudo(8)             MAINTENANCE COMMANDS              visudo(8)



NAME
     visudo - edit the sudoers file

SYNOPSIS
     visudo [ -V ]

DESCRIPTION
     visudo edits the _s_u_d_o_e_r_s file in a safe fashion, analogous
     to _v_i_p_w(8).  visudo locks the _s_u_d_o_e_r_s file against multiple
     simultaneous edits, provides basic sanity checks, and checks
     for parse errors.  If the _s_u_d_o_e_r_s file is currently being
     edited you will receive a message to try again later.  In
     the default configuration, the _v_i(1) editor is used, but
     there is a compile time option to allow use of whatever
     editor the environmental variables EDITOR or VISUAL are set
     to.

     visudo parses the _s_u_d_o_e_r_s file after the edit and will not
     save the changes if there is a syntax error.  Upon finding
     an error, a message will be printed stating the line
     _n_u_m_b_e_r(s) that the error occurred on and the user will
     receive the "What now?" prompt.  At this point the user may
     enter "e" to re-edit the _s_u_d_o_e_r_s file, enter "x" to exit
     without saving the changes, or "q" to quit and save changes.
     The "q" option should be used with extreme care because if
     visudo believes there to be a parse error, so will sudo and
     no one will be able to execute sudo again until the error is
     fixed.  Any other command at this prompt will print a short
     help message.  When editing the _s_u_d_o_e_r_s file after a parse
     error has been detected the cursor will be placed on the
     line where the error occurred (if the editor supports this
     feature).

OPTIONS
     visudo accepts the following command line option:

     -V  The -V (version) option causes visudo to print the
         version number and exit.

FILES
      /etc/sudoers           file of authorized users.
      /etc/stmp              lock file for visudo.


ENVIRONMENT VARIABLES
     The following are used only if visudo was compiled with the
     _E_N_V__E_D_I_T_O_R option:

      EDITOR                 Used by visudo as the editor to use.
      VISUAL                 Used by visudo if EDITOR is not set.





7/Sep/96                      1.5.2                             1






visudo(8)             MAINTENANCE COMMANDS              visudo(8)



AUTHOR
     Many people have worked on _s_u_d_o over the years, this version
     of visudo was written by:

      Todd Miller            <Todd.Miller@courtesan.com>

     See the HISTORY file in the sudo distribution for more
     details.

     Please send all bugs, comments, and changes to sudo-
     bugs@courtesan.com.

DISCLAIMER
     This program is distributed in the hope that it will be
     useful, but WITHOUT ANY WARRANTY; without even the implied
     warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the GNU General Public License for more
     details.

     You should have received a copy of the GNU General Public
     License along with this program; if not, write to the Free
     Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
     02139, USA.

CAVEATS
     Due to the syntax of the _s_u_d_o_e_r_s file, there is no way for
     visudo to tell the difference between a mistyped
     {Host,User,Cmnd}_Alias and a user or host name.

     There is no easy way to prevent a user from gaining a root
     shell if the editor used by visudo allows shell escapes.

BUGS
     The -_V flag gives the version of the _s_u_d_o package rather
     than the individual visudo program.

SEE ALSO
     _s_u_d_o(8), _v_i_p_w(8).

















7/Sep/96                      1.5.2                             2




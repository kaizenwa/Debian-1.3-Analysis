#!	/bin/ash

#todo=`echo $0 | sed -- 's/.*\///'`

case $0 in
ps|*/ps)
	for i in /proc/[0-9]*/; do
		read stat < $i/stat
		set -- $stat
		echo "$1	$2"
	done
	;;
uname|*/uname)
	if [ $# -gt 0 ]; then
		case $1 in
		-r|--release)
			set -- `cat /proc/version`
			echo $3
			;;
		-s|--sysname)
			echo "Linux"
			;;
		esac
	else
		echo "Linux"
	fi
	;;
emacs|*/emacs)
	echo "Emacs and vi are available in Debian, but wouldn't fit on
the installation floppies. Please type \"ae\" to invoke a tiny, but
easy-to-learn editor. As soon as you have you have your system
installed, you may install the \"emacs\" package, and/or the \"vim\"
or \"nvi\" packages. \"vim\" and \"nvi\" each provide a different
version of \"vi\"."
	;;
vi|*/vi)
	ae -f /etc/ae2vi.rc "$@"
	;;
mformat|*/mformat)
	;;
grep|*/grep)
	R="$1"
	shift
	sed /$R/P -n "$@"
	;;
lsmod|*/lsmod)
	echo "Module         Pages    Used by"
	cat /proc/modules
	;;
*)
	echo "no function defined for $0"
	exit 1
esac
exit 0

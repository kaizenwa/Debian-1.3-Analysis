.\" "%W% %G%"
.TH MKRBOOT\ 0.5 8
.SH NAME
mkrboot \- Generates combined kernel+root image floppies / .EXE files
.SH SYNOPSIS
.B mkrboot
method [ kernel [ rootimg [ device [ size ] ] ] ]
.SH DESCRIPTION
.I mkrboot
is a system administration tool that is primarily of use for generating
boot floppies for Linux distributions. Those boot floppies should be fairly
easy to handle and there should be the least number of disks possible. Mkrboot
makes installations possible with one or no boot disk.
.SH Parameters
.TP
.B method
The bootmechanism to use for booting up Linux. See below for the supported
methods.
.TP
.B kernel
A compressed linux kernel. If not specified the default /vmlinuz is assumed.
mkrboot will configure the kernel flags properly for booting.
.TP
.B rootimg
A compressed rootimage (a minix filesystem is probably best) that contains
the initial root filesystem to be used during installation. If not
specified the file root.bin in the current directoy is the default.
.TP
.B device
The device on which the floppy image should be generated. This can be
a ramdisk but then the size should also be specified. The default is
/dev/fd0 if omitted.
.br
When loadlin is the boot method then no floppy image is generated.
Instead a filename is specified to designate the name of the .ZIP file
to be written. The default is debinst.zip in the current directory. The debinst.zip image should be
copied onto a dos partition and possibly be converted to an exe using 
the "zip2exe.exe" program of pkzip.
.br
If the kernel method is used then the device can also be a regular file to
be generated.
.TP
.SH BOOT METHODS
Boot Methods to get a minimal Linux System started from one floppy or none:
.TP
.B loadlin
Generates a .ZIP file which contains everything needed to boot up. The .ZIP
File should be converted to an .EXE file using zip2exe from pkzip. The file can then be
distributed and the end user can simply type the name of it to decompress
it. The kernel, rootimage, loadli and an install script will be unpacked.
Typing "install" should then fire up the linux system.
.br
The advantage of this method is that it does not use any floppies at all and
thus has no size limitations. The kernel ramdisks are limited to 4 Megabytes
though. Therefore the maximum size of the compressed root image should be around 2
Megabytes.
.TP
.B lilo
Generates a floppy disk which can be booted with a combined kernel+root fs.
The floppy disk will be formatted as a MINIX Filesystem. I tried making it
a DOS fs but running lilo destroyed the root directory (?).
.br
Lilo boots are common for booting an already running Linux system. This
method should be the most familiar for Linux enthusiasts.
.TP
.B kernel
Uses the kernel loader. Also generates a floppy disk which boots with
combined kernel+root fs. The kernel loader has no interactive mode, so the
end user cannot change any boot parameters on a commandline! But the kernel
loader is the fastest method and the method that leaves the most room on the boot floppy.
.TP
.B fdos
Uses FreeDOS to boot up a minimal DOS system. Loadlin is used on the minimal
system to then load Linux. The advantage here is that everything can be
reconfigured on the dos level. A new kernel/root image can simply be copied
onto the floppy and it will work. The user can customize the rootdisk at
will!
.br
Troubles: FreeDOS is not very stable and the FreeDOS stuff takes up a
certian amoung of space on the boot disk.
.TP
.B syslinux
Uses a dos formatted floppy disk and a special boot loader to avoid loading
ms-dos. Permits changing any configuration on the disk itself without having
to run some tool afterwards.
.br
Right now syslinux is not able to do booting with a root image. The current
version should work with syslinux as soon as something is released that
supports that feature.
.SH AUTHOR
.TP
.I Christoph Lameter <clameter@debian.org>
Idea and Initial Version
.TP
.I Bernd Eckenfels <ecki@debian.org>
Enhancements, Sanity Checks and Maintaining
.RE
.SH COPYRIGHT GPL

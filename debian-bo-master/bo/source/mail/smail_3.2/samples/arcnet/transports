# @(#) transports,v 1.2 1990/10/24 05:19:49 tron Exp
#
# A transport to support the arcnet send/recvd protocol over the /net
# filesystem.  This works on a Fortune 32:16.  The basic idea is to
# hand a message to send.sh to be transmitted.  The message should be
# delivered to send.sh in batched SMTP format.

arcnet:	driver=pipe,		# deliver to a command through a pipe
	bsmtp;			# supply SMTP commands

	# pass the host and message-id to the send shell script
	cmd="/bin/sh /usr/lib/smail/forpro/send.sh ${lc:host} $message_id",
	user=root,		# keep files from being generally accessible
	umask=0600,		# 	" "
	-log_output,		# don't waste energy logging stderr

	# if the shell script fails, then the host is probably down,
	# so we should retry delivery at a later time.
	defer_child_errors

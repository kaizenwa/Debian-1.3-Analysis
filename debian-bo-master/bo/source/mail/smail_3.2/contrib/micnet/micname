: use /bin/sh
#
#  micname - return a list of micnet neighbors, without the local host, one
#            per line
#
#  J. O'Connor, Filtration Sciences Corp., January 18, 1989
#

# choose one of the methods below for identifying your local system
#LOCALSYS=`uname -n`     # won't work unless you've re-linked the kernel
#LOCALSYS=`uuname -l`    # won't work if you're not using uucp
LOCALSYS=`head -1 /etc/systemid`   # should work just about everywhere

# in top.next, all systems should be listed at least once in the first column
# or the routing mechanism will not work.  Multiple appearances are possible,
# but should be consecutive, so we can use "prev" to eliminate duplicates.
# 
awk '/^[A-z]/ && $1 != x && $1 != prev {print $1}' x=$LOCALSYS \
	/usr/lib/mail/top.next

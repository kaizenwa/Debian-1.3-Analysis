SMART-HOST,v 1.1 1994/10/18 08:41:19 nm4 Exp

To: gst@gnosys.svle.ma.us (Gary S. Trujillo)
Subject: Re: Smail3 problems
Reply-To: tron@veritas.com
Organization: VERITAS Software Corp.

>I wasn't sure where to put the "paths" file, since I still don't understand
>some very basic things.  By the way, thanks very much for the new "Instal-
>lation and Administration Guide."  It helps me to understand more than I was
>able to get out of the previous set of documents, but it still doesn't give
>definitions of basic terms, like "router" "transport" and "director."  Are
>these standard terms?  Is there a book or something that will give me a basic
>understanding of what these terms mean in the sense in which you're using them?

Basic definitions:

router:	a rule (based on a router driver, which is a set of C functions,
	that implement a class of routers) for matching hostnames and
	determining which transport to use for delivering to that host.

director: a rule (based on a director driver) which takes a local
	address and transforms into a set of new addresses (e.g.,
	alias exansion) or that assigns it to a transport for delivery
	(e.g., delivery to local users).

transport: a rule (based on a transport driver) defining how to deliver
	a message to an address that was matched by a router or a
	director.

>I think I about have things set up properly now, but I can't seem to configure
>the smarthost router properly.  I attempted to follow the instructions I found
>in src/conf.h, but it appears from the output I get from test runs that smail
>is attempting to find a pathalias file:

Smail looks for paths files by default.  However, also by default, if
it doesn't find a paths file, it ignores it rather than failing.  The
exact filenames depend upon the PATHS_PROTO that you set in your EDITME
file.  The default, bsearch, will look for a file called:

	/usr/lib/smail/paths.sort

which contains a sorted list of lines of the form:

	host	path!%s

or:

	.domain	path!%s

such files can be generated from the map data sent out through the
newsgroup comp.mail.maps.  They can also be generated by hand.  Small
paths files generated by hand can be quite useful for describing local
connectivity information.

The smarthost router is configured in by default, and can be enabled
by creating a file /usr/lib/smail/config containing a line such as:

	smart_path=uunet

The value for the smart_path parameter is a !-separated list of
hostnames defining the path through which all mail to otherwise
unrecognized hostnames will be sent.

Typically, all you should need to configure, if you wish to use defaults
for most everything, is your domain name, your os type, and the
smart_path value in your config file.  The default configuration does
allow you to create additional files, but if those files don't exist,
they are ignored.
-- 
	tron |-<=>-|		ARPAnet:  veritas!tron@apple.com
      tron@veritas.com		UUCPnet:  {apple,pyramid}!veritas!tron

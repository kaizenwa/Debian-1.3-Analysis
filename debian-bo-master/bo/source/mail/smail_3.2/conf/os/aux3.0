#ident	"@(#)smail/conf/os:RELEASE-3_2:aux3.0,v 1.3 1996/02/26 16:19:43 woods Exp"
#
# aux3.0 - define characteristics of Apple A/UX V3.x.x
#
# From: Jim Jagielski (jim@jagubox.gsfc.nasa.gov)
#   (Orig: denny@alisa.com)
#
# OSNAMES - Names defining this operating system
OSNAMES=UNIX_SYS5_3:UNIX_SYS5:UNIX:POSIX_OS

# ARCH_TYPE - all mc68k systems
ARCH_TYPE=32bit

# LOCKING_PROTOCOL - macros for efficient file locking
LOCKING_PROTOCOL="\
#include <unistd.h>
#include <sys/file.h>
#define lock_fd(fd)	      (flock((fd), LOCK_EX|LOCK_NB) < 0? FAIL: SUCCEED)
#define lock_fd_wait(fd)	(flock((fd), LOCK_EX) < 0? FAIL: SUCCEED)
#define unlock_fd(fd)		((void) flock((fd), LOCK_UN))
#define unlock_fd_wait(fd)	((void) flock((fd), LOCK_UN))
#define lock_fd_rd_wait(fd)	(flock((fd), LOCK_SH) < 0? FAIL: SUCCEED)
"

# FLOCK_MAILBOX - should mailbox files be locked with lock_fd_wait
FLOCK_MAILBOX=TRUE

# MAILBOX_DIR - in which directory are user mailbox files found
MAILBOX_DIR=/usr/mail

# CONSOLE - name of the console device file
CONSOLE=/dev/console

# DECLARE_STRINGS - declare string routines, using macros as needed
DECLARE_STRINGS="\
#include <string.h>
#define index strchr
#define rindex strrchr
"

# SECURE_PATH - directories containing system-supplied user programs
SECURE_PATH=/usr/ucb:/bin:/usr/bin

# OSLIBS - name any object libraries containing routines we will need
#OSLIBS=" -lbsd -ldbm"
OSLIBS=" -lposix -lbsd -ldbm"

# RANLIB - how do we organize an existing object archive library
RANLIB=:

# CPPFLAGS(list) - flags to pass into C preprocessor
CPPFLAGS=" -D_POSIX_SOURCE"

# DRIVER_CONFIGURATION - configuration file describing smail drivers
DRIVER_CONFIGURATION=arpa-network

# CHOWN - command to use for accessing the chown program
CHOWN=/bin/chown

# HAVE - what features should be used with this operating system
HAVE=RENAME:MKDIR:BSD_NETWORKING:DBM:BSTRING:SYS5_STRLIB:FSYNC
HAVE=$HAVE:GETOPT:GETHOSTNAME:UNAME:HASH_BANG:DUP2:READDIR
HAVE=$HAVE:VFPRINTF:ULIMIT:BIND:FTRUNCATE:SETGROUPS:SETEUID:HDB_UUCP

# MISC_DEFINES - localized smail fixes for A/UX
MISC_DEFINES=FORCE_DIRSIZ_VALUE=14:INCLUDE_UTIME_H
#

#ident	"@(#)smail/conf/os:RELEASE-3_2:sys5.3,v 1.7 1996/02/26 16:45:38 woods Exp"
#
# sys5.3 - define the characteristics of AT&T System V release 3

# NOTE:	Generic SVR3 supports limited networking using Streams.
#	However, generic SVR3 does not have TCP/IP, so the networking
#	features in Smail will not work.  If your SVR3 supports
#	TCP/IP networking with sockets (as many do), then create
#	an os file for your release of SVR3.  This os file should
#	add BSD_NETWORKING to the HAVE variable, and should add
#	any needed libraries or include-file directories to
#	OSLIBS and INCLUDES.  For an example, see 386ix.
#
#	Some versions of SVR3 networking do not store include
#	files in the expected places.  Such systems may require
#	source modifications.  In some circumstances, it may be
#	sufficient to add #include declarations to the MISC_C_DEFINES
#	variable (see 386ix+tcp).

# OSNAMES - Names defining this operating system
OSNAMES=UNIX_SYS5_3:UNIX_SYS5:UNIX

# ARCH_TYPE - this is likely true....
ARCH_TYPE=32bit

# LOCKING_PROTOCOL - macros for efficient file locking
LOCKING_PROTOCOL="\
#include <unistd.h>
#define LOCK_REQUIRES_WRITE
#define lock_fd(fd)		(lockf((fd), F_TLOCK, 0L) < 0? FAIL: SUCCEED)
#define lock_fd_wait(fd)	(lockf((fd), F_LOCK, 0L) < 0? FAIL: SUCCEED)
#define unlock_fd(fd)		((void) lockf((fd), F_ULOCK, 0L))
#define unlock_fd_wait(fd)	((void) lockf((fd), F_ULOCK, 0L))
#define USE_FCNTL_RD_LOCK
#define lock_fd_rd_wait(fd)	(fcntl_rd_lock(fd))
extern int fcntl_rd_lock();
"

# MAILBOX_DIR - in which directory are user mailbox files
MAILBOX_DIR=/usr/mail

# CONSOLE - name of the console device file
CONSOLE=/dev/console

# DECLARE_STRINGS - declare string routines, using macros as needed
DECLARE_STRINGS="\
#include <string.h>
#define bzero(b,n)	(memset((b),'\0',(n)))
#define bcopy(b1,b2,n)	(memcpy((b2),(b1),(n)))
#define bcmp(b1,b2,n)	(memcmp((b1),(b2),(n)))
#define index	strchr
#define rindex	strrchr
"

# SECURE_PATH - directories containing system-supplied user programs
SECURE_PATH=/bin:/usr/bin

# OSLIBS - name any object libraries containing routines we will need
OSLIBS=-lPW			# use this to get regcmp/regex

# DRIVER_CONFIGURATION - configuration file describing smail drivers
DRIVER_CONFIGURATION=unix-generic

# RANLIB - how do we organize an existing object archive library
RANLIB=:

# CHOWN - command to use for accessing the chown program
CHOWN=chown

# HAVE - what features should be used with this operating system
HAVE=BSTRING:SYS5_STRLIB:UNAME:READDIR:VFPRINTF:GETOPT:DUP2

# UUCP_SYSTEM_FILE - path to UUCP file containing remote systems
#
# Most (all?) SVR3 systems seem to have HDB UUCP.  If yours does not,
# then override UUCP_SYSTEM_FILE in the EDITME file.  Set it to
# /usr/lib/uucp/L.sys.
UUCP_SYSTEM_FILE=/usr/lib/uucp/Systems

# MAN1 - where smail user command man pages are to be installed
# MAN5 - where smail file format man pages are to be installed
# MAN8 - where smail administrator man pages should be installed
# MAN1_EXT - file extension for user command man pages
# MAN5_EXT - file extension for file format man pages
# MAN8_EXT - file extension for adminstrator man pages
#
MAN1_EXT=1
MAN1=/usr/man/u_man/man1
MAN5_EXT=4
MAN5=/usr/man/p_man/man4
MAN8_EXT=1m
MAN8=/usr/man/a_man/man1

# SMAIL_BIN_DIR - location for uupath, etc.
SMAIL_BIN_DIR=/usr/bin

# SMAIL_NAME - to replace sendmail completely
SMAIL_NAME=/usr/lib/sendmail

# OTHER_SMAIL_NAMES - to replace sendmail completely
OTHER_SMAIL_NAMES=/usr/bin/mailq

# NEWALIASES - to replace sendmail completely
NEWALIASES=/usr/bin/newaliases

# LIB_DIR - config files
LIB_DIR=/usr/lib/smail

# UTIL_BIN_DIR - programs
UTIL_BIN_DIR=/usr/lib/smail

# SPOOL_DIRS - doesn't use mqueue ala sendmail (too confusing)
SPOOL_DIRS=/usr/spool/smail

# LOG_DIR - logfile and paniclog
LOG_DIR=/usr/adm/smail

# TMP_DIR - secure tmp space
TMP_DIR=/usr/spool/smail/tmp

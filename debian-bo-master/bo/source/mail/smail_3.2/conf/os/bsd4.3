#ident	"@(#)smail/conf/os:RELEASE-3_2:bsd4.3,v 1.12 1996/02/26 16:23:39 woods Exp"
#
# bsd4.3 - define the characteristics of Berkeley UNIX Release 4.3

# OSNAMES - Names defining this operating system
OSNAMES=UNIX_BSD4_3:UNIX_BSD4_2:UNIX_BSD:UNIX

# ARCH_TYPE - this is likely true... (after all, all the world's a VAX!)
ARCH_TYPE=32bit

# LOCKING_PROTOCOL - macros for efficient file locking
LOCKING_PROTOCOL="\
#define lock_fd(fd)	      (flock((fd), LOCK_EX|LOCK_NB) < 0? FAIL: SUCCEED)
#define lock_fd_wait(fd)	(flock((fd), LOCK_EX) < 0? FAIL: SUCCEED)
#define unlock_fd(fd)		((void) flock((fd), LOCK_UN))
#define unlock_fd_wait(fd)	((void) flock((fd), LOCK_UN))
#define lock_fd_rd_wait(fd)	(flock((fd), LOCK_SH) < 0? FAIL: SUCCEED)
"

# FLOCK_MAILBOX - should mailbox files be locked with lock_fd_wait
FLOCK_MAILBOX=yes

# MAILBOX_DIR - in which directory are user mailbox files
MAILBOX_DIR=/usr/spool/mail

# CONSOLE - name of the console device file
CONSOLE=/dev/console

# DECLARE_STRINGS - declare string routines, using macros as needed
DECLARE_STRINGS="\
#include <string.h>
#define index strchr
#define rindex strrchr
"

# SECURE_PATH - directories containing system-supplied user programs
SECURE_PATH=/usr/ucb:/bin:/usr/bin

# OSLIBS - name any object libraries containing routines we will need
OSLIBS=-ldbm

# DRIVER_CONFIGURATION - configuration file describing smail drivers
DRIVER_CONFIGURATION=bsd-network

# RANLIB - how do we organize an existing object archive library
RANLIB=ranlib

# CHOWN - command to use for accessing the chown program
CHOWN=/etc/chown

# HAVE - what features should be used with this operating system
HAVE=RENAME:MKDIR:BSD_NETWORKING:SYSEXITS:NDBM:BSTRING:SYS5_STRLIB:GETOPT
HAVE=$HAVE:GETHOSTNAME:HASH_BANG:DUP2:READDIR:SETGROUPS:FSYNC:FTRUNCATE:COMSAT

# MISC_DEFINES - miscellaneous definitions
#
# 4.3BSD has utime(), but does not have a header file containing the
# utimbuf structure, so declare it ourselves.
MISC_DEFINES=DECLARE_UTIMBUF

# UUCP_SYSTEM_FILE - path to UUCP file containing remote systems
UUCP_SYSTEM_FILE=/usr/lib/uucp/L.sys

SOCKET_INCLUDES='
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#ifdef HAVE_BIND
# undef NOERROR		/* remove conflict in SVR4 header files */
# include <arpa/nameser.h>
# include <resolv.h>
#endif
'

# SMAIL_BIN_DIR - location for uupath, etc.
SMAIL_BIN_DIR=/usr/bin

# SMAIL_NAME - to replace sendmail completely
SMAIL_NAME=/usr/sbin/sendmail

# OTHER_SMAIL_NAMES - to replace sendmail completely
OTHER_SMAIL_NAMES=/usr/bin/mailq

# NEWALIASES - to replace sendmail completely
NEWALIASES=/usr/bin/newaliases

# LIB_DIR - config files
LIB_DIR=/etc/smail

# UTIL_BIN_DIR - programs
UTIL_BIN_DIR=/usr/libexec/smail

# SPOOL_DIRS - doesn't use mqueue ala sendmail (too confusing)
SPOOL_DIRS=/var/spool/smail

# LOG_DIR - would be better to use just /var/log with better names?
LOG_DIR=/var/log/smail

# TMP_DIR - secure tmp space
TMP_DIR=/var/spool/smail/tmp

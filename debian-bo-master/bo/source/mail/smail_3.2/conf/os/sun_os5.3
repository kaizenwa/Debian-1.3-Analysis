#ident	"@(#)smail/conf/os:RELEASE-3_2:sun_os5.3,v 2.2 1996/02/26 16:33:27 woods Exp"
#
# sun_os5.3
# Base OS file for SunOS 5.3 / Solaris 2.3

# Based on
# posix - base os file for any P1003.1/X3J11-conformant system

# Definitely not based on the SVR4 base os file; that way lies madness

# WARNING: should source posix directly ala 5.1

# See the file "template" for an explanation of the settings in
# this file.

# I assume you're too cheap to fork out for Sun's official CC

# OSNAMES - Names defining this operating system
OSNAMES=POSIX_OS:UNIX_SYS5:UNIX_SUN_OS:UNIX

# ARCH_TYPE - this is likely true.... (may run on UltraSPARC?)
ARCH_TYPE=32bit

# LOCKING_PROTOCOL - macros for efficient file locking
LOCKING_PROTOCOL="\
#include <unistd.h>
#define LOCK_REQUIRES_WRITE
#define lock_fd(fd)		(lockf((fd), F_TLOCK, 0L) < 0? FAIL: SUCCEED)
#define lock_fd_wait(fd)	(lockf((fd), F_LOCK, 0L) < 0? FAIL: SUCCEED)
#define unlock_fd(fd)		((void) lockf((fd), F_ULOCK, 0L))
#define unlock_fd_wait(fd)	((void) lockf((fd), F_ULOCK, 0L))
#define USE_FCNTL_RD_LOCK
#define lock_fd_rd_wait(fd)	(fcntl_rd_lock(fd))
extern int fcntl_rd_lock();
"

# MAILBOX_DIR - directory containing user mailbox files
MAILBOX_DIR=/var/mail

# CONSOLE - name of the console device file
CONSOLE=/dev/console

# DECLARE_STRINGS - declare string routines, using macros as needed
DECLARE_STRINGS="\
#include <string.h>
#define bzero(b,n)	(memset((b),'\0',(n)))
#define bcopy(b1,b2,n)	(memcpy((b2),(b1),(n)))
#define bcmp(b1,b2,n)	(memcmp((b1),(b2),(n)))
#define index	strchr
#define rindex	strrchr
"

# SECURE_PATH - guess at secure path (specific OS's should probably override)
SECURE_PATH=/bin:/usr/bin:/usr/sbin:/usr/ucb

# DRIVER_CONFIGURATION - configuration file describing smail drivers
DRIVER_CONFIGURATION=arpa-network

# RANLIB - how do we organize an existing object archive library
RANLIB=:

# CHOWN - command to use for accessing the chown program
CHOWN=chown

# OS_HAVE - name the capabilities of this operating system
HAVE=BIND:BSD_NETWORKING:YP:COMSAT:DUP2:FSYNC:FTRUNCATE:GETOPT:HASH_BANG:HDB_UUCP:MKDIR:NDBM:READDIR:RENAME:RLIMIT:SETEUID:SETGROUPS:SYS5_STRLIB:ULIMIT:UNAME:VFORK:VFPRINTF:MEMMOVE

# MISC_DEFINES - some random oddities
MISC_DEFINES=INET_NTOA_USE_STRUCT:NO_FORWARDTO_FILE:NEED_SOCKETS

# Who is nobody?  Nobody is nobody
NOBODY=nobody

# Libraries containing stuff we may need.  Note pointed exclusion of any
# of that /usr/ucblib crap
OSLIBS="-lgen -lsocket -lresolv -lnsl -lc"

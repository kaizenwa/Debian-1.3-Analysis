#ident	"@(#)smail/conf/os:RELEASE-3_2:bsd4.4,v 2.4 1996/02/26 16:24:28 woods Exp"
#
# 4.4BSD - the real thing?

. $ROOT/conf/os/posix		# this is (almost) a P1003.1-compliant system

# OSNAMES - Names defining this operating system
OSNAMES=$OSNAMES:UNIX_BSD4_4:UNIX_BSD4_3:UNIX_BSD4_2:UNIX_BSD:UNIX

# ARCH_TYPE - so far as I know, no 4.4bsd port runs on 16-bit any more...
ARCH_TYPE=32bit

# LOCKING_PROTOCOL - macros for efficient file locking (no lockf() on 4.4BSD)
LOCKING_PROTOCOL="\
#define lock_fd(fd)	      (flock((fd), LOCK_EX|LOCK_NB) < 0? FAIL: SUCCEED)
#define lock_fd_wait(fd)	(flock((fd), LOCK_EX) < 0? FAIL: SUCCEED)
#define unlock_fd(fd)		((void) flock((fd), LOCK_UN))
#define unlock_fd_wait(fd)	((void) flock((fd), LOCK_UN))
#define lock_fd_rd_wait(fd)	(flock((fd), LOCK_SH) < 0? FAIL: SUCCEED)
"

# FLOCK_MAILBOX - should mailbox files be locked with lock_fd_wait
FLOCK_MAILBOX=yes

# SECURE_PATH - directories containing system-supplied user programs
SECURE_PATH=/sbin:/bin:/usr/sbin:/usr/bin

# OSLIBS - name any object libraries containing routines we will need
OSLIBS=-lcrypt

# DRIVER_CONFIGURATION - configuration file describing smail drivers
DRIVER_CONFIGURATION=arpa-network

# USE_SYMLINKS - safer to install this way if possible....
USE_SYMLINKS=yes

# RANLIB - how do we organize an existing object archive library
RANLIB=ranlib

# CHOWN - command to use for accessing the chown program
CHOWN=/usr/sbin/chown

# HAVE - what features should be used with this operating system
HAVE=$HAVE:BSD_NETWORKING:SYSEXITS:NDBM
HAVE=$HAVE:GETHOSTNAME:HASH_BANG:SETGROUPS:FSYNC:FTRUNCATE:COMSAT
HAVE=$HAVE:BIND:STRERROR

# NO_HAVE - what features are not available on this operating system
#[[ this is because of the db(3) emulation of ndbm ]]
NO_HAVE=DBM_PAGFNO

# MAN1 - where smail user command man pages are to be installed
# MAN5 - where smail file format man pages are to be installed
# MAN8 - where smail administrator man pages should be installed
# MAN1_EXT - file extension for user command man pages
# MAN5_EXT - file extension for file format man pages
# MAN8_EXT - file extension for adminstrator man pages
#
# [[ This may not be correct for pure 4.4BSD man system.... ]]
#
MAN1_EXT=1
MAN1=/usr/share/man/man1
MAN5_EXT=5
MAN5=/usr/share/man/man5
MAN8_EXT=8
MAN8=/usr/share/man/man8

# MISC_DEFINES - miscellaneous definitions
#
# 4.4BSD has utime(), but does not have a header file containing the
# utimbuf structure, so declare it ourselves.
MISC_DEFINES=DECLARE_UTIMBUF:INET_NTOA_USE_STRUCT:NO_WAIT_USE_UNION:USE_LOCAL_MAIL_COMMAND

# UUCP_SYSTEM_FILE - path to UUCP file containing remote systems
# [[ This assumes BSD-UUCP....  woods@planix.com ]]
UUCP_SYSTEM_FILE=/etc/uucp/sys

ALIASES_FILE=/etc/aliases
ALIASES_TYPE=dbm

COMPRESS=compress
COMP_FLAG="-f"
UNCOMPRESS=uncompress
ZCAT=zcat
DOT_Z=".Z"

# SMAIL_BIN_DIR - location for uupath, etc.
SMAIL_BIN_DIR=/usr/bin

# SMAIL_NAME - to replace sendmail completely
SMAIL_NAME=/usr/sbin/sendmail

# OTHER_SMAIL_NAMES - to replace sendmail completely
OTHER_SMAIL_NAMES=/usr/bin/mailq

# NEWALIASES - to replace sendmail completely
NEWALIASES=/usr/bin/newaliases

# LIB_DIR - config files
LIB_DIR=/etc/smail

# UTIL_BIN_DIR - programs
UTIL_BIN_DIR=/usr/libexec/smail

# SPOOL_DIRS - doesn't use mqueue ala sendmail (too confusing)
SPOOL_DIRS=/var/spool/smail

# LOG_DIR - would be better to use just /var/log with better names?
LOG_DIR=/var/log/smail

# TMP_DIR - secure tmp space
TMP_DIR=/var/spool/smail/tmp

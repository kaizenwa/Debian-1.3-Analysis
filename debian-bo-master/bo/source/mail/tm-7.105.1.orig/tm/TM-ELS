;;; -*-Emacs-Lisp-*-
;;;
;;; $Id: TM-ELS,v 7.6 1997/01/21 07:23:27 morioka Exp $
;;;

(setq tm-modules-to-compile
      '(signature
	tm-def
	tm-ew-d tm-parse tm-view tm-text tm-play tm-partial
	tm-latex tm-html tm-tar tm-file
	tm-ew-e tm-edit
	tm-setup))

(setq tm-modules-not-to-compile '(sc-setup))

(mapcar (function
	 (lambda (cell)
	   (let ((c-module (car cell))
		 (i-modules (cdr cell))
		 )
	     (if (module-installed-p c-module)
		 (setq tm-modules-to-compile
		       (nconc tm-modules-to-compile i-modules))
	       (setq tm-modules-not-to-compile
		     (nconc tm-modules-not-to-compile i-modules))
	       )
	     )))
	'((ange-ftp	tm-ftp)
	  (mailcrypt	tm-pgp tm-edit-mc)
	  (bbdb		tm-bbdb)
	  ))

(if (and (file-exists-p "tm-evs.el")
	 (or (boundp 'MULE)
	     (boundp 'NEMACS))
	 )
    (setq tm-modules-to-compile (nconc tm-modules-to-compile '(tm-evs)))
  )

(if (or (string-match "XEmacs" emacs-version)
	(featurep 'mule))
    (setq tm-modules-to-compile (nconc tm-modules-to-compile '(tm-image)))
  )

(setq tm-modules (append tm-modules-to-compile
			 tm-modules-not-to-compile))

;;; TM-ELS ends here

				*****************
				TkMail v4.0 beta8
				*****************

     !!!!!!!! READ THE BETANOTES FILE BEFORE RUNNING TKMAIL4 !!!!!!!!


INTRODUCTION:

   TkMail is an X windows interface to mail built using Tcl/Tk.
   Reading, sending, and managing mail messages can almost all be done
   using only the mouse (except for the body of the message, of course).
   TkMail writes its folders in the format of the standard unix 'Mail'
   command.  It also uses 'sendmail' commands to do the mail delivery
   work.

   Major Features:
	- listbox interface to messages for easy click and read
	- multiple viewers can be opened on different or the same folder
	- dynamic (at startup) menus for quick access to mail folders
	  for reading, copying, and moving messages
	- button bar for quick composing, replying to, and forwarding of
	  mail messages
	- built in 'biff' icon for notification of new mail on
	  multiple folders
	- easy inclusion of files into message compositions with
	  automatic uuencoding and compression, if desired
	- access alternate editor for compositions to send
	- spell check compositions using a X windows interface
	  (must have the ispell program version 3.0.09, not 4.0!)
	- reads aliases from either standard .mailrc or elm aliases.txt
	- easy piping of message text through unix filters
	- emacs-like key-bindings for text editing
	- emacs-like autosave
	- sorting of messages on any field and the ability to
	  write out the folder physically in that order
	- simple MIME reading and compostion tools (not yet in beta2)


INSTALLATION:

   I have run TkMail successfully on SUN, SGI, Linux and IBM RS/6000 systems.
   (Actually, so far for beta8, I have only run on SGI).
   However, each system has a special site-tailored mail system so everyone
   should test tkmail extensively for themselves before using regularly.

   I apologize for the length process below, but I will create a configure
   script and global make as soon as I learn autoconf better.

   (1)  run the configure script

   (2)  Edit the Config.mk file and set the defines to match your site.
        Follow the instruction there. YOU MUST NOT SKIP THIS STEP!

   (3)  Type 'make' or 'make "CC=gcc"'. You need an ANSI C compiler.

   (4)  Type 'make install'. You may also need to make the 'dotlock' 
        binary setuid/setgid by hand unless your mail spool directory
	has its sticky bit set (as do most installation of SUN & LINUX).
	The current thought in security circles is that the sticky bit
	method is better than using a setuid/setgid program.

   (5)  Test dotlock.
	  1) Make sure that you don't have a ~/.forward file
	     unless it is running a personal delivery agent like procmail
	     so that mail message will go to your spool file
	  2) Type: dotlock -s
	  3) Mail yourself a message 
	  4) Watch your mail spool folder and make sure it doesn't arrive
	  5) Type: dotlock -u -s
	  6) Make sure the message now arrives
	   
   (6)  Look at the SETTINGS section in the help.txt file for descriptions
	of setting you might want to put into your ~/.tkmail4rc file
	(~/.tk/tkmail4rc is also supported). An example ~/.tkmail4rc is
	included in example.tkmail4rc.

   (7) If you are updating from a 2.x version of TkMail, you will most
	likely need to modify your ~/.tkmailrc file to use the new
	variable name scheme. I have included a sed script called
	newvar.sed to quickly do this. Type
		sed -f newvar.sed ~/.tkmailrc > ~/.tkmail4rc

   Now you are ready to run!

COMPATIBILITY:

   This version of TkMail is for Tk4.0+ only and will not work with
   Tk3.6. 

   There are aspects of mail handling which are still not standard
   across all platforms or even versions of operatings systems. Also,
   there is no guarantee that it is bug free, so don't trust TkMail
   without at least running it through a few tests yourself!  Make a
   backup copy of your ~/mbox file and some of your folders and then
   test out TkMail's operations on those files.

   TkMail depends on mail delivery program like 'sendmail' such that
   the following

       cat file | sendmail -bm -t

   mails file to users in To:, Cc:, and Bcc: fields. This bypasses the
   Mail command and therefore options such as 'record'.  I have
   created the mf(compose-fcc-folder) user setting to account for
   this. It might be necessary to hack the mfv:record-mesg procedure
   in compose.tk to make it fit your mail folder format. You can
   change the name of the mail delivery program in the Makefile with
   the DELIVERY variable.

   For spell checking, TkMail uses ispell by Geoff Kuenning, NOT Gnu
   Ispell 4.0. You can get it by anonftp at ftp.cs.ucla.edu:pub/ispell.
   This is required only if you want to run the spell checker and can be
   turned off using the HAVEISPELL variable in the Makefile. If when
   using the spell checker, you notice that mispelled words are
   highlighted one character off, you will need to toggle the state of
   the tkisp(adj_offset) setting at the top of the ispell.tk file.

   TkMail calls the following standard UNIX programs that must be in
   your path: ls, cat, touch, whoami, sort, rm, uudecode, mkdir and
   date.
    
STABILITY:

  I believe TkMail is very stable in the most important thing: not losing
  mail.  If TkMail hangs or is killed, you should always be able to find
  your mail in your system spool, main folder, or in the temporary directory.
  The most risky operation is always moving mail from your system spool
  to personal folders.  However, if locking is working properly on your
  system, this should be no problem.

  I do have a method for compositions to be saved to disk periodically.
  However, there is no mechanism to save things on a signal that kills
  tkmail such as one that causes a core dump.

  The MIME tools in TkMail are still very experimental. MIME parsing can 
  be easily turned on an off from the main viewer menu. I try to do all
  the MIME parsing in the Perl scripts myself. I now think it would be
  better to use special features of the metamail program. Some might find
  it more stable to just use the mfv:xterm-command features of tkmail to
  pipe a message directly to metamail. The included example.tkmail4rc file
  shows how to do this.

A WORD OF CAUTION:

   The way alot of people use TkMail (including me) is have TkMail
   always running, most of the time as an icon to signal new mail.
   When I log off, I don't bother to quit TkMail (or any of the other
   X applications running) explicitly.  Therefore, pending deletes and
   marking of messages as read may not be done. On some badly designed
   systems, it might be possible to lose new incorporated mail. You
   should test this by sending yourself a test mail message, running
   TkMail from a shell (not in the background), incorporating the
   mail, and then killing X windows. Restart X windows and rerun
   TkMail and see if the test message is still there.  Please email me
   if you find this behavior on your system. My hope is that my signal
   code will catch everything properly.

   One way around the problem is to use a problem like xmexit to
   quit your X session. This program first tries to do tell the X
   application to quit themselves, and if they don't respond, kills
   them. TkMail will answer this. I have modified xmexit to use
   Athena Widgets and placed the distribution at the SLAC ftp site.

   ftp.slac.stanford.edu:pub/software/TkMail/xtexit.tgz

MAILING LIST:

A Majordomo mailing list exists for general discussion of the TkMail
program. It is unmoderated and unrestricted, but at this point gets
very little traffic.  Feel free to use it to post examples of your
extensions to TkMail that you think are of general interest. Most
bug reports should just be sent to raines@slac.stanford.edu unless 
you they concern UNIX platform problems. To join, send a message to

           listserv@mailbox.slac.stanford.edu

in which the first line of the BODY is

        subscribe tkmail-l <your_address>

Obviously, <your_address> should be replaced with your address.

Another list, tkmail-dev, is used for beta testers of the current
development version of tkmail. Feel free to join this list if you
are intested in contributing to the development of the next release.

FTP SITE:

   The latest version of TkMail is always available by anonymous ftp at
        ftp.slac.stanford.edu:software/TkMail/tkmail.tar.gz


Paul Raines
November 3, 1996


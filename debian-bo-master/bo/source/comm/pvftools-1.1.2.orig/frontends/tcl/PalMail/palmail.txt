


PalMail(1)                                             PalMail(1)


NNAAMMEE
       PalMail - a frontend for Voice/FAX messages.

SSYYNNOOPPSSIISS
       PPaallMMaaiill

DDEESSCCRRIIPPTTIIOONN
       PPaallMMaaiill  is  an  user  interface to view, print and delete
       Voice and FAX messages.  Most commands  are  designed  for
       intuitive  use and hopefully don't nead a verbose descrip-
       tion.

       PPaallMMaaiill consists of several modes. They are  displayed  in
       the menubar at the top of the window. The currently active
       mode is emphasized. You can select  another  mode  with  a
       mouseclick  or  by  pressing the _A_l_t key together with the
       first letter of the mode. If there are two modes  starting
       with the same first letter, you have to press _A_l_t_-_S_h_i_f_t to
       activate the second mode.  E.g.  VVooccIINN is invoked by  _A_l_t_-
       _V_, VVooccOOUUTT is invoked by _A_l_t_-_S_h_i_f_t_-_V_.  You may also use the
       _l_e_f_t_- or _r_i_g_h_t_-_a_r_r_o_w keys to circulate the modes.
       Each mode has an individual menubar at the bottom  of  the
       window.   You can activate those buttons with a mouseclick
       or with the capitalized letter ( without _A_l_t ). The UUppddaattee
       button will always reread the directory or file.
       The listbox entries may be selected with the mouse or with
       the keys _U_p_, _D_o_w_n_, _S_p_a_c_e and _S_h_i_f_t_-_S_p_a_c_e_.
       The behaviour of the listbox is different for TTkk  Versions
       3.6 and 4.0, so you may try it yourself.  A doubleclick on
       an entry also activates the first command button.
       The checkbutton 'Multipage'  controls  whether  multipaged
       faxes  are displayed as one entry or as separate pages. It
       can be toggled with the mouse or with _A_l_t_-_M_.
       There is another box for displaying the  process  informa-
       tion. This text can be scrolled with the mouse or with the
       keys _S_h_i_f_t_-_U_p and _S_h_i_f_t_-_D_o_w_n_.
       PPaallMMaaiill is terminated with the EExxiitt button or by  pressing
       _E_s_c_.

       RRiinngg  displays basic information about all connections and
       phone rings.

              Normally the L_AUDIT lines (containing "#####")  of
              the  mmggeettttyy  logfile are scanned to find the neces-
              sary information.  At least loglevel 2 is required.
              The  results  are stored in _/_v_a_r_/_l_o_g_/_r_i_n_g_l_o_g_.  This
              scanning may take a while, depending on the size of
              the  logfile.   For this reason you may use ccrroonn to
              shorten the logfile periodically. The provided file
              ttaaiill__lloogg  may  be  used  as  an  example file to be
              invoked by cron.  If the ringlog file is newer than
              the  mgetty logfile, no scanning is done.  Alterna-
              tively you can patch mmggeettttyy//vvggeettttyy  to  create  the
              ringlog file itself. Ask Sven Palme for details.



                           PalMail 0.93                         1





PalMail(1)                                             PalMail(1)


              To  disable  this  mode  totally,  delete  the file
              _/_v_a_r_/_l_o_g_/_r_i_n_g_l_o_g which was created during installa-
              tion.
              You  may  RReennaammee  or DDeelleettee selected entries of the
              ringlog file or CClleeaarr the whole file.
              The command PPiicckk UUpp is useful if you  pick  up  the
              phone  manually  and  recognize a fax or a modem on
              the other end of the line.  Then you can press PPiicckk
              UUpp and your modem should take over. This would only
              work, if you invoke PPaallMMaaiill as root, since  it  has
              to  send vvggeettttyy a _k_i_l_l _-_S_I_G_U_S_R_1_.  For this reason a
              simple C-program is provided which can be run SUID.
              It  does some security checking, so I think/hope it
              is save to use it.  If you still  consider  this  a
              security hole, change the variable _A_T_A___M_O_D_E to 0750
              in the Makefile before installation.

       VVooccIINN handles incoming voice messages.

              In this mode all voice calls are displayed  in  the
              listbox.    If   the   spool   directory   (usually
              _/_v_a_r_/_s_p_o_o_l_/_v_o_i_c_e_/_i_n_c_o_m_i_n_g ) is not found, this mode
              is  not available.  PPaallMMaaiill checks the spool direc-
              tory and displays the filedate of each call.  If  a
              file  has  been renamed, the file name is also dis-
              played.  Files are sorted in the order of incoming.
              You may select one or more items in the listbox and
              press the appropriate button  to  PPllaayy,,  RReennaammee  or
              DDeelleettee  the  selected  files.  The SSttoopp button will
              stop playing a message by _k_i_l_l_a_l_l _z_p_l_a_y_.   If  more
              than one file were selected, the next selected file
              will be played.

       VVooccOOUUTT handles (outgoing) greeting messages.

              In this mode all  recorded  greeting  messages  are
              displayed  in  the listbox.  If the spool directory
              (usually _/_v_a_r_/_s_p_o_o_l_/_v_o_i_c_e_/_m_e_s_s_a_g_e_s ) is not  found,
              this mode is not available.  The system files _I_n_d_e_x
              and _b_e_e_p are not displayed. The  files  are  sorted
              alphabetically.
              You  may  PPllaayy,,  RReeccoorrdd,, AAccttiivvaattee,, rreeNNaammee or DDeelleettee
              messages. If you rreeNNaammee a file, spaces in the file-
              name  are converted to underscores.  SSttoopp will stop
              playing as well as recording.
              The file _I_n_d_e_x is internally used to  activate  one
              or  more  greeting  messages.   Errors in this file
              (e.g.  non-existing  filenames)  are  automatically
              corrected.  At  least  one  message should be acti-
              vated.  vvggeettttyy will pick a random  message  out  of
              the  activated  ones  when  it  answers  the phone.
              Activated messages are marked with a _* at the  left
              of  the filename.  The AAccttiivvaattee command toggles the
              active-status of the selected files.



                           PalMail 0.93                         2





PalMail(1)                                             PalMail(1)


              Recording will last until you press SSttoopp,,  PPllaayy  or
              again  RReeccoorrdd..  It will also stop, if you exit PPaall--
              MMaaiill..

       FFaaxxIINN handles incoming faxes.

              In this mode all incoming faxes  are  displayed  in
              the  listbox.   If  the  spool  directory  (usually
              _/_v_a_r_/_s_p_o_o_l_/_f_a_x_/_i_n_c_o_m_i_n_g ) is not found,  this  mode
              is  not available.  PPaallMMaaiill checks the spool direc-
              tory and displays the filedate and the phone number
              of the sender of each fax.  Files are sorted in the
              order of incoming.  PPaallMMaaiill manages a  database  of
              phone  numbers  and the full names of their owners.
              When somebody sends you a fax the first  time,  the
              fax  number  is  shown in the listbox. You may then
              select this fax and press AAdddd DDBB to assign  a  name
              to  the  fax  number.  It  will  be stored into the
              database. Then the full name of the sender will  be
              displayed  instead  of  the phone number whenever a
              fax from this sender is detected. To change a  name
              just select a fax from this sender and press AAdddd DDBB
              again. To remove a name do the same  and  enter  an
              empty  string  (delete  all  characters  of the old
              name). The phone number will be displayed again.
              You may also select one or more items in the  list-
              box and press the appropriate button to VViieeww,, PPrriinntt
              or DDeelleettee the selected files. The resolution of the
              faxes  is  automatically  detected  and the correct
              commands are invoked.

       FFaaxxOOUUTT handles spooled (outgoing) faxes.

              In this mode all spooled faxes are displayed in the
              listbox.    If   the   spool   directory   (usually
              _/_v_a_r_/_s_p_o_o_l_/_f_a_x_/_o_u_t_g_o_i_n_g ) is not found,  this  mode
              is  not available.  PPaallMMaaiill checks the spool direc-
              tory and displays the filedate of the JOB-file, the
              sender,  the  destination  and  the filename of the
              source of each fax. Files are sorted in  the  order
              of  incoming.   The  leftmost  letter  of each line
              indicates the status of the job:
              qq:: indicates a queued fax, which will  be  sent  at
              the next ffaaxxrruunnqq run.
              dd:: indicates an already sent fax.
              ss:: indicates a suspended fax.
              LL::  indicates  a locked fax. This will be the case,
              if ffaaxxrruunnqq just sent the fax  at  the  moment,  the
              directory was scanned.
              ??:: The JOB-file wasn't recognized.
              You may select one or more items in the listbox and
              press the appropriate button to VViieeww or  PPrriinntt  the
              selected  files.  The  resolution  of  the faxes is
              automatically detected and the correct commands are



                           PalMail 0.93                         3





PalMail(1)                                             PalMail(1)


              invoked.
              FFaaxxrruunnqq  will send all spooled faxes, which are not
              suspended or already sent.  This command would only
              work  if you invoke PPaallMMaaiill as root.  For this rea-
              son a simple C-program is provided which can be run
              SUID.  If you consider this a security hole, change
              the variable _F_A_X_R_U_N_Q___M_O_D_E to 0750 in  the  Makefile
              before  installation.  PPaallMMaaiill will display logging
              messages in the information box.   This  displaying
              will  only  work  if you don't use xxhhoosstt for access
              control (it uses the _s_e_n_d mechanism of TTccll  ).  Use
              xxaauutthh  instead. If the send mechanism doesn't work,
              the output will be displayed to stdout and you have
              to stop FFaaxxrruunnqq manually to continue. While FFaaxxrruunnqq
              is running, all other commands are locked. You  may
              press  _S_t_o_p  to  cancel  the command. If _s_e_n_d_f_a_x is
              already running, this  will  take  some  time.  You
              can't stop dialing.
              The  following  commands  refer  to  all pages of a
              queued fax, even if only one page is selected.
              If you SSuussppeenndd a queued fax, it won't  be  sent  at
              the  next  ffaaxxrruunnqq run. This will only affect faxes
              with a qq:: flag.
              If you RReessppooooll an already sent or suspended fax, it
              will  be  sent  again at the next ffaaxxrruunnqq run. This
              will only affect faxes with a dd:: or ss:: flag.
              To delete a fax, select one or more  pages  of  the
              fax and press the DDeelleettee button. The whole fax (all
              pages) will be removed from the spool directory. It
              is  not possible to remove only selected pages from
              a fax.

       CCoonnnneecctt handles connections to other hosts.

              In   this   mode   the   contents   of   the   file
              _/_u_s_r_/_l_o_c_a_l_/_l_i_b_/_P_a_l_M_a_i_l_/_i_n_-_h_o_s_t_s  are  displayed  in
              the listbox. They can be used to create an internet
              connection  via SLIP or PPP. Usually this file con-
              tains a list of hostnames.  To  use  these  listbox
              entries,   the   commands   _d_o___C_o_n_n_e_c_t___c_o_m_m_a_n_d  and
              _d_o___D_i_s_C_o_n_n_e_c_t___c_o_m_m_a_n_d in the configuration  section
              of  PPaallMMaaiill must have been configured. The variable
              _$_f will be replaced with the value of  the  listbox
              entry.
              CCoonnnneecctt  will  try to connect to the first selected
              host. It  will  display  logging  messages  in  the
              information  box. This displaying will only work if
              you don't use xxhhoosstt for access control (it uses the
              _s_e_n_d  mechanism of TTccll ). Use xxaauutthh instead. If the
              send mechanism doesn't work,  the  output  will  be
              displayed to stdout.
              The  button  OOffff closes a previously opened connec-
              tion. You may press this button  while  dialing  to
              stop it.



                           PalMail 0.93                         4





PalMail(1)                                             PalMail(1)


              AAdddd  lets you add a new hostname to the listbox. It
              is not possible to enter a name, if the appropriate
              connect  skript  doesn't  exist.  DDeelleettee removes an
              entry from the listbox. All changes are saved imme-
              diately.
              To  disable  this  mode  totally,  delete  the file
              _/_u_s_r_/_l_o_c_a_l_/_l_i_b_/_P_a_l_M_a_i_l_/_i_n_-_h_o_s_t_s after installation.



SSEEEE AALLSSOO
       TTccll//TTkk is a programming system for developing GUI applica-
       tions written by John K. Ousterhout.  You  need  at  least
       the  windowing shell wwiisshh((11)) to run PPaallMMaaiill..  It will work
       with TTkk versions 3.6 and 4.0. Other versions may work, but
       are not tested.

       mmggeettttyy((11))  from the mmggeettttyy++sseennddffaaxx package written by Gert
       D"oring <gert@greenie.muc.de> allows to use  a  FAX  modem
       for  receiving  FAX  messages and handling external logins
       without interfering with outgoing calls.

       ffaaxxvviieeww((11)) by Ralph Schleicher <rs@purple.in-ulm.de> is  a
       simple  dialog for viewing FAX messages.  This is a useful
       tool which provides a file menu from which incoming  faxes
       can  be selected for display.  This program was the start-
       ing point for the development of PPaallMMaaiill..

       xxllii((11)),, xxllooaaddiimmaaggee((11)),, xxvv((11)) and ddiissppllaayy((11)) (the last  one
       is  from  the IImmaaggeeMMaaggiicckk package) can be used to view FAX
       pages under X  directly.   All  these  programs  are  much
       slower  than  gg33vviieeww((11))  or vviieewwffaaxx((11)) written by Frank D.
       Cringle <fdc@cliwe.ping.de> because they are highly  opti-
       mized  for  FAX  messages  received by mmggeettttyy((11)) (it takes
       less than a second to display an average FAX page).

       gg33ttooppbbmm((11))  from   the   ppbbmmpplluuss,,   nneettppbbmm   or   (better)
       mmggeettttyy++sseennddffaaxx  package may help you to convert a FAX page
       into other formats.

       ppbbmmttoollppss((11)) from the nneettppbbmm package may be useful to  con-
       vert the resulting PBM files to Postscript for printing.


BBUUGGSS
       The  PPiicckk UUpp command didn't work for me. Please tell if it
       works at your site or what patches are necessary.


AAUUTTHHOORRSS
       Copyleft  (C) 1995
           Tim Bandelow <bandelow@busch.bauwesen.uni-dortmund.de>
           Sven Palme   <palme@elphy.irz.hu-berlin.de>




                           PalMail 0.93                         5





PalMail(1)                                             PalMail(1)


       PPaallMMaaiill  is  based  on  an old version of ffaaxxvviieeww by Ralph
       Schleicher.
       Copyright (C) 1994, 1995
           Ralph Schleicher <rs@purple.in-ulm.de>

       PPaallMMaaiill is free software and comes with ABSOLUTELY NO WAR-
       RANTY;  see the GNU General Public License as published by
       the Free Software Foundation for details.

















































                           PalMail 0.93                         6



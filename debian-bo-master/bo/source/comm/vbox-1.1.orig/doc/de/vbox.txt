  V B O X
  Michael `Ghandi' Herold <mmiicchhaaeell@@aabbaaddoonnnnaa..ffrraannkkeenn..ddee>
  Version 1.1 (18. Juni 1996)

  Diese Dokumentation beschreibt die Installation und Konfiguration von
  _v_b_o_x, einem Anrufbeantworter für _i_s_d_n_4_l_i_n_u_x.
  ______________________________________________________________________

  Table of Contents:

  1.      Copyright

  2.      Vorwort

  2.1.    Was ist vbox?

  2.2.    Anregungen und Fehlermeldungen

  3.      Installation

  3.1.    Einstellungen in `Makefile'

  3.2.    Einstellungen in `src/settings.h'

  3.3.    Zusatzprogramme und Verzeichnisse

  4.      Programme

  4.1.    vboxgetty

  4.2.    vbox

  4.3.    rmdcutheader

  4.4.    rmdcatheader

  4.5.    rmdgetheader

  4.6.    xvboxled

  4.7.    mam

  5.      Konfiguration

  5.1.    vboxrc

  6.      Danksagungen
  ______________________________________________________________________

  11..  CCooppyyrriigghhtt

  Copyright © 1996 bei Michael Herold (mmiicchhaaeell@@aabbaaddoonnnnaa..ffrraannkkeenn..ddee)

  Das Paket _v_b_o_x ist freie Software und kann unter den Bedingungen der
  _G_N_U _G_e_n_e_r_a_l _P_u_b_l_i_c _L_i_c_e_n_s_e veröffentlicht oder verändert werden.

  Die Dokumentation sowie alle Programme von _v_b_o_x wurden mit großer
  Sorgfalt erstellt. Dennoch sind Fehler nicht ganz auszuschließen. Aus
  diesem Grund sind die in der vorliegenden Dokumentation enthaltenen
  Angaben mit keiner Verpflichtung oder Garantie irgendeiner Art
  verbunden. Sowohl Michael Herold als auch die in Kapitel
  ``Danksagungen'' genannten Personen übernehmen keine Verantwortung
  oder sonstige Haftung für Schäden, die auf irgendeine Art aus der
  Benutzung der Dokumentation oder den darin beschriebenen Programmen
  entstehen oder entstanden sind.

  22..  VVoorrwwoorrtt

  22..11..  WWaass iisstt vvbbooxx??

  _v_b_o_x ist ein Paket mit Programmen zum Betrieb eines Anrufbeantworters
  unter Linux. Es wird das Paket _i_s_d_n_4_l_i_n_u_x von Fritz Elfert (entweder
  im Kernel oder als Modul) mit AAUUDDIIOO SSUUPPPPOORRTT benötigt (enthalten ab
  Kernel pre2.0.4).

  _v_b_o_x_g_e_t_t_y basiert auf _m_g_e_t_t_y_-_0_._9_9 (_v_g_e_t_t_y) vom 18. April 1996. Die mit
  _v_b_o_x_g_e_t_t_y aufgezeichneten Sprachdateien können mit den dort
  enthaltenen _p_v_f_t_o_o_l_s abgespielt oder konvertiert werden (für die
  Formate UULLAAWW und AALLAAWW liegen Programme zum Abspielen nach `//ddeevv//aauuddiioo'
  bei). Die _p_f_v_t_o_o_l_s sind nniicchhtt im Paket von _v_b_o_x enthalten.

  _v_b_o_x_g_e_t_t_y wurde speziell für _i_s_d_n_4_l_i_n_u_x geschrieben und ist nicht für
  normale Modems geeignet. Es können mit _v_b_o_x_g_e_t_t_y keine Fax- oder
  Datenanrufe erkannt oder entgegengenommen werden. Wer so etwas
  benötigt, dem kann ich nur _m_g_e_t_t_y, bzw. _v_g_e_t_t_y empfehlen.

  22..22..  AAnnrreegguunnggeenn uunndd FFeehhlleerrmmeelldduunnggeenn

  Wer neue Ideen oder Anregungen hat, oder einen Fehler in einem der
  Programme von _v_b_o_x gefunden hat, kann diese an folgende Adresse
  schicken:

  mmiicchhaaeell@@aabbaaddoonnnnaa..ffrraannkkeenn..ddee

  Bei einer Mitteilung über einen Fehler bitte iimmmmeerr eine möglichst
  genaue Beschreibung (am besten reproduzierbar) uunndd den entsprechenden
  Auszug aus den Logdateien beifügen.

  33..  IInnssttaallllaattiioonn

  Für die Installation werden folgende Dinge benötigt:

  ·  GCC in der Version 2.7.0 oder höher,

  ·  Linux Kernel in der Version 2.0 oder höher,

  ·  NCurses in der Version 1.9.9e oder höher.

  Zudem sollte _i_s_d_n_4_l_i_n_u_x bereits funktionsfähig mit Audiosupport
  installiert sein.

  Für das Abspielen der aufgenommenen Nachrichten in den Formaten
  AADDPPCCMM--22, AADDPPCCMM--33 und AADDPPCCMM--44 werden zusätzlich die ppvvffttoooollss aus dem
  Paket _m_g_e_t_t_y (Version 0.99 vom 18.  April 1996 oder neuer) benötigt.

  Unter
  <ffttpp::////ffttpp..lleeoo..oorrgg//ppuubb//ccoommpp//nneettwwoorrkkiinngg//ccoommmmuunniiccaattiioonn//mmooddeemm//mmggeettttyy//>
  ist die neuste Version von _m_g_e_t_t_y erhältlich.

  Für die Formate AALLAAWW und UULLAAWW liegen Programme zum Abspielen nach
  //ddeevv//aauuddiioo bei.

  Vor der Installation sollten folgende Dateien an das eigene System
  angepasst werden:

  ·  `MMaakkeeffiillee' (siehe Kapitel ``Einstellungen in `Makefile''')

  ·  `ssrrcc//sseettttiinnggss..hh' (siehe Kapitel ``Einstellungen in
     `src/settings.h''')

  Mit

  $$ mmaakkee

  kann eine Liste der verfügbaren Kommandos ausgegeben werden.

  Zum erzeugen aller Programme von _v_b_o_x tippen Sie

  $$ mmaakkee vvbbooxx

  Die Programme befinden sich danach - sofern sie fehlerfrei erzeugt
  wurden - im Unterverzeichnis `bbiinn' des Quelltextverzeichnisses. Mit

  $$ mmaakkee vvbbooxx--iinnssttaallll

  werden diese in die im `MMaakkeeffiillee' (siehe Kapitel ``Einstellungen in
  `Makefile''') angegebenen Verzeichnisse kopiert.

  BBeemmeerrkkuunngg:: Vergessen Sie nicht, daß ebenfalls im `MMaakkeeffiillee' (siehe
  Kapitel ``Einstellungen in `Makefile''') angegebene Spoolverzeichnis
  per Hand oder mit

  $$ mmaakkee vvbbooxx--ssppoooollddiirr

  zu erzeugen. Die Unterverzeichnisse

  ·  <Benutzername>

  ·  <Benutzername>/incoming

  ·  <Benutzername>/messages

  werden von _v_b_o_x_g_e_t_t_y zur Laufzeit automatisch erzeugt, falls sie noch
  nicht existieren.

  BBeemmeerrkkuunngg:: Die Standardansagen werden nniicchhtt automatisch erzeugt,
  sondern müssen für jede Person selbst in das entsprechende
  Unterverzeichnis kopiert werden.

  33..11..  EEiinnsstteelllluunnggeenn iinn ``MMaakkeeffiillee''

  Folgende Einstellungen sind im `MMaakkeeffiillee' möglich:

     SSPPOOOOLLDDIIRR

        Verzeichnis, in dem die Daten für _v_b_o_x abgelegt werden sollen.
        Für jeden Benutzer, für den ein _v_b_o_x_g_e_t_t_y läuft, wird dort ein
        eigenes Verzeichnis angelegt.

        BBeeiissppiieell:: //vvaarr//ssppooooll//vvbbooxx

     PPAATTHH__VVBBOOXX__GGEETTTTYY

        Verzeichnis, in das _v_b_o_x_g_e_t_t_y (der eigentliche Anrufbeantworter)
        installiert werden woll.

        BBeeiissppiieell:: //uussrr//llooccaall//ssbbiinn

     PPAATTHH__VVBBOOXX__TTOOOOLLSS

        Verzeichnis, in das _v_b_o_x (Programm zum einsehen und abspielen
        der aufgenommenen Nachrichten) installiert werden soll.

        BBeeiissppiieell:: //uussrr//llooccaall//bbiinn

     PPAATTHH__VVBBOOXX__AADDDDOONN

        Verzeichnis, in das alle Zusatzprogramme von _v_b_o_x installiert
        werden sollen.

        BBeeiissppiieell:: //uussrr//llooccaall//lliibb//vvbbooxx

     IINNSSTTAALLLL__VVBBOOXX__GGEETTTTYY

        Programm, mit dem _v_b_o_x_g_e_t_t_y installiert werden soll.

        BBeeiissppiieell:: iinnssttaallll --cc --oo rroooott --gg bbiinn --mm 770000

     IINNSSTTAALLLL__VVBBOOXX__TTOOOOLLSS

        Programm, mit dem _v_b_o_x installiert werden soll.

        BBeeiissppiieell:: iinnssttaallll --cc --oo rroooott --gg bbiinn --mm 775555

     IINNSSTTAALLLL__VVBBOOXX__AADDDDOONN

        Programm, mit dem alle Zusatzprogramme installiert werden
        sollen.

        BBeeiissppiieell:: iinnssttaallll --cc --oo rroooott --gg bbiinn --mm 775555

     CCCC

        Der Kompiler, der zum Übersetzen der Quelltexte verwendet werden
        soll.

        BBeeiissppiieell:: ggcccc

     CCCCFFLLAAGGSS

        Flag's, die dem Kompiler übergeben werden sollen.
        BBeeiissppiieell:: --ii448866 --OO22 --WWaallll

  33..22..  EEiinnsstteelllluunnggeenn iinn ``ssrrcc//sseettttiinnggss..hh''

  Folgende Einstellungen sind in `ssrrcc//sseettttiinnggss..hh' möglich (alle
  vorgegebenen Einstellungen mmüüsssseenn angegeben werden):

     LLOOGGFFIILLEE

        Name der Logdatei in die _v_b_o_x seine Meldungen schreibt. Der
        Platzhalter `%%ss' wird durch den Namen des jeweiligen tty-Devices
        ersetzt.

        BBeeiissppiieell:: ""//vvaarr//lloogg//vvbbooxx..%%ss""

     LLOOCCKKFFIILLEE

        Name der Datei mit der _v_b_o_x die einzelnen Devices lockt. Der
        Platzhalter `%%ss' wird durch den Namen des jeweiligen tty-Devices
        ersetzt.

        BBeeiissppiieell:: ""//vvaarr//lloocckk//LLCCKK....%%ss""

     PPIIDDFFIILLEE

        Name der Datei in der _v_b_o_x seine Prozeß-ID vermerkt. Der
        Platzhalter `%%ss' wird durch den Namen des jeweiligen tty-Devices
        ersetzt.

        BBeeiissppiieell:: ""//vvaarr//rruunn//vvbbooxx--ppiidd..%%ss""

     VVBBOOXXRRCC

        Name der Konfigurationsdatei, die sich im Homeverzeichnis des
        jeweiligen Benutzers befinden kann.

        BBeeiissppiieell:: ""..vvbbooxxrrcc""

     MMOODDEEMM__RRIINNGG__TTIIMMEEOOUUTT

        Anzahl der Sekunden, in denen versucht wird, einen RRIINNGG vom
        Modem einzulesen, nachdem ein eingehender Anruf erkannt wurde.

        BBeeiissppiieell:: 55

     MMOODDEEMM__CCOOMMMMAANNDD__TTIIMMEEOOUUTT

        Anzahl der Sekunden, in denen versucht wird, daß Ergebnis eines
        AT-Kommandos einzulesen.

        BBeeiissppiieell:: 22

     MMOODDEEMM__EECCHHOOCCMMDD__TTIIMMEEOOUUTT

        Anzahl der Sekunden, in denen versucht wird, daß Echo eines AT-
        Kommandos einzulesen.

        BBeeiissppiieell:: 22

     MMOODDEEMM__WWAAIITT__TTIIMMEEOOUUTT

        Anzahl der Sekunden, nach deren Ablauf ein Kommando an das Modem
        geschickt wird, um festzustellen, ob es noch reagiert. Der Wert
        0 schaltet diese Überprüfung aus.

        BBeeiissppiieell:: 11880000

     DDEEFFAAUULLTT__RRIINNGGSS

        Anzahl der RRIINNGG's, bevor _v_b_o_x den Anruf entgegennimmt.  Bei mir
        persönlich (EEuurrooppaa 1100) werden 5 RRIINNGG's gemeldet, bevor das
        Telefon einmal klingelt.

        BBeeiissppiieell:: 2200

     DDEEFFAAUULLTT__RREECCOORRDD__TTIIMMEE

        Voreingestellte maximale Zeit in Sekunden, die ein
        entgegengenommener Anruf aufgezeichnet wird.

        BBeeiissppiieell:: 6600

     VVOOIICCEE__CCOOMMPPRREESSSSIIOONN__MMOODDEE

        Kompressionsmodus beim Aufzeichnen von Audiodaten. Folgende Modi
        sind möglich:

     ·  22 für AADDPPCCMM--22

     ·  33 für AADDPPCCMM--33

     ·  44 für AADDPPCCMM--44

     ·  55 für AALLAAWW

     ·  66 für UULLAAWW

        BBeeiissppiieell:: 44

     NNEEEEDD__FFRREEEE__DDIISSKK__SSPPAACCEE

        Anzahl der Byte's, die auf der Partition des SSppoooollvveerrzzeeiicchhnniisssseess
        noch frei sein müssen, damit ein Anruf entgegengenommen wird.

        BBeemmeerrkkuunngg:: Diese Angabe wird erst ab Version 1.1 verwendet!

     VVBBOOXXPPLLAAYYCCMMDD

        Kommando zum Abspielen einer Nachricht in _v_b_o_x. Dem Kommando
        werden beim Aufurf folgende Argumente übergeben:

        1. Dateiname der ausgewählten Nachricht

        2. Eingestellte Lautstärke

        BBeeiissppiieell:: ""//uussrr//llooccaall//lliibb//vvbbooxx//vvbbooxxppllaayy""

  33..33..  ZZuussaattzzpprrooggrraammmmee uunndd VVeerrzzeeiicchhnniissssee

  Im Quelltextverzeichnis befinden sich noch einige Unterverzeichnisse,
  die nützliche Programme, Skripts und Beispielkonfigurationen
  enthalten:

     ssaammpplleess//

        Einige Beispielkonfigurationen zum erstellen einer eigenen
        `..vvbbooxxrrcc' und zum einbinden von _v_b_o_x_g_e_t_t_y in die `//eettcc//iinniittttaabb'.

     ssaammpplleess//mmeessssaaggeess//

        Beispielsamples von allen Nachrichten, die _v_b_o_x_g_e_t_t_y zur Zeit
        unterstützt.

     ssccrriippttss//

        Einige Shellscripts, die zusammen mit _v_b_o_x_g_e_t_t_y verwendet werden
        können.

     ttoooollss//

        Zusätzliche Programme, die von verschiedenen Personen für das
        _v_b_o_x Paket geschrieben wurden.

  Die Zusatzprogramme, Samples und Konfigurationen werden bei der
  normalen Installation _n_i_c_h_t automatisch kopiert, sondern müssen von
  Hand in die entsprechenden Verzeichnisse verschoben werden.

  Zum compilieren und installieren der in `ttoooollss' untergebrachten
  Programme müssen dir dort enthaltenen Readme's befolgt werden!

  44..  PPrrooggrraammmmee

  44..11..  vvbbooxxggeettttyy

  _v_b_o_x_g_e_t_t_y ist das eigentliche Hauptprogramm, welches die Anrufe
  entgegennimmt, Ansagetexte abspielt und die Nachrichten der Anrufer
  aufzeichnet.

  Beim Start von _v_b_o_x_g_e_t_t_y können dem Programm folgende Argumente
  übergeben werden:
     --ss GGEESSCCHHWWIINNDDIIGGKKEEIITT

        Die Geschwindigkeit, mit der _v_b_o_x_g_e_t_t_y das Modem ansprechen
        soll. Die Voreinstellung von 3388440000 sollte in den meisten Fällen
        ausreichend sein und ist auch für AADDPPCCMM--44 geeignet.

        BBeeiissppiieell:: vvbbooxxggeettttyy --ss 3388440000

     --dd DDEEVVIICCEE

        Name des Devices, das als Modem benutzt werden soll. Das Device
        braucht vorher nicht mit _s_e_t_s_e_r_i_a_l eingestellt zu werden.

        BBeeiissppiieell:: vvbbooxxggeettttyy --dd //ddeevv//ttttyyII55

     --uu BBEENNUUTTZZEERRNNAAMMEE

        _v_b_o_x_g_e_t_t_y mmuußß beim Start der Name eines Benutzers angegeben
        werden, für den die Nachrichten aufgezeichnet werden sollen.

        Der angegebene Benutzer muß in der `//eettcc//ppaasssswwdd' eingetragen
        sein und auf dem System existieren.

        BBeeiissppiieell:: vvbbooxxggeettttyy --uu mmiicchhaaeell

     --ii MMOODDEEMM--IINNIITT--KKOOMMMMAANNDDOO

        Kommando zum Initialisieren des Modems. Hier sollte unter
        anderem die Telefonnummer angegeben werden, auf die _v_b_o_x_g_e_t_t_y -
        also der Anrufbeantworter - reagieren soll.

        Benutzer, die den _i_p_r_o_f_d von _i_s_d_n_4_l_i_n_u_x benutzen, sollten hier
        mindestens iimmmmeerr die Telefonnummer angeben, auf die reagiert
        werden soll.

        BBeeiissppiieell:: vvbbooxxggeettttyy --ii ""AATTZZ&&EE77885500441133""

     --pp PPRROOGGRRAAMMMM

        Name eines Programms, das nach dem Aufzeichnen einer Nachricht
        gestartet werden soll. Dem Programm werden folgende Argumente
        beim Start übergeben:

        1. Der volle Name der Datei die aufgezeichnet wurde.

        2. Die CCAALLLLEERRIIDD des Anrufers.

        3. Der Name des Benutzers, für den die Nachricht aufgezeichnet
           wurde.  Dieser kann mit der Option --aa überschrieben werden.

     --aa AADDRREESSSSEE

        Adresse (Name oder eMail) des Benutzers, für den die Nachrichten
        aufgezeichnet werden (diese Angabe wird von den Zusatzskripts
        _v_b_o_x_n_o_t_i_f_y und _v_b_o_x_m_i_m_e benutzt, um eine eMail an diese Adresse
        zu senden).

        BBeemmeerrkkuunngg:: Diese Angabe muß nicht unbedingt eine Adresse
        darstellen. Es kann im Prinzip angegeben werden was man will.
        Wenn die Option angegeben ist, wird sie als drittes Argument dem
        Programm der Option --pp übergeben; wenn nicht, wird der Name der
        Option --uu benutzt.

     --hh

        Gibt eine Liste mit allen verfügbaren Optionen aus.

     --vv

        Gibt die aktuelle Versionsnummer aus.

  Ein normaler Aufruf von _v_b_o_x_g_e_t_t_y sollte in etwa so aussehen:

  $$ vvbbooxxggeettttyy --dd //ddeevv//ttttyyII66 --ii ""AATTZZ&&EE77885500441133"" --uu mmiicchhaaeell

  Für den in diesem Beispiel angegebenen Benutzer `michael' werden im
  Spoolverzeichnis folgende Verzeichnisse angelegt, falls diese noch
  nicht existieren:

  ·  mmiicchhaaeell

  ·  mmiicchhaaeell//iinnccoommiinngg

  ·  mmiicchhaaeell//mmeessssaaggeess

  Im IInnccoommiinngg-Verzeichnis werden alle Nachrichten abgelegt, die bei
  einem Anruf aufgezeichnet werden. Die Dateinamen dieser Nachrichten
  haben folgendes Format:

  <<JJaahhrr>><<MMoonnaatt>><<TTaagg>><<SSttuunnddee>><<MMiinnuuttee>><<SSeekkuunnddee>>--<<CCaalllleerrIIDD>>

  Wenn die Rufnummer eines Anrufers (sprich die CallerID) nicht
  ermittelt werden konnte (z.B. weil der Anrufer keinen ISDN-Anschluß
  besitzt), wird für das Feld <<CCaalllleerrIIDD>> der Wert 00 eingesetzt.

  BBeeiissppiieell eeiinneess IInnccoommiinngg-Verzeichnisses:

  -rw-------   1 michael  users       24592 Jun 10 11:02 960610110220-9317850413
  -rw-------   1 michael  users      131292 Jun 10 11:14 960610111408-9317850413
  -rw-------   1 michael  users       28104 Jun 10 11:16 960610111612-0

  Wenn _v_b_o_x_g_e_t_t_y eine Nachricht aufzeichnet, wird diese nur mit den
  Zugriffsrechten `----ww--------------' geöffnet. Sobald die Nachricht zu Ende
  aufgenommen wurde, werden die Zugriffsrechte zu `--rrww--------------' geändert.

  Programme, welche dem Benutzer eine Liste der eingegangenen
  Nachrichten anzeigen, sollten nur solche Dateien aufnehmen, bei denen
  das rr-Bit (Lesbar) gesetzt ist, um sicher zu sein, daß die Nachricht
  zu Ende aufgezeichnet wurde (siehe Kapitel ``vbox'').

  Im MMeessssaaggeess-Verzeichnis müssen sich alle Ansagetexte befinden, die von
  _v_b_o_x_g_e_t_t_y gespielt werden sollen. Es existieren folgende
  voreingestellte Namen:

     ssttaannddaarrdd..mmssgg

        Wird als normaler Ansagetext gespielt. Dieser kann in der Datei
        `..vvbbooxxrrcc' (siehe Kapitel ``vboxrc'') für jeden Anrufer
        individuell eingestellt werden.

     bbeeeepp..mmssgg

        Wird nach dem Ansagetext kurz vor der Aufnahme gespielt und
        sollt den Anrufer darauf aufmerksam machen, daß er jetzt seine
        Nachricht aufsprechen kann.

     ttiimmeeoouutt..mmssgg

        Wird gespielt, wenn die maximale Aufzeichnungszeit abgelaufen
        ist. Hier könnte z.B. der Text "VViieelleenn DDaannkk ffüürr IIhhrreenn AAnnrruuff"
        gesprochen werden.

     ppaanniicc..mmssgg

        Wird gespielt, wenn die Nachricht des Anrufers nicht
        aufgezeichnet werden konnte. Hier könnte z.B. der Text "IIhhrr
        AAnnrruuff kkoonnnnttee lleeiiddeerr nniicchhtt aauuffggeezzeeiicchhnneett wweerrddeenn.. BBiittttee vveerrssuucchheenn
        SSiiee eess zzuu eeiinneemm ssppäätteerreenn ZZeeiittppuunnkk nnoocchh eeiinnmmaall" gesprochen
        werden.

     ppaarrkklliinnee..mmssgg

        Wird gespielt, wenn ein bereits von _v_b_o_x_g_e_t_t_y angenommener Anruf
        wieder zurück auf die Telefonleitung umgelenkt werden soll, um
        dort wieder entgegengenommen zu werden. Die Nachricht soll den
        Anrufer darauf aufmerksam noch nicht aufzulegen, da der
        Angerufene ihn gleich entgegennimmt.

        BBeemmeerrkkuunngg:: Dieses Feature wird z.Z. von _i_s_d_n_4_l_i_n_u_x noch nicht
        unterstützt.

  Einige Beispielansagen befinden sich im Verzeichnis
  `ssaammpplleess//mmeessssaaggeess'.

  BBeemmeerrkkuunngg:: _v_b_o_x_g_e_t_t_y sollte am besten aus der `//eettcc//iinniittttaabb', aus
  `//eettcc//rrcc..dd//rrcc..llooccaall' oder vom Benutzer rroooott gestartet werden. Wenn
  _v_b_o_x_g_e_t_t_y von einem anderen Benutzer gestartet werden soll, ist eine
  Anpassung der Zugriffsrechte für einige Dateien nötig (z.B. die
  Devices oder die Logdateien).

  44..22..  vvbbooxx

  _v_b_o_x ist eine auf _n_c_u_r_s_e_s basierende Benutzeroberfläche zum Ansehen
  und Abspielen der aufgezeichneten Nachrichten.

  Beim Programmstart können folgende Argumente angegeben werden:

     --dd DDEEVVIICCEE

        Name des Devices für die Bildschirm Ein- und Ausgabe. Fehlt
        diese Angabe, wird `//ddeevv//ttttyy' (aktueller Bildschirm) benutzt.
        BBeeiissppiieell:: vvbbooxx --dd //ddeevv//ttttyy1122

     --uu BBEENNUUTTZZEERRNNAAMMEE

        Name des Benutzers, dessen Nachrichten eingesehen werden sollen.
        Diese Option kann nur benutzt werden, wenn _v_b_o_x vom Benutzer
        rroooott gestartet wird. _v_b_o_x läuft dann im sogenannten VVIIEEWWMMOODDEE, in
        dem alle Funktionen gesperrt sind und nur die Liste der
        aufgezeichneten Nachrichten angezeigt wird.

        Sofort nach dem Start setzt _v_b_o_x die Rechte auf den angegebenen
        Benutzer zurück.

        BBeeiissppiieell:: vvbbooxx --uu mmiicchhaaeell

     --rr SSEEKKUUNNDDEENN

        Diese Option ist eigentlich nur im Zusammenhang mit `-u'
        sinnvoll und gibt an, nach wievielen Sekunden die
        Nachrichtenliste neu eingelesen werden soll.

        BBeeiissppiieell:: vvbbooxx --rr 6600

     --mm

        Veranlasst _v_b_o_x alle Anzeigen in Schwarz/Weiß anzuzeigen.

        BBeeiissppiieell:: vvbbooxx --mm

     --oo

        Schaltet _v_b_o_x in den sogenannten VVIIEEWWMMOODDEE, in dem nur einige
        wenige Kommandos zugelassen werden. Die Nachrichten können in
        diesem Modus z.B. angezeigt, aber nicht gespielt werden. Auch
        das Löschen von Nachrichten ist nicht erlaubt.

        Wenn die Option --uu angegeben ist, wird _v_b_o_x automatisch in den
        VVIIEEWWMMOODDEE geschaltet.

        BBeeiissppiieell:: vvbbooxx --oo

     --tt

        Veranlasst _v_b_o_x alle neuen Nachrichten in einem zweistelligen
        LED-Display anzuzeigen. Dieser Anzeigemodus kann mit der Taste
        `LL' aus- oder eingeschaltet werden.

        BBeeiissppiieell:: vvbbooxx --tt

     --qq

        Sperrt die Taste `QQ', sodaß _v_b_o_x nicht mehr beendet werden kann.

        BBeeiissppiieell:: vvbbooxx --qq

     --vv LLAAUUTTSSTTÄÄRRKKEE

        Stellt die voreingestellte Lautstärke ein. Es können Werte
        zwischen 0 und 100 übergeben werden.
        Die Lautstärke wird dem Kommando, das zum abspielen der
        Nachrichten angegeben wurde, als zweites Argument beim Start
        übergeben.

        BBeeiissppiieell:: vvbbooxx --vv 1100

     --hh

        Zeigt eine Liste mit allen verfügbaren Optionen an.

  Beim booten des Rechners könnte _v_b_o_x z.B. wie folgt aufgerufen werden:

  $$ vvbbooxx --dd //ddeevv//ttttyy1122 --uu mmiicchhaaeell --rr 6600 &&

  In diesem Beispiel würde _v_b_o_x alle Nachrichten des Benutzers `michael'
  auf `//ddeevv//ttttyy1122' (Konsole 12) anzeigen und alle 60 Sekunden prüfen, ob
  sich die Liste geändert hat.

  Wenn _v_b_o_x von einem normalen Benutzer (also nicht von rroooott) aufgerufen
  und nicht in den VVIIEEWWMMOODDEE geschaltet wurde, stehen folgende Funktionen
  zur Verfügung:

  ·  [[CCUURRSSOORR HHOOCCHH]] und [[CCUURRSSOORR RRUUNNTTEERR]]

     Bewegt den Markierbalken in der Liste hoch oder runter. Alle
     Funktionen beziehen sich immer auf den gerade angewählten Eintrag.

  ·  [[RREETTUURRNN]]

     Spielt den aktuellen Eintrag mit dem in `ssrrcc//sseettttiinnggss..hh' (siehe
     Kapitel ``Einstellungen in    `src/settings.h''') unter VVBBOOXXPPLLAAYYCCMMDD
     eingestellten Programm.

     Dem Programm wird beim Aufruf als erstes Argument der Name der
     Datei und als zweites Argument die eingestellte Lautstärke
     übergeben.

  ·  `RR' oder `rr'

     Liest die Liste der Nachrichten neu ein. Diese wird auf dem
     Bildschirm nur dann neu dargestellt, wenn Änderungen gefunden
     werden konnten.

  ·  `NN' oder `nn'

     Markiert einen Eintrag als neu oder als gelesen.

  ·  `DD' oder `dd'

     Markiert einen Eintrag als gelöscht oder hebt diese Markierung auf.

  ·  `++' oder `--'

     Setzt die Lautstärke hoch oder runter.

  ·  `QQ' oder `qq'

     Beendet das Programm. Wenn Einträge als gelöscht markiert wurden,
     erscheint zusätzlich eine Sicherheitsabfrage, ob diese auch auf dem
     Datenträger gelöscht werden sollen.

  ·  `SS' oder `ss'

     Schaltet die Annahme von Anrufen ein oder aus. Dazu wird im
     Homeverzeichnis des Benutzers eine Datei mit dem Namen `..vvbbooxxssttoopp'
     erzeugt oder gelöscht. Existiert diese Datei, nimmt _v_b_o_x_g_e_t_t_y keine
     Anrufe mehr entgegen.

     Die Datei kann auch von Hand angelegt oder gelöscht werden.

  ·  `PP' oder `pp'

     Schaltet in den PPAARRKKMMOODDEE. Dazu wird im Homeverzeichnis des
     Benutzers eine Datei mit dem Namen `..vvbbooxxppaarrkk' erzeugt, die
     _v_b_o_x_g_e_t_t_y veranlaßt, den bereits angenommenen Anruf wieder zurück
     auf die Telefonleitung zu legen. Der PPAARRKKMMOODDEE beendet sich nach 90
     Sekunden automatisch, oder wird von _v_b_o_x_g_e_t_t_y aufgehoben, sobald
     der Anruf umgelenkt ist.

     BBeemmeerrkkuunngg:: Das Feature PPAARRKKMMOODDEE wird zur Zeit noch nicht von
     _i_s_d_n_4_l_i_n_u_x unterstützt.

  ·  `HH' oder `hh'

     Zeigt ein Fenster mit allen verfügbaren Funktionen an.

  _v_b_o_x nimmt nur Nachrichten in die Liste auf, die ein gesetztes rr-Bit
  (Lesbar) haben. Gelesene Nachrichten werden mit dem xx-Bit (Ausführbar)
  versehen.

  44..33..  rrmmddccuutthheeaaddeerr

  Das Programm _r_m_d_c_u_t_h_e_a_d_e_r entfernt den RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR einer
  Voicedatei.

  Der Aufruf ist denkbar einfach:

  $$ rrmmddccuutthheeaaddeerr <<DDAATTEEII__MMIITT__HHEEAADDEERR >>DDAATTEEII__OOHHNNEE__HHEEAADDEERR

  Um zum Beispiel Nachrichten, die im Format UULLAAWW aufgezeichnet wurden,
  nach `//ddeevv//aauuddiioo' zu spielen, kann man wie folgt vorgehen:

  $$ rrmmddccuutthheeaaddeerr <<VVOOIICCEEMMEESSSSAAGGEE >>//ddeevv//aauuddiioo

  44..44..  rrmmddccaatthheeaaddeerr

  Mit _r_m_d_c_a_t_h_e_a_d_e_r kann ein RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR für die Formate
  AADDPPCCMM--22, AADDPPCCMM--33, AADDPPCCMM--44, AALLAAWW oder UULLAAWW erzeugt werden.

  Folgende Argumente können übergeben werden:

     --22,, ----aaddppccmm22
        Erzeugt einen RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR mit der Kompression AADDPPCCMM--22.

     --33,, ----aaddppccmm33
        Erzeugt einen RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR mit der Kompression AADDPPCCMM--33.

     --44,, ----aaddppccmm44
        Erzeugt einen RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR mit der Kompression AADDPPCCMM--44.

     --uu,, ----uullaaww
        Erzeugt einen RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR mit der Kompression UULLAAWW.

     --aa,, ----aallaaww
        Erzeugt einen RRAAWW MMOODDEEMM DDAATTAA HHEEAADDEERR mit der Kompression AALLAAWW.

     --ii,, ----lliinnuuxxiissddnn
        Trägt als Modemkennung `IISSDDNN44LLiinnuuxx' in den Header ein
        (Voreinstellung ist `ZZyyXXEELL 11449966'). Der mit --ii erzeugt Header
        kann von den _p_v_f_t_o_o_l_s oder _v_g_e_t_t_y nur erkannt werden, wenn das
        _m_g_e_t_t_y Paket mit dem Patch aus den neusten Utilties von
        _i_s_d_n_4_l_i_n_u_x erzeugt wurde.

  44..55..  rrmmddggeetthheeaaddeerr

  Das Programm _r_m_d_g_e_t_h_e_a_d_e_r ermittelt die Art der Kompression einer
  Voice-Audio-Datei und gibt diese als Returncode zurück. Dem Programm
  muß beim Start der Name der Datei übergeben werden, die untersucht
  werden soll.

  Folgende Returncodes sind möglich:

  ·  22 - Kompression AADDPPCCMM--22

  ·  33 - Kompression AADDPPCCMM--33

  ·  44 - Kompression AADDPPCCMM--44

  ·  55 - Kompression AALLAAWW

  ·  66 - Kompression UULLAAWW

  Alle anderen Rückgabewerte bedeuten unbekannte Kompression oder eine
  Fehler beim einlesen und untersuchen des Headers.

  44..66..  xxvvbbooxxlleedd

  _x_v_b_o_x_l_e_d wurde von Jan Schoenepauck (sscchhooeenneepp@@wwrrccss33..uurrzz..uunnii--
  wwuuppppeerrttaall..ddee) und Joachim Gassen (ggaasssseenn@@uunnii--mmuueennsstteerr..ddee) geschrieben.
  Es zeigt in einem Fenster die Anzahl der Nachrichten als zweistellige
  LED an.

  Zur Konfiguration und Installation bitte die entsprechenden Dateien im
  Verzeichnis `ttoooollss//xxvvbbooxxlleedd' lesen.

  44..77..  mmaamm

  _m_a_m (Motif Answering Machine) wurde von Chris Benndorf
  (cchhrriissbb@@ggaannzzffiixx..dduueeww..eeuunneett..ddee) geschrieben. Es zeigt in einem Fenster
  alle von _v_b_o_x_g_e_t_t_y aufgezeichneten Nachrichten an und stellt
  Funktionen zum Abspielen und Bearbeiten bereit.

  _m_a_m benötigt _M_o_t_i_f und die _X_m_t Library. Eine statisch gelinkte Version
  von _m_a_m befindet sich auf

  <ffttpp::////ffttpp..ffrraannkkeenn..ddee//ppuubb//iissddnn44lliinnuuxx//ccoonnttrriibbuuttiioonnss//>

  Zur Konfiguration und Installation bitte die entsprechenden Dateien im
  Verzeichnis `ttoooollss//mmaamm' lesen.

  55..  KKoonnffiigguurraattiioonn

  55..11..  vvbbooxxrrcc

  Jeder Benutzer kann sich in seinem Homeverzeichnis eine Datei mit dem
  Namen `..vvbbooxxrrcc' anlegen, in der einige Einstellungen für _v_b_o_x und
  _v_b_o_x_g_e_t_t_y gemacht werden können.

  Die Datei ist in verschiedene Sektionen unterteilt. Jede Sektion
  beginnt mit einem `[[', enthält einen Sektionsnamen und endet mit einem
  `]]'.

  Die Groß- und Kleinschreibung zwischen den Sektionskennungen `[[' und
  `]]' wird ignoriert. Leere Zeichen und solche die mit einem `##'
  beginnen werden überlesen. Kommentare am Ende einer Zeile (beginnen
  mit `##') werden entfernt.

  AACCHHTTUUNNGG:: AAbb VVeerrssiioonn 11..11 hhaatt ssiicchh ddaass FFoorrmmaatt ddiieesseerr DDaatteeii ggeeäännddeerrtt!!

  Folgende Sektionen existieren:

     [[CCAALLLLEERRIIDD]]

        FFoorrmmaatt:: CCAALLLLEERRIIDD--PPAATTTTEERRNN AALLIIAASS--SSEEKKTTIIOONN AALLIIAASS--NNAAMMEE

        Hier können sogenannte `Aliase' für CCAALLLLEERRIIDD's angegeben werden.
        Die CCAALLLLEERRIIDD wird bei ISDN-Geräten - sofern nicht abgeschaltet -
        mit übermittelt und dient zum Idendifizieren des Anrufers.
        CCAALLLLEERRIIDD--PPAATTTTEERRNN

           CCAALLLLEERRIIDD für die ein Alias definiert werden soll (ohne
           führende Nullen). Es können hier die üblichen UN*X-Pattern
           angegeben werden. In der CCAALLLLEERRIIDD dürfen kkeeiinnee Leerzeichen
           enthalten sein.

        AALLIIAASS--SSEEKKTTIIOONN
           AALLIIAASS SSEEKKTTIIOONN die für diesen Anrufer benutzt werden soll. Der
           Name der AALLIIAASS SSEEKKTTIIOONN darf kkeeiinnee Leerzeichen enthalten.

           Wenn als AALLIIAASS--SSEEKKTTIIOONN `--' angegeben wurde, wird die Sektion
           [[SSTTAANNDDAARRDD]] benutzt. Bei `**' wird der AALLIIAASS--NNAAMMEE als AALLIIAASS
           SSEEKKTTIIOONN benutzt.

        AALLIIAASS--NNAAMMEE

           Name, der dieser CCAALLLLEERRIIDD zugeordnet werden soll. Der
           Aliasname darf Leerzeichen enthalten. Er wird z.B. von _v_b_o_x
           oder _m_a_m benutzt, um anzuzeigen, wer angerufen hat.

        Als letzter Eintrag sollte iimmmmeerr `** ** ****** UUnnkknnoowwnn ******' oder ** --
        ****** UUnnkknnoowwnn ******' angegeben werden (siehe Beispiel).  Dieses
        Pattern gilt für alle Anrufe, bei denen keine CCAALLLLEERRIIDD
        übermittelt oder in der Liste gefunden wurde.

        BBeeiissppiieell::

           [CALLERID]

           913469992[6-8]     *    Bernd Braun
           91437850413        -    Michael Herold
           *                  -    *** Unknown ***

     Die eerrssttee Übereinstimmung einer CCAALLLLEERRIIDD mit einem der Pattern wird
     benutzt.

     [[DDEEBBUUGG]]

        FFoorrmmaatt:: FFLLAAGG ++ FFLLAAGG ++ FFLLAAGG ......

        In dieser Sektion können Flag's angegeben werden, die bestimmen,
        welche Informationen in die Logdatei von _v_b_o_x_g_e_t_t_y aufgenommen
        werden sollen.

        Folgende Flag's können angegeben werden:

     ·  FFAATTAALL

        Fatale Fehler

     ·  EERRRROORRSS

        Normal Fehler

     ·  WWAARRNNIINNGGSS

        Warnungen

     ·  IINNFFOOSS

        Informationen

     ·  DDEEBBUUGG

        Informationen zum Debuggen

     ·  JJUUNNKK

        Erweiterte Informationen zum Debuggen

        BBeeiissppiieell:: FFAATTAALL ++ EERRRROORRSS ++ WWAARRNNIINNGGSS ++ IINNFFOOSS

     [[RRIINNGGSS]]

        FFoorrmmaatt:: ZZEEIITT WWOOCCHHEENNTTAAGG RRIINNGGSS

        Hier kann angegeben werden, zu welcher Zeit an welchem Tag nach
        wievielen RRIINNGG's ein eingehender Anruf entgegengenommen werden
        soll.

        ZZEEIITT

           Eine oder mehrere Zeitzonen; Die Zeitangaben können durch
           Kommata voneinander getrennt werden. Bei einer Zeitzone von
           `SSTTAARRTTZZEEIITT-EENNDDZZEEIITT' ist die letzte Zahl inklusiv (z.B. 1188--2222
           heißt von 18 bis einschließlich 22 Uhr).

        WWOOCCHHEENNTTAAGG

           Ein oder mehrere Wochentage; Die Tage können durch Kommata
           voneinander getrennt werden. Tageszonen (SSTTAARRTTZZEEIITT-EENNDDZZEEIITT)
           können hier nniicchhtt angegeben werden. Jeder Wochentag an dem
           ein Anruf entgegengenommen werden soll muß einzeln aufgeführt
           werden.

           Folgende Wochentagsangaben sind möglich:

        ·  SSOO, SSUUNN - Sonntag

        ·  MMOO, MMOONN - Montag

        ·  DDII, TTUUEE - Dienstag

        ·  MMII, WWEEDD - Mittwoch

        ·  DDOO, TTHHUU - Donnerstag

        ·  FFRR, FFRRII - Freitag

        ·  SSAA, SSAATT - Samstag

        RRIINNGGSS

           Anzahl der RRIINNGG's bis ein Anruf entgegengenommen wird. Eine
           Anzahl von 0 RRIINNGG's heißt, daß der Anruf nicht
           entgegengenommen werden soll.

        BBeeiissppiieell::

              0-8     MO,DI,MI,DO,FR       5
              0-11    SA,SO                5
              *       *                    30

     Im oben angegebenen Beispiel würde _v_b_o_x_g_e_t_t_y von Montag bis Freitag
     zwischen 0 und 8 Uhr und von Samstag bis Sontag zwischen 0 und 11
     Uhr Anrufe nach 5 RRIINNGG's entgegennehmen. An allen anderen Tagen
     erst nach 30 RRIINNGG's.

     Die eerrssttee Übereinstimming wird benutzt.

     AAcchhttuunngg!!

     Beim einem Fehler (z.B. einer Falschen Zeitangabe) wird immer 0
     RRIINNGG's angenommen. Achten Sie also bitte auf die Ausgabe in der
     Logdatei um solche Situationen auszuschließen!

     AAlliiaass SSeekkttiioonneenn

        FFoorrmmaatt:: ZZEEIITT WWOOCCHHEENNTTAAGG AANNSSAAGGEETTEEXXTT AAUUFFNNAAHHMMEEZZEEIITT [[FFLLAAGGSS]]

        Mit AALLIIAASS SSEEKKTTIIOONNEENN können für Aliase, die in der Sektion
        [[CCAALLLLEERRIIDD]] definiert wurden, eigene Einstellungen gemacht
        werden.

        Wenn für eine CCAALLLLEERRIIDD ein AALLIIAASS definiert wurde, die
        entsprechende AALLIIAASS SSEEKKTTIIOONN aber nicht gefunden werden konnte,
        werden die eincompilierten Werte benutzt.

        ZZEEIITT

           Eine oder mehrere Zeitzonen; Die Zeitangaben können durch
           Kommata voneinander getrennt werden. Bei einer Zeitzone von
           `SSTTAARRTTZZEEIITT-EENNDDZZEEIITT' ist die letzte Zahl inklusiv (z.B. 1188--2222
           heißt von 18 bis einschließlich 22 Uhr).

        WWOOCCHHEENNTTAAGG

           Ein oder mehrere Wochentage; Die Tage können durch Kommata
           voneinander getrennt werden. Tageszonen (SSTTAARRTTZZEEIITT-EENNDDZZEEIITT)
           können hier nniicchhtt angegeben werden. Jeder Wochentag an dem
           ein Anruf entgegengenommen werden soll muß einzeln aufgeführt
           werden.

           Folgende Wochentagsangaben sind möglich:

        ·  SSOO, SSUUNN - Sonntag

        ·  MMOO, MMOONN - Montag

        ·  DDII, TTUUEE - Dienstag

        ·  MMII, WWEEDD - Mittwoch

        ·  DDOO, TTHHUU - Donnerstag

        ·  FFRR, FFRRII - Freitag

        ·  SSAA, SSAATT - Samstag

        AANNSSAAGGEETTEEXXTT

           Ansagetext der gespielt werden soll. Der Ansagetext wird aus
           dem MMeessssaaggee-Verzeichnis des Benutzers geladen, für den
           _v_b_o_x_g_e_t_t_y Nachrichten aufzeichnen soll.

        AAUUFFNNAAHHMMEEZZEEIITT

           Maximale Aufzeichnungszeit in Sekunden. Eine
           Aufzeichnungszeit von 0 Sekunden unterdrückt die
           Aufzeichnung.

        FFLLAAGGSS

        BBeeiissppiieell::

        Haben Sie Beispielsweise in der Sektion [[CCAALLLLEERRIIDD]] eine Alias
        `Peter Muster' mit der CCAALLLLEERRIIDD 931271111 definiert, können Sie
        sich für diesen eine AALLIIAASS SSEEKKTTIIOONN erstellen:

           [Peter Muster]

           0-8     MO,DI,MI,DO,FR  standard.msg     30
           0-11    SA,SO           standard.msg     30     NOBEEP NORECORD
           *       *               standard.msg     60

     Jedesmal wenn bei einem Anruf die CCAALLLLEERRIIDD 931271111 erkannt wird,
     werden die Einstellungen der AALLIIAASS SSEEKKTTIIOONN für den Alias der
     CCAALLLLEERRIIDD (also in diesem Beispiel `Peter Muster') benutzt.

     BBeemmeerrkkuunngg:: Legen Sie sich eine AALLIIAASS SSEEKKTTIIOONN `[[****** UUnnkknnoowwnn ******]]'
     an, die benutzt wird, wenn keine CCAALLLLEERRIIDD ermittelt werden konnte.

     Für ein Geschäft könnte das ungefähr so aussehen:

        [CALLERID]

        *   -  *** Unknown ***

        [RINGS]

        *   *   50

        [STANDARD]

        9-18   MO,DI,MI,DO,FR   nicht-besetzt.msg       120
        10-16  SA,SO            nicht-besetzt.msg       120
        *      *                laden-geschlossen.msg     0   NOBEEP NORECORD

  66..  DDaannkkssaagguunnggeenn

  Bedanken möchte ich mich bei:

  ·  FFrriittzz EEllffeerrtt (ffrriittzz@@wwuueemmaauuss..ffrraannkkeenn..ddee)

     Für _i_s_d_n_4_l_i_n_u_x, sein Hilfe bei einigen Problemen und den schnellen
     Einbau der DTMF-Erkennung.

  ·  JJaann SScchhooeenneeppaauucckk (sscchhooeenneepp@@wwrrccss33..uurrzz..uunnii--wwuuppppeerrttaall..ddee)

  ·  JJooaacchhiimm GGaasssseenn (ggaasssseenn@@uunnii--mmuueennsstteerr..ddee)

     Für das Programm _x_v_b_o_x_l_e_d.

  ·  CChhrriiss BBeennnnddoorrff (cchhrriissbb@@ggaannzzffiixx..dduueeww..eeuunneett..ddee)

     Für das Programm _m_a_m.

  Und natürlich bei alle anderen, die mich mit zahlreichen neuen Ideen
  und Anregungen versorgt haben.


<html>
<title>ObjStr Specification Sheet</title>
<H1>ObjStr Specification Sheet</H1>

<hr>
ObjectPak Objective C Class Library<p>
<H1>ObjStr</H1>
Inherits from:ObjPak<p>
<H2>Class Description</H2>
Strings are used to hold conventional, NULL-terminated C strings of characters.  String objects can, unlike ordinary C strings, easily be added to collections or sets.  They are also very useful as keys in a dictionary object.<p>
New instances are usually created via <b>str:</b>, which initializes the object to a copy of the argument (a C string).  Another factory method is the <b>sprintf:</b> method which supports the options of the C library function, <i>sprintf()</i>.<p>
It's possible to compare <b>ObjStr</b> instances using the methods <b>compare:</b> and <b>dictCompare:</b>.  These methods return an integer which is less than, equal to, or greater than zero, if the receiver is less than, equal to, or greater than the argument object.<p>
You can randomly access the characters in a string object using the <b>charAt:</b> and <b>charAt:put:</b> methods.  The latter method replaces the character at the indicated offset by a new character, and returns the old value.<p>
Finally, using such methods as <b>toLower</b>, <b>toUpper</b> etc., instances can do various conversions on their contents.<p>
<H2>Method Types</H2>
<H3>Creation</H3>
<ul><li> new
<li> str:
<li> sprintf:
<li> copy
<li> deepCopy
<li> free
</ul><H3>Comparison</H3>
<ul><li> compare:
<li> compareSTR:
<li> hash
<li> dictCompare:
<li> isEqual:
<li> isEqualSTR:
</ul><H3>Interrogation</H3>
<ul><li> size
<li> charAt:
<li> charAt:put:
</ul><H3>Concatenation</H3>
<ul><li> strcat:
<li> concatSTR:
<li> assignSTR:
<li> assignSTR:length:
</ul><H3>Format Conversions</H3>
<ul><li> asDouble
<li> asInt
<li> asLong
<li> asSTR:maxSize:
<li> str
<li> strCopy
</ul><H3>Conversions</H3>
<ul><li> toLower
<li> toUpper
</ul><H3>Printing</H3>
<ul><li> printToFile:
</ul><H3>NextStep Archiving</H3>
<ul><li> write:
<li> read:
</ul><H2>Methods</H2>
<br>
<br>
<H3>new</H3>
<blockquote>
+ <b>new</b><p>
</blockquote>
Creates an instance whose value is set to the empty string.<p>
<br>
<br>
<H3>str:</H3>
<blockquote>
+ <b>str</b> <b>:</b>(STR) <i>strValue</i><p>
</blockquote>
Creates an instance whose value is set to a copy of <i>strValue</i>.  If <i>strValue</i> is NULL, creates an instance whose value is set to the empty string. <p>
<br>
<br>
<H3>sprintf:</H3>
<blockquote>
+ <b>sprintf</b> <b>:</b>(STR) <i>format,...</i><p>
</blockquote>
Returns a new instace initialized just as the standard C library <i>sprintf()</i>.  See the documentation on <i>sprintf()</i> for the formats and variable declarations.<p>
<br>
<br>
<H3>copy</H3>
<blockquote>
- <b>copy</b><p>
</blockquote>
Returns a copy of the receiver with its internal C string copied as well.<p>
<b>See also:</b> - strCopy<p>
<br>
<br>
<H3>deepCopy</H3>
<blockquote>
- <b>deepCopy</b><p>
</blockquote>
For this class, this method acts as <b>copy</b>.<p>
<br>
<br>
<H3>free</H3>
<blockquote>
- <b>free</b><p>
</blockquote>
Frees the receiver and its internal C string as well.<p>
<br>
<br>
<H3>compare:</H3>
<blockquote>
- (int) <b>compare</b> <b>:</b> <i>aStr</i><p>
</blockquote>
Compares the receiver's string to another instance of this class (or its subclasses).  Returns the comparison value.<p>
<br>
<br>
<H3>compareSTR:</H3>
<blockquote>
- (int) <b>compareSTR</b> <b>:</b>(STR) <i>strValue</i><p>
</blockquote>
Compares the receiver's string to <i>strValue</i>.  Returns the comparison value.<p>
<br>
<br>
<H3>hash</H3>
<blockquote>
- (unsigned) <b>hash</b><p>
</blockquote>
Returns a hash value based upon the contents of the string held in the receiver.<p>
<br>
<br>
<H3>dictCompare:</H3>
<blockquote>
- (int) <b>dictCompare</b> <b>:</b> <i>aStr</i><p>
</blockquote>
Compares the receiver's string to another instance of this class, or its subclasses, according to <i>dictionary ordering</i>, i.e., all characters other than letters and numbers are ignored and case is ignored.  Returns the comparison value.<p>
<br>
<br>
<H3>isEqual:</H3>
<blockquote>
- (BOOL) <b>isEqual</b> <b>:</b> <i>aStr</i><p>
</blockquote>
Returns YES if the value contained by <i>aStr</i> is equal to the contents of the receiver.<p>
<br>
<br>
<H3>isEqualSTR:</H3>
<blockquote>
- (BOOL) <b>isEqualSTR</b> <b>:</b>(STR) <i>strValue</i><p>
</blockquote>
Returns YES if the ordinary C string <i>strValue</i> is equal to the contents of the receiver.<p>
<br>
<br>
<H3>size</H3>
<blockquote>
- (unsigned) <b>size</b><p>
</blockquote>
Returns the number of actual characters in the string, excluding the NULL terminator.<p>
<br>
<br>
<H3>charAt:</H3>
<blockquote>
- (char) <b>charAt</b> <b>:</b>(unsigned) <i>anOffset</i><p>
</blockquote>
Returns the character at <i>anOffset</i> or <b>zero</b> if <i>anOffset</i> is greater than the length of the C string.<p>
<br>
<br>
<H3>charAt:put:</H3>
<blockquote>
- (char) <b>charAt</b> <b>:</b>(unsigned) <i>anOffset</i> <b>put</b> <b>:</b>(char) <i>aChar</i><p>
</blockquote>
Replaces the character at <i>anOffset</i> with <i>aChar</i> and returns the old character which was in that location.  Returns <b>zero</b> if <i>anOffset</i> is greater than the length of the C string.<p>
<br>
<br>
<H3>strcat:</H3>
<blockquote>
- (STR) <b>strcat</b> <b>:</b>(STR) <i>aBuffer</i><p>
</blockquote>
Concatenates the receiver's C string to <i>aBuffer</i>.  No length checking is possible to ensure that <i>aBuffer</i> is large enough.  Returns <i>aBuffer</i>.<p>
<br>
<br>
<H3>concatSTR:</H3>
<blockquote>
- <b>concatSTR</b> <b>:</b>(STR) <i>strValue</i><p>
</blockquote>
Concatenates <i>strValue</i>, an ordinary C string, to the end of the receiver.  Returns <b>self</b>.<p>
<br>
<br>
<H3>assignSTR:</H3>
<blockquote>
- <b>assignSTR</b> <b>:</b>(STR) <i>strValue</i><p>
</blockquote>
Copies the C string <i>strValue</i> into the receiver's string.  Returns the receiver.<p>
<br>
<br>
<H3>assignSTR:length:</H3>
<blockquote>
- <b>assignSTR</b> <b>:</b>(STR) <i>strValue</i> <b>length</b> <b>:</b>(unsigned) <i>nChars</i><p>
</blockquote>
Copies the C string <i>strValue</i> into the receiver's string, truncating at <i>nChars</i>.  Returns the receiver.<p>
<br>
<br>
<H3>asDouble</H3>
<blockquote>
- (double) <b>asDouble</b><p>
</blockquote>
Returns the double value of the C string, using the standard C function <b>atof()</b>.<p>
<br>
<br>
<H3>asInt</H3>
<blockquote>
- (int) <b>asInt</b><p>
</blockquote>
Returns the integer value of the C string, using the standard C function <b>atoi()</b>.<p>
<br>
<br>
<H3>asLong</H3>
<blockquote>
- (long) <b>asLong</b><p>
</blockquote>
Returns the long value of the C string, using the standard C function <b>atol()</b>.<p>
<br>
<br>
<H3>asSTR:maxSize:</H3>
<blockquote>
- <b>asSTR</b> <b>:</b>(STR) <i>aBuffer</i> <b>maxSize</b> <b>:</b>(int) <i>aSize</i><p>
</blockquote>
Copies the value of the object into <i>aBuffer</i>, truncating at <i>aSize</i>, and returns the receiver.<p>
<br>
<br>
<H3>str</H3>
<blockquote>
- (STR) <b>str</b><p>
</blockquote>
Returns a pointer to the NULL-terminated C string stored in the receiver.<p>
<br>
<br>
<H3>strCopy</H3>
<blockquote>
- (STR) <b>strCopy</b><p>
</blockquote>
Returns a <b>malloc()</b>'ed copy of the NULL-terminated C string stored in the receiver.  You are responsible for <b>free()</b>'ing the pointer.<p>
<br>
<br>
<H3>toLower</H3>
<blockquote>
- <b>toLower</b><p>
</blockquote>
Converts the receiver string to lower case.<p>
<br>
<br>
<H3>toUpper</H3>
<blockquote>
- <b>toUpper</b><p>
</blockquote>
Converts the receiver string to upper case.<p>
<br>
<br>
<H3>printToFile:</H3>
<blockquote>
- <b>printToFile</b> <b>:</b>(FILE *) <i>aFile</i><p>
</blockquote>
Prints the string to <i>aFile</i> without appending a newline.  Returns the receiver.<p>
<br>
<br>
<H3>write:</H3>
<blockquote>
- <b>write</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Writes the string to <i>stream</i>.  Returns the receiver.<p>
<br>
<br>
<H3>read:</H3>
<blockquote>
- <b>read</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Reads a string object from <i>stream</i>.  Returns the receiver.<p>

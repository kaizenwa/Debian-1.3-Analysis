<html>
<title>ObjCltn Specification Sheet</title>
<H1>ObjCltn Specification Sheet</H1>

<hr>
ObjectPak Objective C Class Library<p>
<H1>ObjCltn</H1>
Inherits from:ObjPak<p>
<H2>Class Description</H2>
<b>ObjCltn</b> instances are ordered collections of objects : you can access, add or remove elements at a specified offset in the array of elements.  <b>ObjCltn</b> takes care of the memory allocation issues to hold the objects.<p>
There can be no <b>nil</b> entries between the first (at offset 0) and last  elements (at <b>size</b> minus one).  For this reason, all methods that add objects refuse to add <b>nil</b>'s.  When entries are added or removed, the offsets of the remaining entries change.<p>
Offsets into collections are traditionally unsigned integers.  Methods that return an offset, e.g., <b>offsetOf:</b> and <b>lastOffset</b> return a value of (unsigned)-1 to indicate that an object has not been found.<p>
There are many methods for adding or inserting members into a collection.  Although members may be added at any point in the collection, they are generally added at the end using <b>add:</b>.<p>
A member may be searched for using either the <b>find:</b> or <b>findMatching:</b> method.  In the first case, the member in the collection must be an exact match.  In the second case, the member must match in the sense of the <b>isEqual:</b> method.<p>
<H2>Method Types</H2>
<H3>Creation</H3>
<ul><li> new
<li> copy
<li> deepCopy
<li> emptyYourself
<li> freeContents
<li> free
</ul><H3>Interrogation</H3>
<ul><li> size
<li> isEmpty
<li> lastOffset
<li> eachElement
<li> firstElement
<li> lastElement
</ul><H3>Comparing</H3>
<ul><li> hash
<li> isEqual:
</ul><H3>Adding</H3>
<ul><li> add:
<li> addFirst:
<li> addLast:
<li> addIfAbsent:
<li> addIfAbsentMatching:
</ul><H3>Insertion</H3>
<ul><li> at:insert:
<li> insert:after:
<li> insert:before:
</ul><H3>Relative Accessing</H3>
<ul><li> after:
<li> before:
<li> at:
<li> at:put:
</ul><H3>Removing</H3>
<ul><li> removeFirst
<li> removeLast
<li> removeAt:
<li> remove:
</ul><H3>Adding and Removing Contents</H3>
<ul><li> addContentsTo:
<li> addContentsOf:
<li> removeContentsOf:
<li> removeContentsFrom:
</ul><H3>Locating</H3>
<ul><li> find:
<li> findMatching:
<li> findSTR:
<li> contains:
<li> offsetOf:
</ul><H3>Printing</H3>
<ul><li> printToFile:
</ul><H3>NextStep Archiving</H3>
<ul><li> write:
<li> read:
</ul><H2>Methods</H2>
<br>
<br>
<H3>new</H3>
<blockquote>
+ <b>new</b><p>
</blockquote>
Returns a new empty collection.<p>
<br>
<br>
<H3>copy</H3>
<blockquote>
- <b>copy</b><p>
</blockquote>
Returns a new copy of the collection.<p>
<br>
<br>
<H3>deepCopy</H3>
<blockquote>
- <b>deepCopy</b><p>
</blockquote>
Returns a new copy of the collection.  The members in the new collection are deep copies of the members in the original collection.<p>
<br>
<br>
<H3>emptyYourself</H3>
<blockquote>
- <b>emptyYourself</b><p>
</blockquote>
Removes all the members of the collection (without freeing them).  Returns the receiver.<p>
<br>
<br>
<H3>freeContents</H3>
<blockquote>
- <b>freeContents</b><p>
</blockquote>
Removes and frees all the members of the receiver, but doesn't free the receiver itself.  Returns the receiver.<p>
<br>
<br>
<H3>free</H3>
<blockquote>
- <b>free</b><p>
</blockquote>
Frees the collection, but not its contents.  Returns <b>nil</b>.  Do :<p>
<blockquote>
<pre>
aCltn = [[aCltn freeObjects] free];
</pre>
</blockquote>
if you want to free the collection and its contents.<p>
<br>
<br>
<H3>size</H3>
<blockquote>
- (unsigned) <b>size</b><p>
</blockquote>
Returns the number of objects in the collection.<p>
<br>
<br>
<H3>isEmpty</H3>
<blockquote>
- (BOOL) <b>isEmpty</b><p>
</blockquote>
Whether the number of objects in the collection is equal to zero.<p>
<br>
<br>
<H3>lastOffset</H3>
<blockquote>
- (unsigned) <b>lastOffset</b><p>
</blockquote>
Returns the offset of the last element.  If there are no elements it returns (unsigned)-1.<p>
<br>
<br>
<H3>eachElement</H3>
<blockquote>
- <b>eachElement</b><p>
</blockquote>
Returns a sequence of the elements in the collection.<p>
<blockquote>
<pre>
aSeq = [aCltn eachElement];
while ((anElement = [aSeq next])) {
    /* do something */
}
aSeq = [aSeq free];
</pre>
</blockquote>
<br>
<br>
<H3>firstElement</H3>
<blockquote>
- <b>firstElement</b><p>
</blockquote>
Returns the first element in the collection.  If there are no elements, returns <b>nil</b>.<p>
<br>
<br>
<H3>lastElement</H3>
<blockquote>
- <b>lastElement</b><p>
</blockquote>
Returns the last element in the collection.  If there are no elements, returns <b>nil</b>.<p>
<br>
<br>
<H3>hash</H3>
<blockquote>
- (unsigned) <b>hash</b><p>
</blockquote>
Returns a hash value based on the receiver's address and the results of sending the <b>hash</b> message to the contents.<p>
<br>
<br>
<H3>isEqual:</H3>
<blockquote>
- (BOOL) <b>isEqual</b> <b>:</b> <i>aCltn</i><p>
</blockquote>
Returns YES if <i>aCltn</i> is a collection, and if each member of its contents responds affirmatively to the message <b>isEqual:</b> when compared to the corresponding member of the receiver's contents.<p>
<br>
<br>
<H3>add:</H3>
<blockquote>
- <b>add</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Adds <i>anObject</i> to the collection as the last element and returns the receiver.<p>
<br>
<br>
<H3>addFirst:</H3>
<blockquote>
- <b>addFirst</b> <b>:</b> <i>newObject</i><p>
</blockquote>
Adds <i>newObject</i> as the first (zero-th) element of the collection.  Returns the receiver.  Any elements at this offset or higher are relocated to the next higher offset to make room.<p>
<br>
<br>
<H3>addLast:</H3>
<blockquote>
- <b>addLast</b> <b>:</b> <i>newObject</i><p>
</blockquote>
Identical to the <b>add:</b> method.<p>
<br>
<br>
<H3>addIfAbsent:</H3>
<blockquote>
- <b>addIfAbsent</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Adds <i>anObject</i> to the collection only if the collection does not have that same object, i.e., one that is pointer equal.  Returns the receiver.<p>
<br>
<br>
<H3>addIfAbsentMatching:</H3>
<blockquote>
- <b>addIfAbsentMatching</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Adds <i>anObject</i> to the collection only if the collection does not have a matching object, i.e., one that is <b>isEqual:</b>.  Returns the receiver.<p>
<br>
<br>
<H3>at:insert:</H3>
<blockquote>
- <b>at</b> <b>:</b>(unsigned ) <i>anOffset</i> <b>insert</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Inserts <i>anObject</i> at offset <i>anOffset</i> and returns the receiver.  Any elements at this offset or higher are relocated to the next higher offet to make room.  If <i>anOffset</i> is greater than the size of the collection, an error is generated.<p>
<br>
<br>
<H3>insert:after:</H3>
<blockquote>
- <b>insert</b> <b>:</b> <i>newObject</i> <b>after</b> <b>:</b> <i>oldObject</i><p>
</blockquote>
Searches for <i>oldObject</i> in the collection, and inserts <i>newObject</i> after <i>oldObject</i>, moving later elements if necessary to make room.  If <i>oldObject</i> is not found, an error is generated.  Returns the receiver.<p>
<br>
<br>
<H3>insert:before:</H3>
<blockquote>
- <b>insert</b> <b>:</b> <i>newObject</i> <b>before</b> <b>:</b> <i>oldObject</i><p>
</blockquote>
First searches for <i>oldObject</i> in the collection, and inserts the <i>newObject</i> before <i>oldObject</i>.  If <i>oldObject</i> is not found, an error is generated.  Returns the receiver.<p>
<br>
<br>
<H3>after:</H3>
<blockquote>
- <b>after</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Searches for <i>anObject</i> in the collection and, if found, returns the next object.  If <i>anObject</i> is the last element in the array, returns <b>nil</b>.  Generates an error if <i>anObject</i> cannot be found.<p>
<br>
<br>
<H3>before:</H3>
<blockquote>
- <b>before</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Searches for <i>anObject</i> in the collection and, if found, returns the object before it.  If <i>anObject</i> is the first element in the array, returns <b>nil</b>.  Generates an error if <i>anObject</i> cannot be found.<p>
<br>
<br>
<H3>at:</H3>
<blockquote>
- <b>at</b> <b>:</b>(unsigned ) <i>anOffset</i><p>
</blockquote>
Returns the object at <i>anOffset</i> with <i>anObject</i> and returns the old member at <i>anOffset</i>.  Generates an error if <i>anOffset</i> is greater than the size of the collection.<p>
<br>
<br>
<H3>at:put:</H3>
<blockquote>
- <b>at</b> <b>:</b>(unsigned ) <i>anOffset</i> <b>put</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Replaces the object at <i>anOffset</i> with <i>anObject</i> and returns the old member at <i>anOffset</i>.  Generates an error if <i>anOffset</i> is greater than the size of the collection.  Returns <b>nil</b> if <i>anObject</i> is <b>nil</b>.<p>
<br>
<br>
<H3>removeFirst</H3>
<blockquote>
- <b>removeFirst</b><p>
</blockquote>
Removes the first element.  Returns that element or <b>nil</b> if there are no elements.<p>
<br>
<br>
<H3>removeLast</H3>
<blockquote>
- <b>removeLast</b><p>
</blockquote>
Removes the last element.  Returns that element or <b>nil</b> if there are no elements.<p>
<br>
<br>
<H3>removeAt:</H3>
<blockquote>
- <b>removeAt</b> <b>:</b>(unsigned ) <i>anOffset</i><p>
</blockquote>
Removes the object at <i>anOffset</i>.  When an object is removed, the remaining elements are adjusted so that there are no <b>nil</b> entries between the first and last element.  This adjustment shrinks the collection and changes the offset of the entries.  Returns the object removed.<p>
<br>
<br>
<H3>remove:</H3>
<blockquote>
- <b>remove</b> <b>:</b> <i>oldObject</i><p>
</blockquote>
Removes <i>oldObject</i> from the collection if <i>oldObject</i> is found, and returns <i>oldObject</i>.  Otherwise returns <b>nil</b>.<p>
<br>
<br>
<H3>addContentsTo:</H3>
<blockquote>
- <b>addContentsTo</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Adds every element of the receiver to <i>aCol</i> and returns <i>aCol</i>.  If <i>aCol</i> is <b>nil</b>, returns <b>nil</b>.  The argument <i>aCol</i> need not actually be a collection, as long as it responds to <b>add:</b> in the same way as collections do.<p>
<br>
<br>
<H3>addContentsOf:</H3>
<blockquote>
- <b>addContentsOf</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Adds each member of <i>aCol</i> to the receiver.  Returns the receiver.  If <i>aCol</i> is <b>nil</b>, no action is taken.  The argument <i>aCol</i> need not be a collection, so long as it responds to <b>eachElement</b> in the same way as collections do.<p>
<br>
<br>
<H3>removeContentsOf:</H3>
<blockquote>
- <b>removeContentsOf</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Removes each of the members of <i>aCol</i> from the receiver.  Returns the receiver.  The argument <i>aCol</i> need not be a collection, as long as it responds to <b>eachElement</b> as collections do.<p>
If <i>aCol</i> is the same object as the receiver, it empties itself using <b>emptyYourself</b> and returns the receiver.<p>
<br>
<br>
<H3>removeContentsFrom:</H3>
<blockquote>
- <b>removeContentsFrom</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Removes each of the members of the receiver from <i>aCol</i>.  Returns the receiver.  The argument <i>aCol</i> need not be a collection, as long as it responds to <b>remove:</b> in the same way as collections.<p>
<br>
<br>
<H3>find:</H3>
<blockquote>
- <b>find</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns the first member which is the same as <i>anObject</i>, i.e., which is pointer equal.  If none is found, returns <b>nil</b>.<p>
<br>
<br>
<H3>findMatching:</H3>
<blockquote>
- <b>findMatching</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns the first member which matches <i>anObject</i>, i.e., using <b>isEqual:</b> for comparison.  If none is found, returns <b>nil</b>.<p>
<br>
<br>
<H3>findSTR:</H3>
<blockquote>
- <b>findSTR</b> <b>:</b>(STR ) <i>strValue</i><p>
</blockquote>
Returns the first member whose string contents matches <i>strValue</i>, using the <b>isEqualSTR:</b> method for comparison.  If none is found, returns <b>nil</b>.<p>
<br>
<br>
<H3>contains:</H3>
<blockquote>
- (BOOL) <b>contains</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns YES if the receiver contains <i>anObject</i>.  Otherwise, returns NO.  Implementation is in terms of the receiver's <b>find:</b> method.<p>
<br>
<br>
<H3>offsetOf:</H3>
<blockquote>
- (unsigned) <b>offsetOf</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Searches for <i>anObject</i> in the contents and returns the offset of the <b>first</b> pointer equal object it finds.  Otherwise, returns (unsigned)-1.  If <i>anObject</i> is <b>nil</b>, also returns (unsigned)-1.<p>
<br>
<br>
<H3>printToFile:</H3>
<blockquote>
- <b>printToFile</b> <b>:</b>(FILE *) <i>aFile</i><p>
</blockquote>
Prints a list of the objects in the objects by sending each individual object a <b>printToFile:</b> message.  Returns the receiver.<p>
<br>
<br>
<H3>write:</H3>
<blockquote>
- <b>write</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Writes the collection and all its elements to the typed stream <i>stream</i>.  Returns the receiver.<p>
<br>
<br>
<H3>read:</H3>
<blockquote>
- <b>read</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Reads the collection and all its members from the typed stream <i>stream</i>.  Returns the receiver.<p>

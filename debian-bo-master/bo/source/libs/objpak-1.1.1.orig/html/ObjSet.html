<html>
<title>ObjSet Specification Sheet</title>
<H1>ObjSet Specification Sheet</H1>

<hr>
ObjectPak Objective C Class Library<p>
<H1>ObjSet</H1>
Inherits from:ObjPak<p>
<H2>Class Description</H2>
<b>ObjSet</b> instances are sets of objects with no duplicate (in the sense of <b>isEqual:</b>) entries.  The <b>ObjDic</b> class provides a key-value based interface to sets, and may sometimes be more convenient to use.<p>
To make Sets correctly work, the objects have to implement a pair of comparison methods which must act in a coordinated way :<p>
The message<p>
<blockquote>
<pre>
[newElement isEqual:oldElement]
</pre>
</blockquote>
is expected to report whether <i>newElement</i> is equal to <i>oldElement</i>.<p>
The message<p>
<blockquote>
<pre>
[newElement hash]
</pre>
</blockquote>
should return an integer which is equal for all objects for which <b>isEqual:</b> is true. <p>
Sets place all objects added to them into a hash table based on the results of sending the objects the <b>hash</b> message.  <b>ObjSet</b> assumes that, after being added to a set, objects, and their hash value, will not be changed.  If any object does change, it will not be located properly in the set.  The result of this is that the object will not be found or that it will be added to the set more than once.<p>
<H3>Adding Objects</H3>
The methods <b>add:</b>, <b>addNTest:</b>, <b>filter:</b> and <b>replace:</b> are used to add objects to a set.  The difference between these methods is the procedure used in adding, how duplicates are handled and what value is returned.<p>
<H2>Method Types</H2>
<H3>Creation</H3>
<ul><li> new
<li> copy
<li> deepCopy
<li> emptyYourself
<li> freeContents
<li> free
</ul><H3>Interrogation</H3>
<ul><li> size
<li> isEmpty
<li> eachElement
</ul><H3>Comparing</H3>
<ul><li> hash
<li> isEqual:
</ul><H3>Adding</H3>
<ul><li> add:
<li> addNTest:
<li> filter:
<li> replace:
</ul><H3>Removing</H3>
<ul><li> remove:
</ul><H3>Adding and Removing Contents</H3>
<ul><li> addContentsTo:
<li> addContentsOf:
<li> removeContentsOf:
<li> removeContentsFrom:
</ul><H3>Locating</H3>
<ul><li> find:
<li> contains:
<li> occurrencesOf:
</ul><H3>Combining</H3>
<ul><li> intersection:
<li> union:
<li> difference:
</ul><H3>Printing</H3>
<ul><li> printToFile:
</ul><H3>NextStep Archiving</H3>
<ul><li> write:
<li> read:
</ul><H2>Methods</H2>
<br>
<br>
<H3>new</H3>
<blockquote>
+ <b>new</b><p>
</blockquote>
Returns a new empty set.<p>
<br>
<br>
<H3>copy</H3>
<blockquote>
- <b>copy</b><p>
</blockquote>
Returns a new copy of the set.<p>
<br>
<br>
<H3>deepCopy</H3>
<blockquote>
- <b>deepCopy</b><p>
</blockquote>
Returns a new copy of the set.  The elements in the new set are deep copies of the elements in the original set.<p>
<br>
<br>
<H3>emptyYourself</H3>
<blockquote>
- <b>emptyYourself</b><p>
</blockquote>
Empties all the members of the set (without freeing them).  Returns the receiver.<p>
<br>
<br>
<H3>freeContents</H3>
<blockquote>
- <b>freeContents</b><p>
</blockquote>
Removes and frees all the members of the set, but doesn't free the set itself.  Returns the receiver.<p>
<br>
<br>
<H3>free</H3>
<blockquote>
- <b>free</b><p>
</blockquote>
Frees the set, but not its elements.  Returns <b>nil</b>.  Do :<p>
<blockquote>
<pre>
aSet = [[aSet freeObjects] free];
</pre>
</blockquote>
if you want to free the set and its contents.<p>
<br>
<br>
<H3>size</H3>
<blockquote>
- (unsigned) <b>size</b><p>
</blockquote>
Returns the number of elements in the set.<p>
<br>
<br>
<H3>isEmpty</H3>
<blockquote>
- (BOOL) <b>isEmpty</b><p>
</blockquote>
Whether the number of objects in the set is equal to zero.<p>
<br>
<br>
<H3>eachElement</H3>
<blockquote>
- <b>eachElement</b><p>
</blockquote>
Returns a sequence of elements in the set.<p>
<blockquote>
<pre>
aSeq = [aSet eachElement];
while ((anElement = [aSeq next])) {
    /* do something */
}
aSeq = [aSeq free];
</pre>
</blockquote>
<br>
<br>
<H3>hash</H3>
<blockquote>
- (unsigned) <b>hash</b><p>
</blockquote>
Returns a hash value based on the receiver's address and the results of sending the <b>hash</b> message to the contents.<p>
<br>
<br>
<H3>isEqual:</H3>
<blockquote>
- (BOOL) <b>isEqual</b> <b>:</b> <i>aSet</i><p>
</blockquote>
Returns YES if <i>aSet</i> is a set, and if each member of its contents responds affirmatively to the message <b>isEqual:</b> when compared to the corresponding member of the receiver's contents.<p>
<br>
<br>
<H3>add:</H3>
<blockquote>
- <b>add</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Adds <i>anObject</i> if it was not previously in the set, but doesn't inform the caller about the addition because the receiver is always returned.<p>
<br>
<br>
<H3>addNTest:</H3>
<blockquote>
- <b>addNTest</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Adds <i>anObject</i> if it was not previously in the set.  Returns <i>anObject</i> if the addition takes place, otherwise returns <b>nil</b>.<p>
<br>
<br>
<H3>filter:</H3>
<blockquote>
- <b>filter</b> <b>:</b> <i>anObject</i><p>
</blockquote>
The <b>filter:</b> method has a special purpose.  If there is a matching object in the set, then <i>anObject</i> is freed, and the matching object is returned.  Otherwise, <i>anObject</i> is added and returned.<p>
<br>
<br>
<H3>replace:</H3>
<blockquote>
- <b>replace</b> <b>:</b> <i>anObject</i><p>
</blockquote>
If a matching object is found, then <i>anObject</i> replaces that object, and the matching object is returned.  If there is no matching object, <i>anObject</i> is added to the receiver, and <b>nil</b> is returned.<p>
<br>
<br>
<H3>remove:</H3>
<blockquote>
- <b>remove</b> <b>:</b> <i>oldObject</i><p>
</blockquote>
Removes <i>oldObject</i> or the element which matches it using <b>isEqual:</b>.  Returns the removed entry, or <b>nil</b> if there is no matching entry.<p>
<br>
<br>
<H3>addContentsTo:</H3>
<blockquote>
- <b>addContentsTo</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Adds every element of the receiver to <i>aCol</i> and returns <i>aCol</i>.  If <i>aCol</i> is <b>nil</b>, returns <b>nil</b>.  The argument <i>aCol</i> need not actually be a collection, as long as it responds to <b>add:</b> in the same way as collections do.<p>
<br>
<br>
<H3>addContentsOf:</H3>
<blockquote>
- <b>addContentsOf</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Adds each member of <i>aCol</i> to the receiver.  Returns the receiver.  If <i>aCol</i> is <b>nil</b>, no action is taken.  The argument <i>aCol</i> need not be a collection, so long as it responds to <b>eachElement</b> in the same way as collections do.<p>
<br>
<br>
<H3>removeContentsOf:</H3>
<blockquote>
- <b>removeContentsOf</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Removes each of the members of <i>aCol</i> from the receiver.  Returns the receiver.  The argument <i>aCol</i> need not be a collection, as long as it responds to <b>eachElement</b> as collections do.<p>
If <i>aCol</i> is the same object as the receiver, it empties itself using <b>emptyYourself</b> and returns the receiver.<p>
<br>
<br>
<H3>removeContentsFrom:</H3>
<blockquote>
- <b>removeContentsFrom</b> <b>:</b> <i>aCol</i><p>
</blockquote>
Removes each of the members of the receiver from <i>aCol</i>.  Returns the receiver.  The argument <i>aCol</i> need not be a collection, as long as it responds to <b>remove:</b> in the same way as collections.<p>
<br>
<br>
<H3>find:</H3>
<blockquote>
- <b>find</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns any element in the receiver which <b>isEqual:</b> to <i>anObject</i>.  Otherwise, returns <b>nil</b>.<p>
<br>
<br>
<H3>contains:</H3>
<blockquote>
- (BOOL) <b>contains</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns YES if the receiver contains <i>anObject</i>.  Otherwise, returns NO.  Implementation is in terms of the receiver's <b>find:</b> method.<p>
<br>
<br>
<H3>occurrencesOf:</H3>
<blockquote>
- (unsigned) <b>occurrencesOf</b> <b>:</b> <i>anObject</i><p>
</blockquote>
Returns 1 if <i>anObject</i> is in the receiver, otherwise returns 0.  Implementation is in terms of the receiver's <b>find:</b> method.<p>
<br>
<br>
<H3>intersection:</H3>
<blockquote>
- <b>intersection</b> <b>:</b> <i>aSet</i><p>
</blockquote>
Returns a new set which is the intersection of the receiver and <i>aSet</i>.  The new set contains only those elements that were in both the receiver and <i>aSet</i>.  The argument <i>aSet</i> need not be an actual <b>ObjSet</b> instance, as long as it implements <b>find:</b> as sets do.<p>
<br>
<br>
<H3>union:</H3>
<blockquote>
- <b>union</b> <b>:</b> <i>aSet</i><p>
</blockquote>
Returns a new set which is the union of the receiver and <i>aSet</i>.  The new set returned has all the elements from both the receiver and <i>aSet</i>.  The argument <i>aSet</i> need not be an actual <b>ObjSet</b> instance, as long as it implements <b>eachElement:</b> as sets do.<p>
<br>
<br>
<H3>difference:</H3>
<blockquote>
- <b>difference</b> <b>:</b> <i>aSet</i><p>
</blockquote>
Returns a new set which is the difference of the receiver and <i>aSet</i>.  The new set returned has only those elements in the receiver that are not in <i>aSet</i>.<p>
<br>
<br>
<H3>printToFile:</H3>
<blockquote>
- <b>printToFile</b> <b>:</b>(FILE *) <i>aFile</i><p>
</blockquote>
Prints a list of the objects in the set by sending each individual object a <b>printToFile:</b> message.  Returns the receiver.<p>
<br>
<br>
<H3>write:</H3>
<blockquote>
- <b>write</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Writes the set and all its elements to the typed stream <i>stream</i>.  Returns the receiver.<p>
<br>
<br>
<H3>read:</H3>
<blockquote>
- <b>read</b> <b>:</b>(NXTypedStream *) <i>stream</i><p>
</blockquote>
Reads the set and all its elements from the typed stream <i>stream</i>.  The implementation of <b>hash</b> of an element may not change during unarchiving. Returns the receiver.<p>

Notes about MoreFiles, dnr.c & other non-Tcl source files
---------------------------------------------------------

@(#) morefiles.doc 1.2 96/08/28 17:27:22

The Macintosh distribution uses several source files that don't
actually ship with Tcl.  This sometimes causes problems or confusion
to developers.  This document should help clear up a few things.

dnr.c
-----

The C file dnr.c is provided by Apple Computer and is usually included
by the various compilier vendors.  For Metrowerks, the file is located
in the same place as the system include files.  This file is required
by MacTcp and can't, by license terms, be shiped with Mac Tcl/Tk.

Some versions of this file have used the C++ style of comments.  (That
is comments that start with //.)  You may need to modify you version 
of dnr.c to use normal C style comments.  Alternativly, you can change
the preferences in your copy of the Mac Tcl/Tk project files to allow
C++ style comments.

This modification is kind of a pain.  Please feel free to notify 
Metrowerks Support <support@austin.metrowerks.com> and Apple's
Developer Support Center <devsupport@apple.com> to report this bug.
With enough complaints they may fix it...

More Files
----------

Macintosh Tcl/Tk also uses Jim Luther's very useful package called
More Files.  More Files fixes many of the broken or underfunctional
parts of the file system.

More Files can be found on the MetroWerks CD and Developer CD from
Apple.  You can also down load the latest version from:

	ftp://members.aol.com/JumpLong/

The package can also be found at the home of Tcl/Tk for the mac:

	ftp://ftp.sunlabs.com/pub/tcl/mac/

I used to just link the More Files library in the Tcl projects.  
However, this caused problems when libraries wern't matched correctly.
I'm now including the files in the Tcl project directly.  This
solves the problem of missmatched libraries - but may not always
compile.

If you get a compiliation error in MoreFiles you need to contact
Jim Luther.  His email address:

	JumpLong@aol.com

The latest version of More Files is 1.4.3.  Early version may work.

Unfortunantly, there is one bug in his library.  The bug is in the
function FSpGetFullPath found in the file FullPath.c.  After the
call to PBGetCatInfoSync you need to change the line:

if ( result == noErr )

to:

if ( (result == noErr) || (result == fnfErr) )

Note: the version of MoreFile downloaded from the Sun Tcl/Tk site
will have the fix included.  (If you want you can send email to
Jim Luther suggesting that he use Tcl for regression testing!)

Ray Johnson

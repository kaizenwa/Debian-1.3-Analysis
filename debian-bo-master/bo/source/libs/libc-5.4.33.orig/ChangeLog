Fri May 30 21:06:03 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.33 is released.

	* <_G_config.h>: change version to 5.4.33.

	* elf/libc/jump.params: set version to 5.4.33.

	* release.libc: update.

Fri May 30 19:18:32 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/glibcstat.h: new, from glibc 2.

	* sysdeps/linux/_fxstat.c:
	* sysdeps/linux/_lxstat.c:
	* sysdeps/linux/_xstat.c: add glibc compatibility.

Fri May 30 07:56:13 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.32 is released.

	* <_G_config.h>: change version to 5.4.32.

	* elf/libc/jump.params: set version to 5.4.32.

	* release.libc: update.

Wed May 28 07:31:49 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* time/strptime.c: use 9999 as the limit for year, instead
	  of INT_MAX. Yes, we got a year 9999 problem.
	  Always use 1900 for offset.

Sat May 24 17:13:25 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.31 is released.

	* <_G_config.h>: change version to 5.4.31.

	* elf/libc/jump.params: set version to 5.4.31.

	* release.libc: update.

Sat May 24 16:08:09 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/i386/crt/gcrt0.S: move monstartup () before
	_mcleanup ().

Tue May 20 14:42:44 1997  Martin Mares <mj@mj.gts.cz>

	* misc/syslog.c: fix a typo which causes strange console
	message.

Mon May 19 07:11:52 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/_errlist.c (_sys_errlist): change errno == 0
	  from "Unknown error" to "Success".

Sun May 18 20:11:52 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.30 is released.

	* <_G_config.h>: change version to 5.4.30.

	* elf/libc/jump.params: set version to 5.4.30.

	* release.libc: update.

	* yp/yp_xdr.c (xdr_ypmaplist_str): commented out.
	(xdr_ypmaplist): fix a typo.

Fri May 16 19:45:15 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.29 is released.

	* <_G_config.h>: change version to 5.4.29.

	* elf/libc/jump.params: set version to 5.4.29.

	* release.libc: update.

Fri May 16 02:01:35 1997  Martin Mares <mj@mj.gts.cz>

	* misc/syslog.c: fix several possible buffer
	overruns.

Thu May 15 01:13:58 1997  Rafael Moreno <etelvino@redestb.es>

	* nls/linux/Spanish/LEEME:
	* nls/linux/Spanish/auth.m:
	* nls/linux/Spanish/clnt-misc.m:
	* nls/linux/Spanish/errlist-u.m:
	* nls/linux/Spanish/errlist.m:
	* nls/linux/Spanish/gencat.m:
	* nls/linux/Spanish/h-errlist.m:
	* nls/linux/Spanish/net-misc.m:
	* nls/linux/Spanish/rpc-errlist.m:
	* nls/linux/Spanish/rpc-misc.m:
	* nls/linux/Spanish/siglist-u.m:
	* nls/linux/Spanish/siglist.m: new messages for Spanish.

Sat May 10 14:39:26 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.28 is released.

	* <_G_config.h>: change version to 5.4.28.

	* elf/libc/jump.params: set version to 5.4.28.

	* release.libc: update.

Fri May  8 08:13:09 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <sys/syscall.h> (poll): added the system call number.

	* <sys/poll.h>: new file from glibc 2.

	* sysdeps/linux/Makefile (SRC1S): add poll.c.
	  (SRC2S): add __syscall_poll.S.

	* sysdeps/linux/__flock.c: save errno.

	* sysdeps/linux/poll.c: new from glibc 2.

	* sysdeps/linux/__syscall_poll.S: new.

Mon May  5 08:23:19 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* nys/nsw/src/nis/nis_group.c (parse_result): call
	xstrdup () for add_member (). Reported by Jason Mcmullan
	<jmcc@m5.vi.ri.cmu.edu>.

Sun May  4 08:50:33 1997  Thorsten Kukuk <kukuk@vt.uni-paderborn.de>

	* nys/nsw/src/nis/nis_hosts.c :
	* nys/nsw/src/nis/nis_publickey.c: fixes some wrong return
	  codes in error cases and checks for NULL pointer
	  dereferencing.

Sat May  3 16:00:00 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.27 is released.

	* <_G_config.h>: change version to 5.4.27.

	* elf/libc/jump.params: set version to 5.4.27.

	* release.libc: update.

Tue Apr 29 05:29:08 1997  Miquel van Smoorenburg <miquels@cistron.nl>

	* yp/yplib.c (): fix argument for xdr_domainname ().

Thu Apr 10 17:15:09 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* elf/libm/jump.params: set version to 5.0.9.

Thu Apr 10 13:05:59 1997  Kristopher Giesing <kris@mailhost.mathworks.com>

	* sysdeps/linux/i386/math/pow.c: bug fix.

Tue Apr  8 08:02:39 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.26 is released.

	* <_G_config.h>: change version to 5.4.26.

	* elf/libc/jump.params: set version to 5.4.26.

	* release.libc: update.

Tue Apr  8 07:32:49 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* libio/genops.c (_IO_flush_all_linebuffered): don't flush on
	a read-only stream.

Tue Apr  8 06:47:24 1997  jpmg@eng.cam.ac.uk

	* sysdeps/linux/__fpathconf.c: return -1 for
	_POSIX_CHOWN_RESTRICTED on NFS.

Tue Apr  1 17:53:39 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <netatalk/at.h>: new for appletalk.

	* <netinet/ip.h> (IP_MSS): new.

Thu Mar 27 07:37:13 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* libio/fileops.c (_IO_file_overflow): set error when try to
	write on a read-only stream.

Sun Mar 23 14:24:34 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.25 is released.

	* <_G_config.h>: change version to 5.4.25.

	* elf/libc/jump.params: set version to 5.4.25.

	* release.libc: update.

Sun Mar 23 14:21:04 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/readv.c:
	* sysdeps/linux/writev.c: check count <= UIO_FASTIOV
	for error and use emulation if necessary.

	* posix/putenv.c: backed out the change on  Fri Feb 21 13:28:23
	1997  H.J. Lu (hjl@gnu.ai.mit.edu) since it breaks many
	TeX programs unless they are recompiled with -DSMART_PUTENV.

	* <paths.h> (_PATH_DEFPATH): remove ".".

Thu Mar 20 13:01:39 1997  Thorsten Kukuk <kukuk@weber.uni-paderborn.de>

	* nys/yp/src/yp.h: removed.

	* nys/yp/src/yp_clnt.c:
	* nys/yp/src/yp_conf.c:
	* nys/yp/src/yp_if.c:
	* nys/yp/src/yp_xdr.c: modified for new xdr_domainname ().

Mon Mar 17 07:56:12 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* bsd/setenv.c (setenv): don't copy name when we reuse the
	  buffer for replacement.

Mon Feb 24 23:05:00 1997  Wolfram Gloger  <wmglo@dent.med.uni-muenchen.de>

	* dl-malloc/malloc.c (malloc_get_state): New function.
	Saves global malloc state to an opaque data structure which
	is dynamically allocated in the heap.

	* dl-malloc/malloc.c (malloc_set_state): New function.
	Restore previously obtained state.

	* <malloc.h>: Add declaration of malloc_get_state()
	and malloc_set_state().

Fri Mar 14 20:01:08 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.24 is released.

	* <_G_config.h>: change version to 5.4.24.

	* elf/libc/jump.params: set version to 5.4.24.

	* release.libc: update.

Wed Mar 12 22:13:44 1997  alan@spri.levels.unisa.edu.au (Alan Modra)

	* time/strptime.c: Fix abbreviated/full names. Reported by
	Steven Gribble <gribble@cs.Berkeley.EDU>.

Wed Mar 12 20:40:45 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* inet/gethstnmad.c (_gethtbyname): return the complete aliase
	list no matter what.

Sun Mar  9 07:32:37 1997  "Marty Leisner" <leisner@sdsp.mc.xerox.com>

	* sysdeps/linux/__lseek.S: define __CHECK_RETURN_ADDR.

Thu Feb 27 08:07:07 1997  David van Leeuwen <vanleeuwen@tm.tno.nl>

	* sysdeps/linux/_errlist.c (ENOMEDIUM, EMEDIUMTYPE): new.

Mon Feb 24 07:25:58 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/m68k/hton.c: updated from sysdeps/i386/hton.c.

Fri Feb 21 13:28:23 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <assert.h>: undefine assert_perror first.

	* posix/putenv.c: update from glibc 2.0.2.

Fri Feb 14 19:41:54 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.23 is released.

	* <_G_config.h>: change version to 5.4.23.

	* elf/libc/jump.params: set version to 5.4.23.

	* release.libc: update.

	* time/strptime.c (strptime): fix definition.

Fri Feb 14 04:27:57 1997   Ulrich Windl <Ulrich.Windl@rz.uni-regensburg.de>

	* <time.h> (strptime): fix the prototype.

Sun Feb  9 12:05:06 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <malloc.h>: update copyright.
	  (__libc_malloc_initialized): new.

	* dl-malloc/malloc.c (__libc_malloc_initialized): changed
	  from __malloc_initialized so that this variable is not
	  shared with other users of GNU malloc.

Fri Feb  7 19:14:31 1997  "Ronald F. Guilmette" <rfg@monkeys.com>

	* inet/gethstnmad.c (gethostbyname): change sizeof (buf)
	  to sizeof (buf.buf) while calling res_search ().

Wed Feb  5 16:25:14 1997  "Ronald F. Guilmette" <rfg@monkeys.com>

	* <sys/syslog.h> (prioritynames, prioritynames, facilitynames):
	  add missing '{' and '}'.

Mon Feb  3 19:57:45 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.22 is released.

	* <_G_config.h>: change version to 5.4.22.

	* elf/libc/jump.params: set version to 5.4.22.

	* elf/libm/jump.params: set version to 5.0.8.

	* release.libc: update.

	* <rpcsvc/yp.x>:
	* <rpcsvc/yp.h>:
	* <rpcsvc/yp_prot.h>: update from glibc 2.0.1.

Sun Feb  2 23:41:28 1997   "Hans-Frieder Vogt" <vogt@ilaws6.luftfahrt.Uni-Stuttgart.de>

	* bsd/realbsd.c: return the offending path in error.

Sat Feb  1 11:47:26 1997  Stephen L Moshier <moshier@world.std.com>

	* sysdeps/linux/i386/math/frexpl.c: Preserve sign of input.

Wed Jan 29 20:50:53 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/i386/crt/crt0.S: align stack to 8 bytes.

Sun Jan 26 21:03:51 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.21 is released.

	* <_G_config.h>: change version to 5.4.21.

	* elf/libc/jump.params: set version to 5.4.21.

	* release.libc: update.

	* <sys/vm86.h> (vm86old): renamed from vm86.
	(vm86): new.

	* <sys/syscall.h> (SYS_vm86old): renamed from SYS_vm86.
	(SYS_setresuid, SYS_getresuid, SYS_vm86, SYS_query_module): new.

	* sysdeps/linux/Makefile (SRC1S): remove vm86.S.

	* sysdeps/linux/Makefile (SRC3S): add vm86old.S and vm86.S.

	* sysdeps/linux/vm86.S: removed.

	* sysdeps/linux/i386/vm86.S: new.

	* sysdeps/linux/i386/vm86old.S: new.

Thu Jan 23 13:22:34 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* yp/yp.h:
	* yp/yppasswd.h: removed.

	* yp/yppasswd_xdr.c:
	* yp/yplib.c:
	* yp/yp_xdr.c: modified for new <rpcsvc/yp_prot.h>.

	* yp/yp_xdr.c (xdr_domainname): changed to

		bool_t xdr_domainname(XDR *xdrs, domainname *objp)

	* <rpcsvc/yppasswd.h>: new.

	* <rpcsvc/yp_prot.h> (_YPBIND, struct ypbind_binding):
	defined before include <rpcsvc/yp.h>.
	don't duplicate anything defined in <rpcsvc/yp.h>.

	* <rpcsvc/yp.h>: new. generated from yp.x.

Sat Jan 11 11:20:04 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.20 is released.

	* <_G_config.h>: change version to 5.4.20.

	* elf/libc/jump.params: set version to 5.4.20.

	* release.libc: update.

	* rpc/xdr.c (xdr_string): return FALSE if the
	  pointer is NULL for XDR_ENCODE.

Sun Jan  5 01:26:54 1997  Greg Stark <gsstark@mit.edu>

	* regex/rx.c: protect and release cdr.

Sat Jan  4 10:46:30 1997  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.19 is released.

	* <_G_config.h>: change version to 5.4.19.

	* elf/libc/jump.params: set version to 5.4.19.

	* release.libc: update.

	* login/getpass.c: disable ICANON.

Tue Dec 31 06:13:14 1996  Wolfram Gloger <Wolfram.Gloger@dent.med.uni-muenchen.de>

	* libio/stdio/stdio.h:
	* libio/stdio/setfileno.c:
	* stdlib/strtod.c:
	* sysdeps/linux/connect.c:
	* sysdeps/linux/getsocknam.c:
	* sysdeps/linux/getsockopt.c:
	* sysdeps/linux/recv.c:
	* sysdeps/linux/recvfrom.c:
	* sysdeps/linux/send.c:
	* sysdeps/linux/sendto.c:
	* sysdeps/linux/setsockopt.c:
	* sysdeps/linux/shutdown.c:
	* sysdeps/linux/socket.c:
	* sysdeps/linux/sysctl.c:
	* sysdeps/linux/accept.c:
	* sysdeps/linux/bind.c:
	* sysdeps/linux/listen.c:
	* sysdeps/linux/getpeernam.c:
	* sysdeps/linux/sendmsg.c:
	* sysdeps/linux/socketpair.c:
	* sysdeps/linux/recvmsg.c: update.

	* dl-malloc/Makefile (VSCFLAGS): add -DMALLOC_HOOKS and remove
	  -D__MALLOC_0_RETURNS_NULL

	* dl-malloc/malloc.c: update from Doug Lea's 2.6.4 plus debug
	  hooks.

Sun Dec 29 10:45:59 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* README: update.

	* sysdeps/linux/i386/__init_brk.c (__curbrk):
	* sysdeps/linux/m68k/__init_brk.c (__curbrk): new, weak aliase
	  of ___brk_addr.

Thu Dec 12 01:20:42 1996  Geert Uytterhoeven <geert@cs.kuleuven.ac.be>

	* sysdeps/linux/m68k/gmon/gmon.c: fix a typo.

Tue Dec 17 08:16:37 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.18 is released.

	* <_G_config.h>: change version to 5.4.18.

	* elf/libc/jump.params: set version to 5.4.18.

	* release.libc: update.

Mon Dec 16 18:17:37 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* sysdeps/linux/i386/math/exp.S: fix a typo.

	* inet/rcmd.c, inet/rexec.c: check the size of the IP address
	  from gethosybyname () against sizeof (sin_addr).

Sat Dec  7 21:41:48 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <paths.h> (_PATH_LOCALE): changed to /usr/share/locale.

Mon Dec  9 20:30:59 1996  Ed Doolittle <dolittle@weniac.math.toronto.edu>

	* <paths.h> (_PATH_PRESERVE): new, defined as
	  "/var/preserve".

Mon Dec  9 21:59:52 1996  Ruediger Helsch <rh@unifix.de>

	* libio/printf_fp.c: fix locale.

Sat Dec  7 21:41:48 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <netinet/ip.h>: include <netinet/in.h>.

Fri Dec  6 13:35:05 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.17 is released.

	* <_G_config.h>: change version to 5.4.17.

	* elf/libc/jump.params: set version to 5.4.17.

	* release.libc: update.

	* sysdeps/linux/__fpathconf.c (_PC_PATH_MAX): undo the
	  change on Mon Dec  2 19:44:36 1996 by H.J. Lu
	  (hjl@gnu.ai.mit.edu).

	* bsd/realpath.c (realpath):
	* io/getwd.c (getwd): allocate a buffer of PATH_MAX chars
	  and copy the result back to user. We don't trust the user
	  buffer size.

Thu Dec  5 08:26:15 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* libio/stdio/getc.c (_IO_getc): added libc 6.x/glibc 2.x
	  compatibility codes for XFree86.

	* bsd/realpath.c (realpath):
	* io/getwd.c (getwd): reduce PATH_MAX to 1024 if PATH_MAX
	  > 1024. Many binaries are hard-coded with PATH_MAX = 1024.
	  We need to find a dynamic way to check PATH_MAX at run-time. 

Wed Dec  4 10:12:07 1996  David M. Ronis <ronis@ronispc.chem.mcgill.ca>

	* sysdeps/linux/i386/math/erf.c: fix underflow.

Tue Dec  3 19:07:47 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.16 is released.

	* <_G_config.h>: change version to 5.4.16.

	* elf/libc/jump.params: set version to 5.4.16.

	* release.libc: update.

	* elf/libm/jump.params: set version to 5.0.7.

	* sysdeps/linux/i386/math/erf.c: change underflow to 20
	  from 10.

	* libio/iovfscanf.c: use tolower () to check 'e'.

Tue Dec  3 06:19:14 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.15 is released.

	* <_G_config.h>: change version to 5.4.15.

	* elf/libc/jump.params: set version to 5.4.15.

	* release.libc: update.

Mon Dec  2 19:44:36 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* misc/syslog.c: catch SGPIPE for syslog restarts.

	* <sys/param.h> (GET_LINUX_KERNEL_VERSION,
	  GET_LINUX_KERNEL_PATCHLEVEL,
	  GET_LINUX_KERNEL_SUBLEVEL, __get_linux_kernel_version):
	  new.

	* bsd/realpath.c (realpath):
	* io/getwd.c (getwd):
	* sysdeps/linux/__fpathconf.c (_PC_PATH_MAX):
	  reduce PATH_MAX to 1024 if linux kernel < 2.1.

	* sysdeps/linux/Makefile (SRC1S): add kernel_version.c.

	* sysdeps/linux/kernel_version.c: new.

	* <sys/stat.h>: do define struct stat for Linux > 2.1.

Sun Dec  1 11:39:50 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* version 5.4.14 is released.

	* <_G_config.h>: change version to 5.4.14.

	* elf/libc/jump.params: set version to 5.4.14.

	* release.libc: update.

Sun Dec  1 08:43:15 1996  H.J. Lu (hjl@gnu.ai.mit.edu)

	* <sys/stat.h>: don't define struct stat for Linux > 2.1.

	* sysdeps/linux/_fxstat.c:
	* sysdeps/linux/_lxstat.c:
	* sysdeps/linux/_xstat.c: make an alias for __?xstat from
	  _?xstat.

	* sysdeps/linux/pthread_stubs.c: added libc 6.x/glibc 2.x
	  compatibility codes for XFree86.

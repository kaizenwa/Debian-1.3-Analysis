#
# This file is a Makefile for Tix.  If it has the name "Makefile.in"
# then it is a template for a Makefile;  to generate the actual Makefile,
# run "./configure", which is a configuration script generated by the
# "autoconf" program (constructs like "@foo@" will get replaced in the
# actual Makefile.
#
# @(#) Makefile.in 1.19 95/01/08 16:55:30

#----------------------------------------------------------------
# Things you can change to personalize the Makefile for your own
# site (you can make these changes in either Makefile.in or
# Makefile, but changes to Makefile will get lost if you re-run
# the configuration script).
#----------------------------------------------------------------

# Default top-level directories in which to install architecture-
# specific files (exec_prefix) and machine-independent files such
# as scripts (prefix).  The values specified here may be overridden
# at configure-time with the --exec-prefix and --prefix options
# to the "configure" script.

prefix      =	@prefix@
exec_prefix =	@exec_prefix@

@SET_MAKE@

# Directory in which to install the library of Tix scripts and demos
# (note: you can set the TIX_LIBRARY environment variable at run-time to
# override the compiled-in location):
TIX_LIBRARY =	$(prefix)/lib/tix

# Directory in which to install the archive libtix.a:
LIB_DIR =	$(exec_prefix)/lib

# Directory in which to install the program wish:
BIN_DIR =	$(exec_prefix)/bin

# Directory in which to install the include file tix.h:
INCLUDE_DIR =	$(prefix)/include

# Top-level directory for manual entries:
MAN_DIR =	$(prefix)/man

# Directory in which to install manual entry for wish:
MAN1_DIR =	$(MAN_DIR)/man1

# Directory in which to install manual entries for Tix's C library
# procedures:
MAN3_DIR =	$(MAN_DIR)/man3

# Directory in which to install manual entries for the built-in
# Tcl commands implemented by Tix:
MANN_DIR =	$(MAN_DIR)/mann

# A "-I" switch that can be used when compiling to make all of the
# X11 include files accessible (the configure script will try to
# set this value, and will cause it to be an empty string if the
# include files are accessible via /usr/include).
X11_INCLUDES =	@XINCLUDES@

# Linker switch(es) to use to link with the X11 library archive (the
# configure script will try to set this value automatically, but you
# can override it).
X11_LIB_SWITCHES = @XLIBSW@

#----------------------------------------------------------------
# The symbols below provide support for dynamic loading and shared
# libraries.  The values of the symbols are normally set by the
# configure script.  You shouldn't normally need to modify any of
# these definitions by hand.  However, you can reverse the comments
# on the pairs of lines to force "no dynamic loading or shared
# libraries".
#----------------------------------------------------------------

# Flags to pass to cc when compiling the components of a shared
# library:
SHLIB_CFLAGS = @SHLIB_CFLAGS@
#SHLIB_CFLAGS =

# Base command to use for combining object files into a shared
# library:
SHLIB_LD = @SHLIB_LD@

# Suffix to use for the name of the shared library.  An empty string
# means we don't know how to use shared libraries on this platform.
SHLIB_SUFFIX = @SHLIB_SUFFIX@
#SHLIB_SUFFIX = .a

# Library file(s) to include in tclsh and other base applications
# in order to provide facilities needed by DLOBJ above.
DL_LIBS = @DL_LIBS@
#DL_LIBS =

# Flags to pass to the compiler when linking object files into
# an executable wish or tktest binary.
LD_FLAGS = @LD_FLAGS@
#LD_FLAGS =

# Libraries to use when linking:  must include at least Tix, Tcl, Xlib,
# and the math library (in that order).  The "@LIBS@" part will be
# replaced (or has already been replaced) with relevant libraries as
# determined by the configure script.
LIBS = libtix.a @TK_BUILD_LIB_SPEC@ @TCL_BUILD_LIB_SPEC@ \
    $(X11_LIB_SWITCHES) $(DL_LIBS) \
    @LIBS@ @MATH_LIBS@

TIX_SHLIB = libtix${SHLIB_SUFFIX}

LIBS_S = $(TIX_SHLIB) @TK_BUILD_LIB_SPEC@ @TCL_BUILD_LIB_SPEC@ \
    $(X11_LIB_SWITCHES) $(DL_LIBS) \
    @LIBS@ @MATH_LIBS@

# To change the compiler switches, for example to change from -O
# to -g, change the following line:
CFLAGS = @TIX_DEBUG_FLAG@

# To disable ANSI-C procedure prototypes reverse the comment characters
# on the following lines:
PROTO_FLAGS =
#PROTO_FLAGS = -DNO_PROTOTYPE

# To enable memory debugging reverse the comment characters on the following
# lines.  Warning:  if you enable memory debugging, you must do it
# *everywhere*, including all the code that calls Tcl, and you must use
# ckalloc and ckfree everywhere instead of malloc and free.
MEM_DEBUG_FLAGS =
#MEM_DEBUG_FLAGS = -DTCL_MEM_DEBUG

# Some versions of make, like SGI's, use the following variable to
# determine which shell to use for executing commands:
SHELL =		/bin/sh

#----------------------------------------------------------------
# The information below is modified by the configure script when
# Makefile is generated from Makefile.in.  You shouldn't normally
# modify any of this stuff by hand.
#----------------------------------------------------------------

AC_FLAGS	=	@DEFS@ @TIX_DEFS@ 
INSTALL		=	@SRC_DIR@/install.sh -c
INSTALL_PROGRAM =	@INSTALL_PROGRAM@
INSTALL_DATA	=	@INSTALL_DATA@
RANLIB		=	@RANLIB@
SRC_DIR		=	@SRC_DIR@
INC_DIR		=	@SRC_DIR@/include
LIBRARY_DIR	=	@SRC_DIR@/library
VPATH		=	@SRC_DIR@
CC		=	@CC@
GENERIC_DIR	=	../generic

CC_SWITCHES =	${CFLAGS} -I${INC_DIR} \
-I@TCL75_SRC_DIR@/generic \
-I@TK41_SRC_DIR@/generic \
-I@TK41_SRC_DIR@/unix \
${X11_INCLUDES} ${AC_FLAGS} ${PROTO_FLAGS} ${MEM_DEBUG_FLAGS} \
-DTIX_LIBRARY=\"${TIX_LIBRARY}\" @TIX_EXTRA_CFLAGS@


SO_CC_SWITCHES = $(CC_SWITCHES) ${SHLIB_CFLAGS} @TIX_EXTRA_CFLAGS@

#----------------------------------------------------------------
# The information below should be usable as is.  The configure
# script won't modify it and you shouldn't need to modify it
# either.
#----------------------------------------------------------------

CORE_OBJS = \
	tixClass.o \
	tixCmds.o \
	tixCompat.o \
	tixError.o \
	tixGeometry.o \
	tixInit.o \
	tixList.o \
	tixMethod.o \
	tixOption.o  \
	tixScroll.o \
	tixSmpLs.o \
	tixUtils.o \
	tixWidget.o

DITEM_OBJS = \
	tixDItem.o \
	tixDiITxt.o \
	tixDiImg.o \
	tixDiStyle.o \
	tixDiText.o \
	tixDiWin.o

MANAGER_OBJS = \
	tixForm.o \
	tixFormMisc.o

WIDGET_OBJS = \
	tixHList.o \
	tixHLCol.o \
	tixHLInd.o \
	tixHLHdr.o \
	tixInputO.o \
	tixNBFrame.o

MISC_OBJS = \
	tixImgCmp.o \
	tixImgXpm.o \
	tixMwm.o

TIX41_OBJS = \
	tixGrid.o \
	tixGrData.o \
	tixGrFmt.o \
	tixGrRC.o \
	tixGrSel.o \
	tixGrUtl.o \
	tixTList.o

OBJS = $(CORE_OBJS) $(DITEM_OBJS) $(MANAGER_OBJS) $(MISC_OBJS) \
	$(WIDGET_OBJS) @TIX41_OBJS@

all: libtix.a tixwish @TIX_MAKE_SHLIB@

libtix.a: $(OBJS)
	rm -f libtix.a
	ar cr libtix.a $(OBJS)
	$(RANLIB) libtix.a

tixwish: tixAppInit.o libtix.a @TCL75_DEPEND@ @TK41_DEPEND@
	$(CC) $(CC_SWITCHES) tixAppInit.o @TIX_EXTRA_LDFLAGS@ $(LIBS) \
	    -o tixwish


#----------------------------------------------------------------------
#
#			.o file rules
#
#----------------------------------------------------------------------
tixClass.o : $(GENERIC_DIR)/tixClass.c
	$(CC) -c $(CC_SWITCHES) $<

tixCmds.o: $(GENERIC_DIR)/tixCmds.c
	$(CC) -c $(CC_SWITCHES) $<

tixCompat.o: $(GENERIC_DIR)/tixCompat.c
	$(CC) -c $(CC_SWITCHES) $<

tixDItem.o: $(GENERIC_DIR)/tixDItem.c
	$(CC) -c $(CC_SWITCHES) $<

tixDiImg.o: $(GENERIC_DIR)/tixDiImg.c
	$(CC) -c $(CC_SWITCHES) $<

tixDiITxt.o: $(GENERIC_DIR)/tixDiITxt.c
	$(CC) -c $(CC_SWITCHES) $<

tixDiStyle.o: $(GENERIC_DIR)/tixDiStyle.c
	$(CC) -c $(CC_SWITCHES) $<

tixDiText.o: $(GENERIC_DIR)/tixDiText.c
	$(CC) -c $(CC_SWITCHES) $<

tixDiWin.o: $(GENERIC_DIR)/tixDiWin.c
	$(CC) -c $(CC_SWITCHES) $<

tixError.o: $(GENERIC_DIR)/tixError.c
	$(CC) -c $(CC_SWITCHES) $<

tixForm.o: $(GENERIC_DIR)/tixForm.c
	$(CC) -c $(CC_SWITCHES) $<

tixFormMisc.o: $(GENERIC_DIR)/tixFormMisc.c
	$(CC) -c $(CC_SWITCHES) $<

tixGeometry.o: $(GENERIC_DIR)/tixGeometry.c
	$(CC) -c $(CC_SWITCHES) $<

tixGrid.o: $(GENERIC_DIR)/tixGrid.c
	$(CC) -c $(CC_SWITCHES) $< 

tixGrData.o: $(GENERIC_DIR)/tixGrData.c
	$(CC) -c $(CC_SWITCHES) $< 

tixGrFmt.o: $(GENERIC_DIR)/tixGrFmt.c
	$(CC) -c $(CC_SWITCHES) $<

tixGrRC.o: $(GENERIC_DIR)/tixGrRC.c
	$(CC) -c $(CC_SWITCHES) $<

tixGrSel.o: $(GENERIC_DIR)/tixGrSel.c
	$(CC) -c $(CC_SWITCHES) $<

tixGrUtl.o: $(GENERIC_DIR)/tixGrUtl.c
	$(CC) -c $(CC_SWITCHES) $<

tixHLCol.o: $(GENERIC_DIR)/tixHLCol.c
	$(CC) -c $(CC_SWITCHES) $<

tixHLHdr.o: $(GENERIC_DIR)/tixHLHdr.c
	$(CC) -c $(CC_SWITCHES) $<

tixHLInd.o: $(GENERIC_DIR)/tixHLInd.c
	$(CC) -c $(CC_SWITCHES) $<

tixHList.o: $(GENERIC_DIR)/tixHList.c
	$(CC) -c $(CC_SWITCHES) $<

tixImgCmp.o: $(GENERIC_DIR)/tixImgCmp.c
	$(CC) -c $(CC_SWITCHES) $<

tixImgXpm.o: $(GENERIC_DIR)/tixImgXpm.c
	$(CC) -c $(CC_SWITCHES) $<

tixInit.o: $(GENERIC_DIR)/tixInit.c
	$(CC) -c $(CC_SWITCHES) $<

tixInputO.o : $(GENERIC_DIR)/tixInputO.c
	$(CC) -c $(CC_SWITCHES) $<

tixList.o: $(GENERIC_DIR)/tixList.c
	$(CC) -c $(CC_SWITCHES) $<

tixMethod.o : $(GENERIC_DIR)/tixMethod.c
	$(CC) -c $(CC_SWITCHES) $<

tixMwm.o: $(GENERIC_DIR)/tixMwm.c
	$(CC) -c $(CC_SWITCHES) $<

tixNBFrame.o: $(GENERIC_DIR)/tixNBFrame.c
	$(CC) -c $(CC_SWITCHES) $<

tixOption.o: $(GENERIC_DIR)/tixOption.c
	$(CC) -c $(CC_SWITCHES) $<

tixSmpLs.o: $(GENERIC_DIR)/tixSmpLs.c
	$(CC) -c $(CC_SWITCHES) $<

tixScroll.o: $(GENERIC_DIR)/tixScroll.c
	$(CC) -c $(CC_SWITCHES) $<

tixTList.o: $(GENERIC_DIR)/tixTList.c
	$(CC) -c $(CC_SWITCHES) $<

tixUtils.o: $(GENERIC_DIR)/tixUtils.c
	$(CC) -c $(CC_SWITCHES) $<

tixWidget.o: $(GENERIC_DIR)/tixWidget.c
	$(CC) -c $(CC_SWITCHES) $<

#----------------------------------------------------------------------
#
#			Dynamic Loading
#
# The following section is for creating a dynamic-loaded Tix library for
# Tcl 7.5.
#----------------------------------------------------------------------
CORE_SO_OBJS = \
	tixClass_s.o \
	tixCmds_s.o \
	tixCompat_s.o \
	tixError_s.o \
	tixGeometry_s.o \
	tixInit_s.o \
	tixList_s.o \
	tixMethod_s.o \
	tixOption_s.o  \
	tixScroll_s.o \
	tixSmpLs_s.o \
	tixUtils_s.o \
	tixWidget_s.o

DITEM_SO_OBJS = \
	tixDItem_s.o \
	tixDiITxt_s.o \
	tixDiImg_s.o \
	tixDiStyle_s.o \
	tixDiText_s.o \
	tixDiWin_s.o

MANAGER_SO_OBJS = \
	tixForm_s.o \
	tixFormMisc_s.o

WIDGET_SO_OBJS = \
	tixHList_s.o \
	tixHLCol_s.o \
	tixHLInd_s.o \
	tixHLHdr_s.o \
	tixInputO_s.o \
	tixNBFrame_s.o

MISC_SO_OBJS = \
	tixImgCmp_s.o \
	tixImgXpm_s.o \
	tixMwm_s.o

TIX41_SO_OBJS = \
	tixGrid_s.o \
	tixGrData_s.o \
	tixGrFmt_s.o \
	tixGrRC_s.o \
	tixGrSel_s.o \
	tixGrUtl_s.o \
	tixTList_s.o

SO_OBJS = $(CORE_SO_OBJS) $(DITEM_SO_OBJS) $(MANAGER_SO_OBJS) $(MISC_SO_OBJS) \
	$(WIDGET_SO_OBJS) @TIX41_SO_OBJS@

$(TIX_SHLIB): $(SO_OBJS)
	rm -f $(TIX_SHLIB) 
	${SHLIB_LD} $(SO_OBJS) @TIX_EXTRA_LDFLAGS@ -o $(TIX_SHLIB)

tixwish_s: tixAppInit.o libtix${SHLIB_SUFFIX}
	$(CC) $(CC_SWITCHES) tixAppInit.o @TIX_EXTRA_LDFLAGS@ $(LIBS_S) \
	    -o tixwish_s


#----------------------------------------------------------------------
#
#			_s.o file rules
#
#----------------------------------------------------------------------
tixClass_s.o : $(GENERIC_DIR)/tixClass.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixCmds_s.o: $(GENERIC_DIR)/tixCmds.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixCompat_s.o: $(GENERIC_DIR)/tixCompat.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDItem_s.o: $(GENERIC_DIR)/tixDItem.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDiImg_s.o: $(GENERIC_DIR)/tixDiImg.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDiITxt_s.o: $(GENERIC_DIR)/tixDiITxt.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDiStyle_s.o: $(GENERIC_DIR)/tixDiStyle.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDiText_s.o: $(GENERIC_DIR)/tixDiText.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixDiWin_s.o: $(GENERIC_DIR)/tixDiWin.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixError_s.o: $(GENERIC_DIR)/tixError.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixForm_s.o: $(GENERIC_DIR)/tixForm.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixFormMisc_s.o: $(GENERIC_DIR)/tixFormMisc.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixGeometry_s.o: $(GENERIC_DIR)/tixGeometry.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixGrid_s.o: $(GENERIC_DIR)/tixGrid.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixGrData_s.o: $(GENERIC_DIR)/tixGrData.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixGrFmt_s.o: $(GENERIC_DIR)/tixGrFmt.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixGrRC_s.o: $(GENERIC_DIR)/tixGrRC.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixGrSel_s.o: $(GENERIC_DIR)/tixGrSel.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixGrUtl_s.o: $(GENERIC_DIR)/tixGrUtl.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixHLCol_s.o: $(GENERIC_DIR)/tixHLCol.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixHLHdr_s.o: $(GENERIC_DIR)/tixHLHdr.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixHLInd_s.o: $(GENERIC_DIR)/tixHLInd.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixHList_s.o: $(GENERIC_DIR)/tixHList.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixImgCmp_s.o: $(GENERIC_DIR)/tixImgCmp.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixImgXpm_s.o: $(GENERIC_DIR)/tixImgXpm.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixInit_s.o: $(GENERIC_DIR)/tixInit.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixInputO_s.o : $(GENERIC_DIR)/tixInputO.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixList_s.o: $(GENERIC_DIR)/tixList.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixMethod_s.o : $(GENERIC_DIR)/tixMethod.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixMwm_s.o: $(GENERIC_DIR)/tixMwm.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixNBFrame_s.o: $(GENERIC_DIR)/tixNBFrame.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixOption_s.o: $(GENERIC_DIR)/tixOption.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixScroll_s.o: $(GENERIC_DIR)/tixScroll.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixSmpLs_s.o: $(GENERIC_DIR)/tixSmpLs.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixTList_s.o: $(GENERIC_DIR)/tixTList.c
	$(CC) -c $(CC_SWITCHES) $< -o $@

tixUtils_s.o: $(GENERIC_DIR)/tixUtils.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@

tixWidget_s.o: $(GENERIC_DIR)/tixWidget.c
	$(CC) -c $(SO_CC_SWITCHES) $< -o $@


#----------------------------------------------------------------------
#
#			INSTALLATION
#
#----------------------------------------------------------------------
install: install-binaries

install-binaries: libtix.a tixwish @TIX_INSTALL_SHLIB@
	@for i in $(LIB_DIR) $(BIN_DIR) ; \
	    do \
	    if [ ! -d $$i ] ; then \
		echo "Making directory $$i"; \
		mkdir $$i; \
		chmod 755 $$i; \
		else true; \
		fi; \
	    done;
	@echo "Installing libtix.a"
	@$(INSTALL_DATA) libtix.a $(LIB_DIR)/libtix-tk4.1.a
	@$(RANLIB) $(LIB_DIR)/libtix-tk4.1.a
	@echo "Installing tixwish"
	@$(INSTALL_PROGRAM) tixwish $(BIN_DIR)/tixwish-tk4.1

INSTALL_SHLIB_NAME = $(LIB_DIR)/libtix4.0$(SHLIB_SUFFIX)

install-shlib: @TIX_MAKE_SHLIB@
	@for i in $(LIB_DIR) ; \
	    do \
	    if [ ! -d $$i ] ; then \
		echo "Making directory $$i"; \
		mkdir $$i; \
		chmod 755 $$i; \
		else true; \
		fi; \
	    done;
	@echo "Installing $(TIX_SHLIB)"
	@$(INSTALL_DATA) $(TIX_SHLIB) $(INSTALL_SHLIB_NAME)

#----------------------------------------------------------------------
#
#			GENERAL STUFF
#
#----------------------------------------------------------------------

Makefile: Makefile.in
	cd $(SRC_DIR); $(SHELL) config.status

clean:
	rm -f *.a *.o *_s.o $(TIX_SHLIB) core errs *~ \#* TAGS *.E \
	    a.out errors tixwish tixwish_s Makefile.bak

# Now I want to preserve the Makefile on my machine somehow
#
distclean: clean
	rm -f Makefile Makefile.bak

depend:
	makedepend -- $(CC_SWITCHES) -- $(SRCS)

.c.o:
	$(CC) -c $(CC_SWITCHES) $<

# DO NOT DELETE THIS LINE -- make depend depends on it.


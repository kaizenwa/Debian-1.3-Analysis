#######################################################################
#  This makefile runs the test programs for the linear equation routines
#  and the eigenvalue routines in LAPACK.  The test output files
#  are grouped as follows:
#
#       SLINTST,SEIGTST  -- Single precision real test routines
#       CLINTST,CEIGTST  -- Single precision complex test routines
#       DLINTST,DEIGTST  -- Double precision real test routines
#       ZLINTST,ZEIGTST  -- Double precision complex test routines
#
#  Test programs can be executed for all or some of the four different
#  precisions.  First, modify the RUN definition to refer to the
#  execute and desired execute options for your machine.
#  Then enter 'make' followed by one or more of the data types desired.
#  Some examples:
#       make single
#       make single complex
#       make single double complex complex16
#  Alternatively, the command
#       make
#  without any arguments runs all eight test programs.
#  The executable files are called:
#       xlintsts, xlintstd, xlintstc, and xlintstz for LIN
#       xeigtsts, xeigtstd, xeigtstc, and xeigtstz for EIG
#  and exist in the current directory level.
#
#  To remove the output files after the tests have been run, enter
#       make clean
#
#  To re-run specific tests after a make, enter (for example):
#       'rm ssvd.out; make'  or:
#       'make ssvd.out' or:
#       'touch svd.in; make' (to re-run the single precision SVD tests.)
#
#       'rm *svd.out; make'  (to re-run all the SVD tests.)
#
#----------------------------------------------------------------------
#
#  Last updated by Susan Ostrouchov: September 30, 1994
#
#######################################################################

all:     single complex double complex16

SEIGTST= snep.out \
         ssep.out \
         ssvd.out \
         sec.out \
         sed.out \
         sgg.out \
         ssb.out \
	 ssg.out \
         sbal.out \
         sbak.out \
         sgbal.out \
         sgbak.out \
         sbb.out \
         sglm.out \
         sgqr.out \
         sgsv.out \
         slse.out

CEIGTST= cnep.out \
         csep.out \
         csvd.out \
         cec.out \
         ced.out \
         cgg.out \
         csb.out \
	 csg.out \
         cbal.out \
         cbak.out \
         cgbal.out \
         cgbak.out \
         cbb.out \
         cglm.out \
         cgqr.out \
         cgsv.out \
         clse.out

DEIGTST= dnep.out \
         dsep.out \
         dsvd.out \
         dec.out \
         ded.out \
         dgg.out \
         dsb.out \
	 dsg.out \
         dbal.out \
         dbak.out \
         dgbal.out \
         dgbak.out \
         dbb.out \
         dglm.out \
         dgqr.out \
         dgsv.out \
         dlse.out

ZEIGTST= znep.out \
         zsep.out \
         zsvd.out \
         zec.out \
         zed.out \
         zgg.out \
         zsb.out \
	 zsg.out \
         zbal.out \
         zbak.out \
         zgbal.out \
         zgbak.out \
         zbb.out \
         zglm.out \
         zgqr.out \
         zgsv.out \
         zlse.out


SLINTST= stest.out

CLINTST= ctest.out

DLINTST= dtest.out

ZLINTST= ztest.out

single:         $(SLINTST) $(SEIGTST)
complex:        $(CLINTST) $(CEIGTST)
double:         $(DLINTST) $(DEIGTST)
complex16:      $(ZLINTST) $(ZEIGTST)

#
# ======== SINGLE LIN TESTS ===========================

stest.out: stest.in xlintsts
	@echo Data file for testing REAL LAPACK linear equation routines
	xlintsts < stest.in >& $@
#
# ======== COMPLEX LIN TESTS ==========================

ctest.out: ctest.in xlintstc
	@echo Data file for testing COMPLEX LAPACK linear equation routines
	xlintstc < ctest.in >& $@
#
# ======== DOUBLE LIN TESTS ===========================

dtest.out: dtest.in xlintstd
	@echo Data file for testing DOUBLE PRECISION LAPACK linear equation routines
	xlintstd < dtest.in >& $@
#
# ======== COMPLEX16 LIN TESTS ========================

ztest.out: ztest.in xlintstz
	@echo Data file for testing COMPLEX16 LAPACK linear equation routines
	xlintstz < ztest.in >& $@
#
#
# ======== SINGLE EIG TESTS ===========================
#

snep.out: nep.in xeigtsts
	@echo NEP: Data file for testing Nonsymmetric Eigenvalue Problem routines
	xeigtsts < nep.in >& $@

ssep.out: sep.in xeigtsts
	@echo SEP: Data file for testing Symmetric Eigenvalue Problem routines
	xeigtsts < sep.in >& $@

ssvd.out: svd.in xeigtsts
	@echo SVD: Data file for testing Singular Value Decomposition routines
	xeigtsts < svd.in >& $@

sec.out: sec.in xeigtsts
	@echo SEC: Data file for testing REAL Eigen Condition Routines
	xeigtsts < sec.in >& $@

sed.out: sed.in xeigtsts
	@echo SEV: Data file for testing REAL Nonsymmetric Eigenvalue Driver
	xeigtsts < sed.in >& $@

sgg.out: sgg.in xeigtsts
	@echo SGG: Data file for testing REAL Nonsymmetric Generalized Eigenvalue Problem routines
	xeigtsts < sgg.in >& $@

ssb.out: ssb.in xeigtsts
	@echo SSB: Data file for testing REAL Symmetric Eigenvalue Problem routines
	xeigtsts < ssb.in >& $@

ssg.out: ssg.in xeigtsts
	@echo SSG: Data file for testing REAL Symmetric Generalized Eigenvalue Problem routines
	xeigtsts < ssg.in >& $@

sbal.out: sbal.in xeigtsts
	@echo SGEBAL: Data file for testing the balancing of a REAL general matrix
	xeigtsts < sbal.in >& $@

sbak.out: sbak.in xeigtsts
	@echo SGEBAK: Data file for testing the back transformation of a REAL balanced matrix
	xeigtsts < sbak.in >& $@

sgbal.out: sgbal.in xeigtsts
	@echo SGGBAL: Data file for testing the balancing of a pair of REAL general matrices
	xeigtsts < sgbal.in >& $@

sgbak.out: sgbak.in xeigtsts
	@echo SGGBAK: Data file for testing the back transformation of a pair of REAL balanced matrices
	xeigtsts < sgbak.in >& $@

sbb.out: sbb.in xeigtsts
	@echo SBB:  Data file for testing banded Singular Value Decomposition routines
	xeigtsts < sbb.in >& $@

sglm.out: glm.in xeigtsts
	@echo GLM: Data file for testing Generalized Linear Regression Model routines
	xeigtsts < glm.in >& $@

sgqr.out: gqr.in xeigtsts
	@echo GQR: Data file for testing Generalized QR and RQ factorization routines
	xeigtsts < gqr.in >& $@

sgsv.out: gsv.in xeigtsts
	@echo GSV: Data file for testing Generalized Singular Value Decomposition routines
	xeigtsts < gsv.in >& $@

slse.out: lse.in xeigtsts
	@echo LSE: Data file for testing Constrained Linear Least Squares routines
	xeigtsts < lse.in >& $@
#
# ======== COMPLEX EIG TESTS ===========================

cnep.out: nep.in xeigtstc
	@echo NEP: Data file for testing Nonsymmetric Eigenvalue Problem routines
	xeigtstc < nep.in >& $@

csep.out: sep.in xeigtstc
	@echo SEP: Data file for testing Symmetric Eigenvalue Problem routines
	xeigtstc < sep.in >& $@

csvd.out: svd.in xeigtstc
	@echo SVD: Data file for testing Singular Value Decomposition routines
	xeigtstc < svd.in >& $@

cec.out: cec.in xeigtstc
	@echo CEC: Data file for testing COMPLEX Eigen Condition Routines
	xeigtstc < cec.in >& $@

ced.out: ced.in xeigtstc
	@echo CES: Data for the testing COMPLEX Nonsymmetric Schur Form Driver
	xeigtstc < ced.in >& $@

cgg.out: cgg.in xeigtstc
	@echo CGG: Data file for testing COMPLEX Nonsymmetric Generalized Eigenvalue Problem routines
	xeigtstc < cgg.in >& $@

csb.out: csb.in xeigtstc
	@echo CHB: Data file for testing Hermitian Eigenvalue Problem routines
	xeigtstc < csb.in >& $@

csg.out: csg.in xeigtstc
	@echo CSG: Data file for testing Symmetric Generalized Eigenvalue Problem routines
	xeigtstc < csg.in >& $@

cbal.out: cbal.in xeigtstc
	@echo CGEBAL: Data file for testing the balancing of a COMPLEX general matrix
	xeigtstc < cbal.in >& $@

cbak.out: cbak.in xeigtstc
	@echo CGEBAK: Data file for testing the back transformation of a COMPLEX balanced matrix
	xeigtstc < cbak.in >& $@

cgbal.out: cgbal.in xeigtstc
	@echo CGGBAL: Data file for testing the balancing of a pair of COMPLEX general matrices
	xeigtstc < cgbal.in >& $@

cgbak.out: cgbak.in xeigtstc
	@echo CGGBAK: Data file for testing the back transformation of a pair of COMPLEX balanced matrices
	xeigtstc < cgbak.in >& $@

cbb.out: cbb.in xeigtstc
	@echo CBB:  Data file for testing banded Singular Value Decomposition routines
	xeigtstc < cbb.in >& $@

cglm.out: glm.in xeigtstc
	@echo GLM: Data file for testing Generalized Linear Regression Model routines
	xeigtstc < glm.in >& $@

cgqr.out: gqr.in xeigtstc
	@echo GQR: Data file for testing Generalized QR and RQ factorization routines
	xeigtstc < gqr.in >& $@

cgsv.out: gsv.in xeigtstc
	@echo GSV: Data file for testing Generalized Singular Value Decomposition routines
	xeigtstc < gsv.in >& $@

clse.out: lse.in xeigtstc
	@echo LSE: Data file for testing Constrained Linear Least Squares routines
	xeigtstc < lse.in >& $@
#
# ======== DOUBLE EIG TESTS ===========================

dnep.out: nep.in xeigtstd
	@echo NEP: Data file for testing Nonsymmetric Eigenvalue Problem routines
	xeigtstd < nep.in >& $@

dsep.out: sep.in xeigtstd
	@echo SEP: Data file for testing Symmetric Eigenvalue Problem routines
	xeigtstd < sep.in >& $@

dsvd.out: svd.in xeigtstd
	@echo SVD: Data file for testing Singular Value Decomposition routines
	xeigtstd < svd.in >& $@

dec.out: dec.in xeigtstd
	@echo DEC: Data file for testing DOUBLE PRECISION Eigen Condition Routines
	xeigtstd < dec.in >& $@

ded.out: ded.in xeigtstd
	@echo DEV: Data file for DOUBLE PRECISION Nonsymmetric Eigenvalue Driver
	xeigtstd < ded.in >& $@

dgg.out: dgg.in xeigtstd
	@echo DGG: Data file for testing DOUBLE PRECISION Nonsymmetric Generalized Eigenvalue Problem routines
	xeigtstd < dgg.in >& $@

dsb.out: dsb.in xeigtstd
	@echo DSB: Data file for testing DOUBLE PRECISION Symmetric Eigenvalue Problem routines
	xeigtstd < dsb.in >& $@

dsg.out: dsg.in xeigtstd
	@echo DSG: Data file for testing DOUBLE PRECISION Symmetric Generalized Eigenvalue Problem routines
	xeigtstd < dsg.in >& $@

dbal.out: dbal.in xeigtstd
	@echo DGEBAL: Data file for testing the balancing of a DOUBLE PRECISION general matrix
	xeigtstd < dbal.in >& $@

dbak.out: dbak.in xeigtstd
	@echo DGEBAK:  Data file for testing the back transformation of a DOUBLE PRECISION balanced matrix
	xeigtstd < dbak.in >& $@

dgbal.out: dgbal.in xeigtstd
	@echo DGGBAL: Data file for testing the balancing of a pair of DOUBLE PRECISION general matrices
	xeigtstd < dgbal.in >& $@

dgbak.out: dgbak.in xeigtstd
	@echo DGGBAK: Data file for testing the back transformation of a pair of DOUBLE PRECISION balanced matrices
	xeigtstd < dgbak.in >& $@

dbb.out: dbb.in xeigtstd
	@echo DBB:  Data file for testing banded Singular Value Decomposition routines
	xeigtstd < dbb.in >& $@

dglm.out: glm.in xeigtstd
	@echo GLM: Data file for testing Generalized Linear Regression Model routines
	xeigtstd < glm.in >& $@

dgqr.out: gqr.in xeigtstd
	@echo GQR: Data file for testing Generalized QR and RQ factorization routines
	xeigtstd < gqr.in >& $@

dgsv.out: gsv.in xeigtstd
	@echo GSV: Data file for testing Generalized Singular Value Decomposition routines
	xeigtstd < gsv.in >& $@

dlse.out: lse.in xeigtstd
	@echo LSE: Data file for testing Constrained Linear Least Squares routines
	xeigtstd < lse.in >& $@
#
# ======== COMPLEX16 EIG TESTS ===========================

znep.out: nep.in xeigtstz
	@echo NEP: Data file for testing Nonsymmetric Eigenvalue Problem routines
	xeigtstz < nep.in >& $@

zsep.out: sep.in xeigtstz
	@echo SEP: Data file for testing Symmetric Eigenvalue Problem routines
	xeigtstz < sep.in >& $@

zsvd.out: svd.in xeigtstz
	@echo SVD: Data file for testing Singular Value Decomposition routines
	xeigtstz < svd.in >& $@

zec.out: zec.in xeigtstz
	@echo ZEC: Data file for testing COMPLEX16 Eigen Condition Routines
	xeigtstz < zec.in >& $@

zed.out: zed.in xeigtstz
	@echo ZES: Data file for testing COMPLEX16 Nonsymmetric Schur Form Driver
	xeigtstz < zed.in >& $@

zgg.out: zgg.in xeigtstz
	@echo ZGG: Data file for testing COMPLEX16 Nonsymmetric Generalized Eigenvalue Problem routines
	xeigtstz < zgg.in >& $@

zsb.out: zsb.in xeigtstz
	@echo ZHB: Data file for testing Hermitian Eigenvalue Problem routines
	xeigtstz < zsb.in >& $@

zsg.out: zsg.in xeigtstz
	@echo ZSG: Data file for testing Symmetric Generalized Eigenvalue Problem routines
	xeigtstz < zsg.in >& $@

zbal.out: zbal.in xeigtstz
	@echo ZGEBAL: Data file for testing the balancing of a COMPLEX16 general matrix
	xeigtstz < zbal.in >& $@

zbak.out: zbak.in xeigtstz
	@echo ZGEBAK: Data file for testing the back transformation of a COMPLEX16 balanced matrix
	xeigtstz < zbak.in >& $@

zgbal.out: zgbal.in xeigtstz
	@echo ZGGBAL: Data file for testing the balancing of a pair of COMPLEX general matrices
	xeigtstz < zgbal.in >& $@

zgbak.out: zgbak.in xeigtstz
	@echo ZGGBAK: Data file for testing the back transformation of a pair of COMPLEX16 balanced matrices
	xeigtstz < zgbak.in >& $@

zbb.out: zbb.in xeigtstz
	@echo ZBB:  Data file for testing banded Singular Value Decomposition routines
	xeigtstz < zbb.in >& $@

zglm.out: glm.in xeigtstz
	@echo GLM: Data file for testing Generalized Linear Regression Model routines
	xeigtstz < glm.in >& $@

zgqr.out: gqr.in xeigtstz
	@echo GQR: Data file for testing Generalized QR and RQ factorization routines
	xeigtstz < gqr.in >& $@

zgsv.out: gsv.in xeigtstz
	@echo GSV: Data file for testing Generalized Singular Value Decomposition routines
	xeigtstz < gsv.in >& $@

zlse.out: lse.in xeigtstz
	@echo LSE: Data file for testing Constrained Linear Least Squares routines
	xeigtstz < lse.in >& $@
# ==============================================================================

xlintsts:
	cd LIN ; $(MAKE) single

xlintstc:
	cd LIN ; $(MAKE) complex

xlintstd:
	cd LIN ; $(MAKE) double

xlintstz:
	cd LIN ; $(MAKE) complex16

xeigtsts:
	cd EIG ; $(MAKE) single

xeigtstc:
	cd EIG ; $(MAKE) complex

xeigtstd:
	cd EIG ; $(MAKE) double

xeigtstz:
	cd EIG ; $(MAKE) complex16

clean:
	rm -f *.out core

cleanup:
	rm -f x* *.out core

.TH uscan 1L "Debian Utilities" "DEBIAN" \" -*- nroff -*-
.SH NAME
uupdate \- Scan upstream sources for new releases of software
.SH SYNOPSIS
\fBuscan\fP [paths-to-debian-packages]
.SH DESCRIPTION
.B uscan
scans the given directory (or the current directory) for packages
containing a control file
.B debian/watch.
Parameters are then read from those control files and upstream ftp sites
are inspected for eventual newly available updates (compared with upstream
version retrieved from
.B debian/changelog
). New updates are retrieved and
an eventual specified in
.B debian/watch
is executed to update, rebuild, upload the package.
.SH FORMAT of debian/watch file

.nf
# Site         Directory Pattern         Version Script
tsx-11.mit.edu ../dosemu dosemu-*.tgz    debian  uupdate


.fi
The fiels are quite self-explanatory. You need to make the pattern so
tight that it just matches the upstream version you are interested in.
The current version number may be specified in the file (if a file consists
of multiple upstream archives for example) or simply contain the
word "debian". In that case the comparision is made with the version number
obtained from debian/changelog.
.PP
Note that uscan has to do some magic to convert filename matching
convertions to grep conventions which may fail. Please restrict yourself to
the metacharacters ? and * in the pattern.
.PP
The script is called on successful completion of an download with some
parmaeters. The first one is the filename of the package downloaded. The
second one is the upstream version number obtained. The "uupdate" script
in that column will result in an automatic software upgrade of the
package. You can customize a script to do more.
.br
.SH EXAMPLE : Fully automatic upstream update


.nf
#!/bin/sh
set -e
uupdate $1
cd ../*$2
build
release
.fi


.SH AUTHOR
Christoph Lameter <clameter@debian.org>

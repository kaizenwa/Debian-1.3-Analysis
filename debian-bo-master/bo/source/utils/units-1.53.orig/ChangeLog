Mon Jan 13 20:37:26 1997  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Added addnumber() because recursive call to addunit()
	was causing problems with strtok.

Tue Dec 31 00:57:42 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c (prefixhash): Changed to AND with 127 because signed
	chars seem to be causing segmentation faults with 8 bit
	characters.  Changed size of the table to 128 to correspond.

Thu Dec 26 13:54:59 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c (completeunits): Added 1 to mymalloc() call so there is
	enough space.  (This fixes the tab bug.)

Mon Dec  9 23:46:27 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* unit.c (addunit): Changed logic for calling handlesum() to check
	that the character immediately before the '+' is not an 'e' since
	this would probably be an exponent.

Mon Dec  7 10:47:43 1996  Adrian Mariano  <adrian@macomb.cam.cornell.edu>

	* units.c (lookupunit): Added tempbuf variable to prevent problems
	when the output from one call to lookupunit is used as input to a
	later call to lookupunit.

	* units.c: Changed main() and processargs() to allow invoking
	units with just one unit specified on the command line.  

Tue Dec  3 14:19:33 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: added verbose option, changed showanswer() to give
	verbose display, removed first argument from showunit(), added new
	function removepadding() to trim whitespace.  

	* New file: texi2man, a perl script for converting the texinfo
	documentation into the man page format.  Makefile.in changed to
	generate units.man from units.texinfo.  

Mon Dec  2 14:10:56 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: New functions handlesum(), addsubunitlist(), and
        productoverflow().
	(addunit): Call handlesum() if there are '+' characters in the
	string to be added.  This handles sums of conformable units.
	Added free() calls to free savescr when returning with an error.

Sun Dec  1 17:30:52 1996  Adrian Mariano  <adrian@esther.cam.cornell.edu>

	* units.c: Added isblank() and showdefinition().  Changed main()
	to call showdefinition if the second unit entered is blank.  Also
	changed the loop to re-prompt the user for the first unit until
	something nonblank is entered. Changed showunit() to take two
	arguments.  

Wed Nov 27 23:08:33 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Added function completeunits() for doing completion
	when readline is in use.

	* makefile.in: added support for LDFLAGS.  

	* units.c (lookupunits): Added tests to avoid trying plurals on
	one character long base units.

Fri Nov 22 19:25:23 1996  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* Makefile.in, configure.in, units.c: add ansi2knr support.

	* New files: aclocal.m4, ansi2knr.1 and ansi2knr.c.

Fri Nov 22 10:33:43 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Added removespaces() function called from addunits() to
	remove spaces around '^' characters so the user doesn't have to be
	so careful.

Thu Nov 21 23:39:09 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c (lookupunit): Added check to return the input if it is a
	number.  This was made necessary by the change in the handling of
	numbers which broke the '^' operator on numbers. 

Thu Nov 21 15:22:40 1996  Adrian Mariano  <adrian@esther.cam.cornell.edu>

	* units.c (numlength): Changed test for sscanf to require a return
	value of exactly 1.  For some reason, sscanf sometimes returns -1
	instead of 0 when no fields were read.

Thu Nov 21 09:17:26 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* Makefile.in:  Added ALL_CFLAGS so that CFLAGS can be used by the
	user.   

	* configure.in: Added fix to look for ncurses library to go with
	readline.  (Required by some linux version.)  

Wed Nov 20 14:03:22 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* configure.in: Added check for const support.

	* Makefile.in: added VPATH, fixed a few places where $(srcdir) was
	needed, fixed the install targets to create directories if
	necessary by calling mkinstalldirs.  Fixed man pages install
	target.

Sun Nov 17 00:05:12 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Added numlength() to handle "numbers" with multiple 'e'
	or '.' characters.  Changed number evaluation in addunit() to do
	something reasonable when multiple '|' characters appear.  Now
	number evaluation is done by sscanf() instead of atof().  Removed
	handling of numbers with no trailing space from lookupunit() and
	added it to addunit() with a recursive call.

Thu Nov  1 16:18:08 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Fixed up portability for string.h, stdlib.h.  Added
	declarations for string functions and atof().

        * units.c: Removed calls to tolower() since they turned out to be
	unportable.  

Sun Sep  8 10:19:43 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Added long options, made option flag variables global.

	* units.c: Added freeunit() function to free units (which was
	never done), and uncommented two free() calls in cancelunit().

	* units.c: Added processargs() function to tidy things up. 

Thu Sep  5 01:18:52 1996  Adrian Mariano  <adrian@kilburn.cam.cornell.edu>

	* units.c: Removed all the static char * buffers and added
	support for readline().  Added growbuffer() and fgetslong() and
	getuser().  

	* units.c (readunits): Rewrote parsing to be cleaner and to remove
	trailing white space in units.



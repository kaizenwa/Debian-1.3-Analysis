
XCOMM ----- X11 Xconq Imakefile.

XCOMM   Do I have the XPM library?
#define IhaveXPM

/*
 * ComplexProgramTarget_4 - generate rules for compiling and linking the
 * program specified by $(OBJS4) and $(SRCS4) and installing the program and
 * man page.  It should be used to build the fourth program in Imakefiles 
 * describing more than one program.
 */
#ifdef IhaveXPM
#ifndef ComplexProgramTarget_4
#define	ComplexProgramTarget_4(program,locallib,syslib)			@@\
ProgramTargetHelper(program,SRCS4,OBJS4,DEPLIBS4,locallib,syslib)
#endif /* ComplexProgramTarget_4 */
#endif /* IhaveXPM */

#ifdef IhaveXPM
CDEBUGFLAGS = -g -DHAVE_XPM -DHAVE_SELFILE
#else  /* IhaveXPM */
CDEBUGFLAGS = -g -DHAVE_SELFILE
#endif /* IhaveXPM */

GLIBDIR = ../lib
IMFLIBDIR = ../lib-x11

DEFINES = -DUNIX -DUSE_CONSOLE -DXCONQLIB=\"$(GLIBDIR)\" -DIMFLIB=\"$(IMFLIBDIR)\"

INCLUDES = -I../x11 -I../kernel

LOCAL_LIBRARIES = XawClientLibs

CONQLOW_LIBRARIES = ../kernel/libconqlow.a

CONQ_LIBRARIES = ../kernel/libconq.a $(CONQLOW_LIBRARIES)

SRCS1 = xconq.c

OBJS1 =	xconq.o \
	xinit.o \
	xmap.o \
	xdraw.o \
	xcmd.o \
	xprint.o \
	xdesign.o \
	xhelp.o \
	ximf.o \
	xcloseup.o

XUTOBJ = ximf.o \
	 xutil.o

OBJS2 = xshowimf.o $(XUTOBJ)
OBJS3 = x2imf.o $(XUTOBJ)
OBJS4 = imf2x.o $(XUTOBJ)

#ifdef IhaveXPM
PROGRAMS = xconq x2imf imf2x xshowimf
#else  /* IhaveXPM */
PROGRAMS = xconq x2imf xshowimf
#endif /* IhaveXPM */

ComplexProgramTarget_1(xconq, $(CONQ_LIBRARIES), $(LOCAL_LIBRARIES))

#ifdef IhaveXPM
ComplexProgramTarget_2(xshowimf, $(CONQLOW_LIBRARIES) ../SelFile/libXgnu.a, -lXpm $(LOCAL_LIBRARIES))
ComplexProgramTarget_3(x2imf, $(CONQLOW_LIBRARIES), -lXpm $(LOCAL_LIBRARIES))
ComplexProgramTarget_4(imf2x, $(CONQLOW_LIBRARIES), -lXpm $(LOCAL_LIBRARIES))
#else  /* IhaveXPM */
ComplexProgramTarget_2(xshowimf, $(CONQLOW_LIBRARIES) ../SelFile/libXgnu.a, $(LOCAL_LIBRARIES))
ComplexProgramTarget_3(x2imf, $(CONQLOW_LIBRARIES), $(LOCAL_LIBRARIES))
#endif /* IhaveXPM */

BuildIncludes($(BUTTONPICTURES),bitmaps,..)

InstallAppDefaults(Xconq)
InstallAppDefaults(Xconq-co)

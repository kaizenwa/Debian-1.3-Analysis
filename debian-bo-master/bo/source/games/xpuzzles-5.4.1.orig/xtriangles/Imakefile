#ifndef XCOMM
#define XCOMM /**/#
#endif
XCOMM X-BASED TRIANGLES
XCOMM
XCOMM	Imakefile
XCOMM
XCOMM ##
XCOMM
XCOMM Copyright (c) 1996 - 97	David Albert Bagley, bagleyd@bigfoot.com
XCOMM
XCOMM			All Rights Reserved
XCOMM
XCOMM Permission to use, copy, modify, and distribute this software and
XCOMM its documentation for any purpose and without fee is hereby granted,
XCOMM provided that the above copyright notice appear in all copies and
XCOMM that both that copyright notice and this permission notice appear in
XCOMM supporting documentation, and that the name of the author not be
XCOMM used in advertising or publicity pertaining to distribution of the
XCOMM software without specific, written prior permission.
XCOMM
XCOMM This program is distributed in the hope that it will be "playable",
XCOMM but WITHOUT ANY WARRANTY; without even the implied warranty of
XCOMM MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
XCOMM

wIDGET = triangles
WIDGET = Triangles
VER = x$(WIDGET)
DISTVER = $(VER)-3.4.0

N=
C=.c
XCOMM C++
XCOMM C=.cc
O=.o
XCOMM VMS
XCOMM O=.obj
S=$(N) $(N)
XCOMM VMS
XCOMM S=,
E=
XCOMM VMS
XCOMM E=.exe
 
XCOMM please define
XCOMM C as the C source code extension
XCOMM O as the object extension
XCOMM S as the separator for object code
XCOMM E as the executable extension

XCOMM CC = cc
XCOMM CC = acc
XCOMM CC = gcc -Wall
XCOMM CC = g++ -Wall

XCOMM      *** BEGIN XM CONFIG SECTION ***

XCOMM If your system has libXm (Motif), remove the 'XCOMM ' from the next line.
XCOMM #define XmLibrary

#ifdef XmLibrary
XCOMM If its not with your X11 stuff you should set the following
       MOTIFHOME = /usr/local
XCOMM       MOTIFHOME = /usr/dt

XCOMM Below is a guess of the location of the Motif include directory.
           XMINC = -I$(MOTIFHOME)/include

XCOMM If you get an error "Connot find libXm" while linking, set XMLIBPATH
XCOMM to the directory libXpm.* is in.  Below is a guess.
           XMLIB = -L$(MOTIFHOME)/lib -lXm
XCOMM           XMLIB = -lXm
#endif

XCOMM      *** END XM CONFIG SECTION ***

XCOMM      *** BEGIN RNG CONFIG SECTION ***

XCOMM Uncomment to use your system's Random Number Generator
XCOMM They usually come in 3 types

XCOMM Uncomment to use high-precision (but expensive) RNG
XCOMM SRANDDEF = -DSRAND=srand48
XCOMM LRANDDEF = -DLRAND=lrand48

XCOMM SRANDDEF = -DSRAND=srandom
XCOMM LRANDDEF = -DLRAND=random

XCOMM Least desirable RNG
XCOMM SRANDDEF = -DSRAND=srand
XCOMM LRANDDEF = -DLRAND=rand

XCOMM Normally use the above with (default)
XCOMM MAXRANDDEF = -DMAXRAND=2147483648.0
XCOMM Use the following if using srand/rand and NOT AIXV3
XCOMM MAXRANDDEF = -DMAXRAND=32767.0
RANDDEF = $(SRANDDEF) $(LRANDDEF) $(MAXRANDDEF)

XCOMM      *** END RNG CONFIG SECTION ***

XCOMM Set your C compiler if necessary
XCOMM CC		= gcc -g -DDEBUG -Wall
XCOMM CC		= gcc -O

SCOREFILE = ./$(wIDGET).scores
DATAFILE  = ./$(wIDGET).data

DEFINES		= -DHAVE_FCNTL_H=1 -DHAVE_UNISTD_H=1 \
-DSCOREFILE=\"$(SCOREFILE)\" -DDATAFILE=\"$(DATAFILE)\" \
$(XMINC)
XWIDGETLIBS = $(XTOOLLIB) $(XLIB)
# -lICE -lSM
XMWIDGETLIBS = $(XMLIB) $(XWIDGETLIBS)
# -lICE -lSM

COREOBJS = $(WIDGET)$(O)$(S)$(WIDGET)U$(O)$(S)rngs$(O)
XWIDGETOBJS = $(COREOBJS)$(S)x$(wIDGET)$(O)
XMWIDGETOBJS = $(COREOBJS)$(S)xm$(wIDGET)$(O)

CORESRCS = $(WIDGET)$(C) $(WIDGET)U$(C) rngs$(C)
XWIDGETSRCS = $(CORESRCS) x$(wIDGET)$(C)
XMWIDGETSRCS = $(CORESRCS) xm$(wIDGET)$(C)

AllTarget(x$(wIDGET)$(E))
NormalProgramTarget(x$(wIDGET)$(E), $(XWIDGETOBJS), $(DEPXLIB), $(XWIDGETLIBS), NullParameter)
#ifdef XmLibrary
AllTarget(xm$(wIDGET)$(E))
NormalProgramTarget(xm$(wIDGET)$(E), $(XMWIDGETOBJS), $(DEPXLIB), $(XMWIDGETLIBS), NullParameter)
#else
clean::
	$(RM) xm$(wIDGET)$(E)

#endif

$(WIDGET)$(O) : $(WIDGET)$(C) $(WIDGET)P.h $(WIDGET).h
$(WIDGET)U$(O) : $(WIDGET)U$(C) $(WIDGET)P.h $(WIDGET).h
rngs$(O) : rngs$(C)
x$(wIDGET)$(O) : x$(wIDGET)$(C) $(WIDGET).h
xm$(wIDGET)$(O) : xm$(wIDGET)$(C) $(WIDGET).h

distclean::	clean
	$(RM) Makefile config.status config.cache config.log

clean.all::	distclean

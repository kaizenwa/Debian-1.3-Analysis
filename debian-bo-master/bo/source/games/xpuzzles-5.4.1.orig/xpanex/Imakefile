#ifndef XCOMM
#define XCOMM /**/#
#endif
XCOMM X-BASED PANEX
XCOMM
XCOMM	Imakefile
XCOMM
XCOMM ##
XCOMM
XCOMM Copyright (c) 1996 - 97	David Albert Bagley, bagleyd@bigfoot.com
XCOMM
XCOMM			All Rights Reserved
XCOMM
XCOMM Permission to use, copy, modify, and distribute this software and
XCOMM its documentation for any purpose and without fee is hereby granted,
XCOMM provided that the above copyright notice appear in all copies and
XCOMM that both that copyright notice and this permission notice appear in
XCOMM supporting documentation, and that the name of the author not be
XCOMM used in advertising or publicity pertaining to distribution of the
XCOMM software without specific, written prior permission.
XCOMM
XCOMM This program is distributed in the hope that it will be "playable",
XCOMM but WITHOUT ANY WARRANTY; without even the implied warranty of
XCOMM MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
XCOMM

wIDGET = panex
WIDGET = Panex
VER = x$(WIDGET)
DISTVER = $(VER)-3.4.0

N=
C=.c
XCOMM C++
XCOMM C=.cc
O=.o
XCOMM VMS
XCOMM O=.obj
S=$(N) $(N)
XCOMM VMS
XCOMM S=,
E=
XCOMM VMS
XCOMM E=.exe
 
XCOMM please define
XCOMM C as the C source code extension
XCOMM O as the object extension
XCOMM S as the separator for object code
XCOMM E as the executable extension

XCOMM CC = cc
XCOMM CC = acc
XCOMM CC = gcc -Wall
XCOMM CC = g++ -Wall

XCOMM      *** BEGIN XM CONFIG SECTION ***

XCOMM If your system has libXm (Motif), remove the 'XCOMM ' from the next line.
XCOMM #define XmLibrary

#ifdef XmLibrary
XCOMM If its not with your X11 stuff you should set the following
       MOTIFHOME = /usr/local
XCOMM       MOTIFHOME = /usr/dt

XCOMM Below is a guess of the location of the Motif include directory.
           XMINC = -I$(MOTIFHOME)/include

XCOMM If you get an error "Connot find libXm" while linking, set XMLIBPATH
XCOMM to the directory libXpm.* is in.  Below is a guess.
           XMLIB = -L$(MOTIFHOME)/lib -lXm
XCOMM           XMLIB = -lXm
#endif

XCOMM      *** END XM CONFIG SECTION ***

#ifdef SunArchitecture
#if SystemV4
EXTRA_LDOPTIONS = -R/usr/lib:/usr/openwin/lib

XCOMM Solaris may not have its own correct OSMinorVersion
XCOMM compare with uname -a, correct if wrong at /usr/openwin/lib/config/sun.cf
XCOMM If just using gcc, you may want to remove -xF references in sun.cf and
XCOMM Imake.tmpl if you get a
XCOMM cc: language F not recognized

XCOMM If SunOS 5.2 or less, do not have nanosleep
#if OSMajorVersion > 5 || (OSMajorVersion == 5 && OSMinorVersion > 2)
       SLEEPDEF = -DHAVE_NANOSLEEP=1
EXTRA_LIBRARIES += -lposix4 -lthread
#else
EXTRA_LIBRARIES = -lnsl -lposix4
#endif
#else
       SLEEPDEF = -DHAVE_USLEEP=1
#endif
#endif
#if defined(FreeBSDArchitecture) || defined(NetBSDArchitecture) || defined(i386BsdArchitecture)
       SLEEPDEF = -DHAVE_USLEEP=1
#endif
#ifdef LinuxArchitecture
       SLEEPDEF = -DHAVE_USLEEP=1
#endif
XCOMM If AIX 3.1 or less, do not have struct passwd and other things
#if OSMajorVersion < 3 || (OSMajorVersion == 3 && OSMinorVersion < 2)
      SYSTEMDEF = -DLESS_THAN_AIX3_2
#endif

XCOMM Set your C compiler if necessary
XCOMM CC		= gcc -g -DDEBUG -Wall
XCOMM CC		= gcc -O

SCOREFILE = ./$(wIDGET).scores
DATAFILE  = ./$(wIDGET).data

DEFINES		= -DHAVE_FCNTL_H=1 -DHAVE_SYS_TIME_H=1 -DHAVE_UNISTD_H=1 \
$(SLEEPDEF) \
-DSCOREFILE=\"$(SCOREFILE)\" -DDATAFILE=\"$(DATAFILE)\" \
$(XMINC)
XWIDGETLIBS = $(XTOOLLIB) $(XLIB)
# -lICE -lSM
XMWIDGETLIBS = $(XMLIB) $(XWIDGETLIBS)
# -lICE -lSM

COREOBJS = $(WIDGET)$(O)$(S)$(WIDGET)S$(O)$(S)$(WIDGET)U$(O)
XWIDGETOBJS = $(COREOBJS)$(S)x$(wIDGET)$(O)
XMWIDGETOBJS = $(COREOBJS)$(S)xm$(wIDGET)$(O)

CORESRCS = $(WIDGET)$(C) $(WIDGET)S$(C) $(WIDGET)U$(C)
XWIDGETSRCS = $(CORESRCS) x$(wIDGET)$(C)
XMWIDGETSRCS = $(CORESRCS) xm$(wIDGET)$(C)

AllTarget(x$(wIDGET)$(E))
NormalProgramTarget(x$(wIDGET)$(E), $(XWIDGETOBJS), $(DEPXLIB), $(XWIDGETLIBS), NullParameter)
#ifdef XmLibrary
AllTarget(xm$(wIDGET)$(E))
NormalProgramTarget(xm$(wIDGET)$(E), $(XMWIDGETOBJS), $(DEPXLIB), $(XMWIDGETLIBS), NullParameter)
#else
clean::
	$(RM) xm$(wIDGET)$(E)

#endif

$(WIDGET)$(O) : $(WIDGET)$(C) $(WIDGET)P.h $(WIDGET).h
$(WIDGET)S$(O) : $(WIDGET)S$(C) $(WIDGET)P.h $(WIDGET).h
$(WIDGET)U$(O) : $(WIDGET)U$(C) $(WIDGET)P.h $(WIDGET).h
x$(wIDGET)$(O) : x$(wIDGET)$(C) $(WIDGET).h
xm$(wIDGET)$(O) : xm$(wIDGET)$(C) $(WIDGET).h

distclean::	clean
	$(RM) Makefile config.status config.cache config.log

clean.all::	distclean

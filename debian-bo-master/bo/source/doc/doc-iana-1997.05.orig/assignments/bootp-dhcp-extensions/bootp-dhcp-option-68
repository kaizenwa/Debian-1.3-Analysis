From perk@watson.ibm.com Fri Mar  3 08:42:02 1995
From: perk@watson.ibm.com (Charlie Perkins)
To: iana@ISI.EDU
Cc: jkrey@ISI.EDU, droms@bucknell.edu
Subject: Getting a number assigned for a new DHCP option
Date: Fri, 03 Mar 95 11:41:55 -0500
Content-Length: 10684
Status: RO
X-Lines: 350

I would like to request a new DHCP option number for the
following proposed mobile home address option.  The following
Internet Draft outlines the desired function.  Briefly,
mobile hosts need to specify to the DHCP server that they
need a home address, instead of the IP address that would
be issued by the DHCP server in reply to currently standard
DHCP client requests.  I am submitting the following proposal
as an Internet Draft, and I hope to discuss it in the DHCP
mailing list and working group at the next IETF meeting.

Regards,
Charles Perkins

========================================================================

Internet Engineering Task Force                               C. Perkins
INTERNET DRAFT                                                       IBM
                                                            3 March 1995


                        DHCP Home Address option
                 draft-perkins-homeaddr-dhcpopt-00.txt


Abstract

   This draft defines a new option in the Bootstrap Protocol (BOOTP)
   and the Dynamic Host Configuration Protocol (DHCP) to enable mobile
   hosts, that obey the mobile-IP specification under consideration in
   the mobile-IP working group (afterwards just called "mobile hosts"),
   to configure themselves automatically.  The option enables a mobile
   host to derive an mobile home address, and determine the subnet mask
   for the home network.  Terminology defined in the mobile-IP draft
   specification and the DHCP specification applies here.


Status of This Memo

   This document is a submission to the DHCP Working Group of the
   Internet Engineering Task Force (IETF). Comments should be submitted
   either to the author, or to the DHCP mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet Drafts are working
   documents of the Internet Engineering Task Force (IETF), its Areas,
   and its Working Groups.  Note that other groups may also distribute
   working documents as Internet Drafts.

   Internet Drafts are draft documents valid for a maximum of six
   months, and may be updated, replaced, or obsoleted by other documents
   at any time.  It is not appropriate to use Internet Drafts as
   reference material, or to cite them other than as a ``working draft''
   or ``work in progress.''

   To learn the current status of any Internet-Draft, please check
   the ``1id-abstracts.txt'' listing contained in the internet-drafts
   Shadow Directories on ds.internic.net (US East Coast), nic.nordu.net
   (Europe), ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific
   Rim).









Perkins                Expires 3 September 1995                 [Page i]

Internet Draft           DHCP Home Address Option           3 March 1995




                                Contents



Abstract                                                               i

Status of This Memo                                                    i

 1. Introduction                                                       1

 2. Mobile Home Address Option                                         1

 3. Using BOOTP to acquire mobility configuration information          2

 4. Using DHCP to acquire mobility configuration information           2

 5. Acknowledgements                                                   4

Author's Address                                                       4






























Perkins                Expires 3 September 1995                [Page ii]

Internet Draft           DHCP Home Address Option           3 March 1995


1. Introduction

   This draft defines a new option in the Bootstrap Protocol
   (BOOTP)([2],[5]) and the Dynamic Host Configuration Protocol
   (DHCP)([3]) to enable mobile hosts to configure themselves
   automatically.  The changes are intended to be useful to mobile
   hosts, which in this document are defined to be those host computers
   that conform to mobile-IP draft specification([4]).  To use this
   method of autoconfiguration, a mobile host must also be a DHCP client
   -- that is, be capable of sending and receiving DHCP packets.

   The draft defines one new DHCP option (also called a BOOTP vendor
   extension):  the 'mobile home address' option.  The option is used
   by a BOOTP/DHCP server to communicate information to a client.  The
   home address is used by a mobile host to register its local care-of
   address.  The care-of address can also be obtained via DHCP, but
   that operation places no new requirements on the DHCP server, and
   can be completed by the normal means available to DHCP clients.  The
   existing DHCP options are currently insufficient, because the IP
   address desired by the mobile host should be allocated from a pool
   of address managed by a mobile-IP home agent, and not necessarily
   related to the particular network from which the client's request
   emanates.

   This draft updates the list of DHCP options and BOOTP vendor
   extensions in RFC 1533.  The option defined in this document consists
   of a tag octet and a length octet followed by the value of the
   option.  The length octet contains the length in octets of the option
   value.  The values of the option are in network byte order.


2. Mobile Home Address Option

   When this option is present in a DHCPDISCOVER message, the DHCP
   server is asked to send an appropriate home address to the mobile
   host, which address is configured by the local administration to
   be associated with a mobile home agent.  The DHCP server, in its
   corresponding DHCPOFFER message, will insert the requested address
   into the usual place for requested IP addresses, namely the 'yiaddr'
   field.

   If the DHCP server wishes to also notify the mobile host of one of
   its home agents' addresses (and this will normally be the case), that
   home agent's IP address is inserted in the data field of the mobile
   home address option.

   It is anticipated that the mobile-IP working group will approve one
   of the current proposals for allowing a mobile host, with its already



Perkins                Expires 3 September 1995                 [Page 1]

Internet Draft           DHCP Home Address Option           3 March 1995


   known mobile home address, to dynamically discover the location of a
   home agent serving the home address.  In that case, the DHCP server
   may be configured to send out mobile home addresses and expect that
   the mobile host discover the home agent's address by whichever method
   is approved by the working group.

   It is also anticipated that many installations will allow several
   home agents to serve the same mobile home addresses, for redundancy
   or load sharing.  For this reason, we have also allowed for the
   possibility that the DHCP server may wish to insert multiple home
   agent addresses in the new option.

   The code for the mobile home address option is <68> as assigned by
   the IANA. The length is either four octets multiplied by
   the number of home agents supplied in the option, which may be zero
   or more.  It is expected that the usual length will be four octets,
   containing a single home agent's address.


                 Code Len    Home Agent Addresses (zero or more)
                +----+----+ - -+ - -+ - -+ - -+ - -+ - -+ - -+
                | 68 | n  | a1 | a2 | a3 | a4 | ...
                +----+----+ - -+ - -+ - -+ - -+ - -+ - -+ - -+



3. Using BOOTP to acquire mobility configuration information

   On receiving a BOOTP request from a client, a BOOTP server MUST
   return the above option in the 'vendor extensions' field, if the
   option has been configured in the BOOTP database (e.g.  by the system
   administrator).  A BOOTP server SHOULD also return the IPv4 subnet
   mask ('subnet mask' option) for the home network.  The IPv4 list of
   default routers ('router' option)[1] is not useful for mobile home
   addresses; after registration with its home agent, the mobile host
   will use the care-of address as the address of its default router.

   On receiving a BOOTP reply from a server, a client uses the 32-bit
   (IPv4) address returned in the 'yiaddr' field as its home address,
   and proceeds to register that address with the associated home agent.


4. Using DHCP to acquire mobility configuration information

   To retrieve the above option or any other option of interest,
   a DHCP client MUST request the return of this information when
   a DHCPDISCOVER or DHCPREQUEST message is sent.  This option is
   requested by including in a DHCPDISCOVER or DHCPREQUEST message the



Perkins                Expires 3 September 1995                 [Page 2]

Internet Draft           DHCP Home Address Option           3 March 1995


   'parameter request list' option containing the appropriate option
   codes.  According to the DHCP specification, the server must return
   an option that is explicitly requested (assuming a value has been
   configured in the database).

   In particular, to acquire a mobile home address, a DHCP client
   MUST request the return of the 'mobile home address' option in a
   DHCPDISCOVER and DHCPREQUEST message.  On receiving a BOOTP reply
   from a server, a client uses the 32-bit (IPv4) address returned in
   the 'yiaddr' field as its home address, and proceeds to register that
   address with the associated home agent.








































Perkins                Expires 3 September 1995                 [Page 3]

Internet Draft           DHCP Home Address Option           3 March 1995


5. Acknowledgements

   I would like to acknowledge that the form of this document was
   modeled after Sue Thompson's "draft-ietf-sipp-dhcpopt-01.txt".


References

   [1] S. Alexander and R. Droms.  DHCP Options and BOOTP Vendor
       Extensions.  RFC 1533, October 1993.

   [2] B. Croft and J. Gilmore.  Bootstrap Protocol (BOOTP).  RFC 951,
       September 1985.

   [3] R. Droms.  Dynamic Host Configuration Protocol.  RFC 1541,
       October 1993.

   [4] IETF Mobile-IP Working Group.  ietf-draft-mobileip-protocol-08.txt.
       Internet Draft -- work in progress, January 1995.

   [5] W. Wimer.  Clarifications and Extensions for the Bootstrap
       Protocol.  RFC 1542, October 1993.


Author's Address

   Questions about this memo can be directed to:

          Charles Perkins
          Room J1-A25
          T. J. Watson Research Center
          IBM Corporation
          30 Saw Mill River Rd.
          Hawthorne, NY  10532

          Work:  +1 914 7847350
          Fax:   +1 914 7847007
          E-mail: perk@watson.ibm.com













Perkins                Expires 4 September 1995                 [Page 4]


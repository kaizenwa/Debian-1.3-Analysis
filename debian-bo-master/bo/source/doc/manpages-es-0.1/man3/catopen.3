.\" Copyright 1993 Mitchum DSouza <m.dsouza@mrc-applied-psychology.cambridge.ac.uk>
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\"
.\" Traducido al castellano (con permiso) por:
.\" Sebastian Desimone (chipy@argenet.com.ar) (desimone@fasta.edu.ar)
.TH CATOPEN 3 "30 November 1993"
.SH NOMBRE
catopen, catclose \- abre/cierra un catálogo de mensajes
.SH SINOPSIS
.B #include <features.h>
.br
.B #include <nl_types.h>
.LP
.nf
.ft B
nl_catd catopen(name, flag)
char *name;
int flag;
.ft R
.fi
.LP
.nf
.ft B
void catclose(catalog)
nl_catd catalog;
.ft R
.fi
.SH DESCRIPCION
.IX "catopen" "" "\fLcatopen\fR \(em open a message catalog" ""
.IX "catclose" "" "\fLcatclose\fR \(em close a message catalog" ""
.LP
.B catopen(\|)
abre un catálogo de mensajes y retorna un descriptor de catálogo.
.I name
espeficica el nombre del catálogo de mensajes a ser abierto.
Si
.I name
especifica un camino absoluto, (p.e. contiene una
.RB ` / ' )
entonces
.I name
especifica un nombre de camino (pathname) para el catálogo de mensajes.
De otra manera, la variable de ambiente
.SB NLSPATH
es usada con
.I name
sustituido por
.B %N
(ver
.BR locale (5)).
Si
.SB NLSPATH
no existe en el ambiente, o si un catálogo de mensajes no puede ser abierto
en ninguno de los caminos especificados por 
.BR \s-1NLSPATH\s0 ,
los siguiente caminos son buscados en orden

.RS
.B /etc/locale/LC_MESSAGES
.br
.B /usr/lib/locale/LC_MESSAGES
.br
.B /usr/lib/locale/name/LC_MESSAGES
.RE

En todos los casos
.I LC_MESSAGES
se refiere a la actual asignación de la categoría
.B \s-1LC_MESSAGES\s+1
de \fBlocale\fP desde una previa llamada a 
.BR setlocale ()
y por defecto al \fBlocale "C"\fP. En el último camino de búsqueda
.I name
se refiere al nombre del catálogo.
.LP
El argumento
.I flag
de \fBcatopen\fP es usado para indicar el tipo de carga deseada. Esta
debe ser tanto
.B MCLoadBySet
o
.BR MCLoadAll .
El primer valor indica que solamente el conjunto requerido desde el catálogo
es cargado en la memoria al ser necesitado, mientras que el segundo causa que
en la llamada inicial a 
.BR catopen ()
se cargue el catálogo entero en la memoria.
.LP
.B catclose(\|)
cierra el catálogo de mensajes identificado por
.IR catalog .
Esto invalida cualquier subsecuente referencia al catálogo de mensajes 
definido por 
.IR catalog .
.LP
.SH VALOR RETORNADOS
.LP
.B catopen(\|)
retorna un descritor de catálogo de mensajes de tipo
.I nl_catd
si es exitosa.
Si falla, retorna
\-1.
.\"and sets
.\".B errno
.\"to indicate the error.
.LP
.B catclose(\|)
retorna 0 si es exitosa, o -1 si falla.
.SH NOTAS
Estas funciones son solo disponibles en libc.so.4.4.4c (o superiores). 
En el caso de linux, el descriptor de catálogo
.I nl_catd
es actualmente un área mapeada (mmap()'ed) de memoria; no un descriptor de 
archivos, así se permite que los catálogos sean compartidos.
.SH VER TAMBIEN
.BR catgets (3),
.BR setlocale (3)

.\" Traduzione di Tommaso Schiavinotto per ILDP
.\" tommaso@cln.it
.\"{{{}}}
.\"{{{  Title
.TH INITTAB 5 "Jun 04, 1996" "" "Linux System Administrator's Manual"
.\"}}}
.\"{{{  Nome
.SH NOME
inittab \- formato del file inittab usato dal processo sysv-compatibile init
.\"}}}
.\"{{{  Descrizione
.SH DESCRIZIONE
Il file inittab indica quali processi sono lanciati all'avvio e durante
le normali operazioni (esempio: \&  /etc/rc,  gettys...).  Init riconosce 
più  \fIlivelli di esecuzione\fP (runlevel), ognuno dei quali può avere il proprio 
insieme di processi che sono lanciati. I livelli di esecuzione validi sono
\fB0\fP\-\fB6\fP e \fBA\fP, \fBB\fP e \fBC\fP per le voci \fBondemand\fP.
Una voce nel file inittab ha il seguente formato:
.RS
.sp
\fIid\fP:\fIlivello_di_esecuzione\fP:\fIazione\fP:\fIprocesso\fP
.sp
.RE
Le linee che iniziano per `#' sono ignorate.
.\"{{{  id
.IP \fIid\fP
è  una  sequenza  unica  di  1-4 caratteri che indentifica una voce in
inittab (per le versioni di sysvinit compilate con librerie < 5.2.18 o
con librerie a.out il limite è di 2 caratteri).
.sp
Nota: Per getty o altri processi di login, il  campo  \fIid\fP  dovrebbe  essere
il  suffisso  del  tty  corrispondente,  per  esempio\&  \fB1\fP  per   \fBtty1\fP.
Altrimenti, la registrazione al login potrebbe non funzionare correttamente. 
.\"}}}
.\"{{{  livelli di esecuzione
.IP \fIlivelli_di_esecuzione\fP
descrive a quale livello di esecuzione l'azione specificata deve essere attuata.
.\"}}}
.\"{{{  azione
.IP \fIazione\fP
descrive quale azione deve essere attuata.
.\"}}}
.\"{{{  processo
.IP \fIprocesso\fP
specifica il processo da eseguire. Se il campo del processo inizia con
il carattere `+', init non farà la registrazione su utmp e wtmp per quel 
processo.  Questo è necessario per i gettys che insistono nel fare la loro 
manutenzione di utmp/wtmp. Anche questo è uno storico baco.
.\"}}}
.PP
Le azioni valide sono:
.\"{{{  respawn
.IP \fBrespawn\fP
Il processo sarà riavviato ogni volta che termina (per esempio:\& getty).
.\"}}}
.\"{{{  wait
.IP \fBwait\fP
Il processo sarà avviato una volta  quando  il  sistema entra nel livello di 
esecuzione specificato e init aspetterà la sua terminazione.
.\"}}}
.\"{{{  once
.IP \fBonce\fP
Il processo sarà avviato una volta quando il sistema entra nel livello di 
esecuzione specificato.
.\"}}}
.\"{{{  boot
.IP \fBboot\fP
Il processo sarà eseguito una volta durante l'avvio del sistema. Il campo del
\fIlivello  di  esecuzione\fP è ignorato.
.\"}}}
.\"{{{  bootwait
.IP \fBbootwait\fP
Il processo sarà eseguito durante l'avvio del sistema, mentre init attende
per la sua terminazione (esempio: \& /etc/rc). Il campo del \flivello di 
esecuzione\fP è ignorato.
.\"}}}
.\"{{{  off
.IP \fBoff\fP
Questo non fa niente.
.\"}}}
.\"{{{  ondemand
.IP \fBondemand\fP
Un processo segnato con un livello di esecuzione \fBondemand\fP sarà eseguito
qualsiasi volta il livello di esecuzione specificato venga richiamato. Comunque, 
non avverrà nessun cambiamento nel livello di esecuzione (i livelli di esecuzione
\fBondemand\fP sono 'a', 'b'
e 'c').
.\"}}}
.\"{{{  initdefault
.IP \fBinitdefault\fP
Una voce \fBinitdefault\fP specifica il livello di che esecuzione in cui il sistema 
dovrebbe entrare dopo l'avvio.  Se non ne esiste nessuno, init lo richiederà
sulla console. Il campo del \fIprocesso\fP è ignorato.
.\"}}}
.\"{{{  sysinit
.IP \fBsysinit\fP
Il processo sarà eseguito durante l'avvio del sistema. Sarà eseguito prima
di qualsiasi entrata \fBboot\fP o \fBbootwait\fP. 
Il campo del \fIlivello di esecuzione\fP è ignorato.
.\"}}}
.\"{{{  powerwait
.IP \fBpowerwait\fP
Il processo sarà eseguito quando \fBinit\fP riceve il segnale SIGPWR, 
indicando che c'è qualche cosa di sbagliato nell'alimentazione. \fBInit\fP
attenderà che i processi terminino prima di continuare.
.\"}}}
.\"{{{  powerfail
.IP \fBpowerfail\fP
Come  \fBpowerwait\fP, ma init non aspetterà la terminazione dei processi.
.\"}}}
.\"{{{  powerokwait
.IP \fBpowerokwait\fP
Il processo sarà eseguito quando \fBinit\fP riceve un segnale SIGPWR,
e troverà un file chiamato \fB/etc/powerstatus\fP contenente la parola
\fBOK\fP. Questo significa che l'alimentazione è ritornata di nuovo.
.\"}}}
.\"{{{  ctrlaltdel
.IP \fBctrlaltdel\fP
Il processo sarà eseguito quando \fBinit\fP riceverà il segnale SIGINT.
Questo significa che qualcuno sulla console di sistema ha premuto la combinazione
di tasti \fBCTRL\-ALT\-DEL\fP. Tipicamente si vuole eseguire qualche tipo di
\fBshutdown\fP o per entrare nel livello di utente-unico o per riavviare la 
macchina.  
.\"}}}
.\"{{{  kbrequest
.IP \fBkbrequest\fP
Il processo sarà eseguito quanto l'init riceve un segnale dal gestore della
tastiera, segnalando che una combinazione speciale di tasti è stata
premuta sulla tastiera della console.
.br
La documentazione per questa funzione non è ancora completa; una documentazione
più dettagliata può essere trovata nei pacchetti kbd-x.xx (il più recente al
momento di questa stesura era il kbd-0.91). Solitamente si vuole mappare
qualche combinazione della tastiera al momento di riavvio della console 
("Spawn_console").
.RS
.sp
alt keycode 103 = Spawn_Console
.sp
.RE
.\"}}}
.PP
Il campo \fIlivello di  esecuzione\fP  può contenere più caratteri per diversi
livelli di esecuzione, ad esempio\& \fB123\fP se il processo deve essere  lanciato
ai  livelli  di esecuzione 1,  2  e  3.   Le  entrate  \fBondemand\fP possono contenere un \fBA\fP,
\fBB\fP o \fBC\fP. Il campo \fIlivello di esecuzione\fP delle voci \fBsysinit\fP,
\fBboot\fP e \fBbootwait\fP sono ignorati.
.PP
Quano il livello di esecuzione è cambiato, ogni processo in esecuzione che non
è specificato nel nuovo runlevel viene ucciso, prima con \s-2SIGTERM\s0,
poi con \s-2SIGKILL\s0.
.\"}}}
.\"{{{  Esempi
.SH ESEMPI
Questo è un esempio di inittab which simile al vecchio inittab di Linux:
.RS
.sp
.nf
.ne 7
# inittab per linux
id:1:initdefault:
rc::bootwait:/etc/rc
1:1:respawn:/etc/getty 9600 tty1
2:1:respawn:/etc/getty 9600 tty2
3:1:respawn:/etc/getty 9600 tty3
4:1:respawn:/etc/getty 9600 tty4
.fi
.sp
.RE
Questo file di inittab esegue \fB/etc/rc\fP durante l'avvio e lancia i gettys
su tty1\-tty4.
.PP
Un inittab più elaborato con differenti livelli di esecuzione (vedi i commenti
all'interno):
.RS
.sp
.nf
.ne 19
# Livello in cui andare in esecuzione
id:2:initdefault:

# Prima di tutto l'inizializzazione del sistema
si::sysinit:/etc/rc.d/bcheckrc

# Livelli di esecuzione 0,6 sono halt e reboot, 
# 1 e' il modo di manutenzione.
l0:0:wait:/etc/rc.d/rc.halt
l1:1:wait:/etc/rc.d/rc.single
l2:2345:wait:/etc/rc.d/rc.multi
l6:6:wait:/etc/rc.d/rc.reboot

# Cosa fare in caso di "saluto dei 3 diti".
ca::ctrlaltdel:/sbin/shutdown -t5 -rf now

# Livelli di esecuzione 2&3: getty su console, 
# al livello 3 anche il getty sulla porta modem.
1:23:respawn:/sbin/getty tty1 VC linux
2:23:respawn:/sbin/getty tty2 VC linux
3:23:respawn:/sbin/getty tty3 VC linux
4:23:respawn:/sbin/getty tty4 VC linux
S2:3:respawn:/sbin/uugetty ttyS2 M19200

.fi
.sp
.RE
.\"}}}
.\"{{{  Files
.SH FILE
/etc/inittab
.\"}}}
.\"{{{  Autore
.SH AUTORE
Init è stato scritto da Miquel van Smoorenburg
(miquels@cistron.nl), la pagina di guida è stata scritta da  
Sebastian Lederer (lederer@francium.informatik.uni-bonn.de) e modificata da 
Michael Haardt (u31b3hs@pool.informatik.rwth-aachen.de).
.\"}}}
.\"{{{  VEDERE ANCHE
.SH "VEDERE ANCHE"
init(8), telinit(8)
.\"}}}

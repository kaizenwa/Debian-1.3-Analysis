.\" nfs.5 "Rick Sladkey" <jrs@world.std.com>
.\" Wed Feb  8 12:52:42 1995, faith@cs.unc.edu: updates for Ross Biro's
.\" patches. "
.\"
.\" Traduzione in italiano di Giovanni Bortolozzo <borto@dei.unipd.it>
.\" Agosto 1996
.\"
.\" " for hilit19
.TH NFS 5 "20 Novembre 1993" "Linux 0.99" "Linux Programmer's Manual"
.SH NOME
nfs \- formato di fstab e opzioni per nfs
.SH SINTASSI
.B /etc/fstab
.SH DESCRIZIONE
Il file
.I fstab
contiene le informazioni sui filesystem da montare, dove e con quali
opzioni. Per il mount di un NFS, contiene il nome del server e della
directory esportata dal server da montare, la directory locale che è
usata come mount point, le opzioni specifiche di NFS che controllano
come è montato il filesystem.
.P
Ecco un esempio da un file \fI/etc/fstab\fP per un mount NFS.
.sp
.nf
.ta 2.5i +0.75i +0.75i +1.0i
server:/usr/local/pub	/pub	nfs	rsize=8192,wsize=8192,timeo=14,intr
.fi
.DT
.SS Opzioni
.TP 1.5i
.I rsize=n
Il numero di byte che NFS usa quando legge i file da un server NFS. Il
valore di default dipende dal kernel, e attualmente è 1024 byte.
.TP 1.5i
.I wsize=n
Il numero di byte che NFS usa quando scrive file su di un server NFS. Il
valore di default dipende dal kernel, e attualmente è 1024 byte. 
.TP 1.5i
.I timeo=n
Il tempo in decimi di secondo prima di inviare la prima ritrasmissione
dopo un RPC timeout. Dopo il primo timeout, il tempo di timeout è
raddoppiato ad ogni timeout successivo fino ad a quando è raggiunto
il timeout massimo di 60 secondi o sono avvenute abbastanza 
ritrasmissioni da causare un major timeout. Poi, se il filesystem è
montato in modo hard, ogni nuovo timeout che avviene si riparte al
doppio del valore iniziale del precedente. Il timeout massimo è ancora
di 60 secondi. Migliori prestazioni globali si possono ottenere
incrementando il timeout quando si fa il mount in una rete molto
occupata, con un server lento, o attraverso molti router o gateway. 
.TP 1.5i
.I retrans=n
Il numero di minor timeout e di ritrasmissioni che devono succedere
prima che avvenga un major timeout. Il default è di 3 timeout. Quando
avviene un major timeout, l'operazione sul file o è interrotta oppure
viene mostrato in console il messaggio "server not responding". 
.TP 1.5i
.I acregmin=n
Il tempo minimo in secondi che devono essere tenuti in cache gli
attributi di un file normale prima di richiederne l'aggiornamento dal
server. Il default è 3 secondi.
.TP 1.5i
.I acregmax=n
Il tempo massimo in secondi che devono essere tenuti in cache gli
attributi di un file normale prima di richiederne l'aggiornamento dal
server. Il default è 60 secondi.
.TP 1.5i
.I acdirmin=n
Il tempo minimo in secondi che devono essere tenuti in cache gli
attributi di una directory prima di richiederne l'aggiornamento dal
server. Il default è 30 secondi.
.TP 1.5i
.I acdirmax=n
Il tempo massimo in secondi che devono essere tenuti in cache gli
attributi di una directory prima di richiederne l'aggiornamento dal
server. Il default è 60 secondi.
.TP 1.5i
.I actimeo=n
L'uso di actimeo setta 
.I acregmin,
.I acregmax,
.I acdirmin,
e
.I acdirmax
allo stesso valore. Non c'è un valore di default.
.TP 1.5i
.I retry=n
Il numero di volte che si tenta un'operazione di mount di un NFS in
background prima di lasciar perdere. Il valore di default è 1000 volte.
.TP 1.5i
.I namlen=n
Quando il server NFS non supporta la versione due del protocollo di
mount RPC, questa opzione può essere usata per specificare la massima
lunghezza di un nome di file che è supportata nel filesystem remoto. È
usata per supportare le funzioni pathconf POSIX. Il default è 255
caratteri. 
.TP 1.5i
.I port=n
Il numero della porta a cui connettersi sul server NFS. Se il
numero della porta è 0 (default) allora si interroga il portmapper
dell'host remoto per sapere il numero di porta da usare. Se il daemon
NFS del server remoto non è registrato con il suo portmapper, allora è
usato il numero di porta NFS standard 2049.
.TP 1.5i
.I mountport=n
Il numero della porta di 
.BR mountd .
.TP 1.5i
.I mounthost=nome
Il nome dell'host sul quale gira
.BR mountd .
.TP 1.5i
.I mountprog=n
Usa un numero di programma RPC alternativo per contattare il mount
daemon sull'host remoto. Questa opzione è utile per gli host che
possono far girare diversi server NFS. Il valore di default è 100005
che è il numero di programma RPC standard del mount daemon.
.TP 1.5i
.I mountvers=n
Usa un numero di versione RPC alternativo per contattare il mount
daemon sull'host remoto. Questa opzione è utile per gli host che
possono far girare diversi server NFS. Il default è la versione 1.
.TP 1.5i
.I nfsprog=n
Usa un numero di programma RPC alternativo per contattare il daemon
NFS sull'host remoto. Questa opzione è utile per gli host che
possono far girare diversi server NFS. Il valore di default è 100003
che è il numero di programma RPC standard del daemon NFS.
.TP 1.5i
.I nfsvers=n
Usa un numero di versione RPC alternativo per contattare il daemon NFS
sull'host remoto. Questa opzione è utile per gli host che possono far
girare diversi server NFS. Il default è la versione 2.
.TP 1.5i
.I bg
Se il primo tentativo di mount NFS va in timeout, si continua a provare il
mount in background. Di default non fa il mount in background dopo
un timeout ma fallisce.
.TP 1.5i
.I fg
Se il primo tentativo di mount NFS va in timeout, fallisce
immediatamente. È il default.
.TP 1.5i
.I soft
Se un operazione NFS su un file ha un major timeout allora si
restituisce un errore di I/O al programma chiamante. Il default è di
continuare a riprovare le operazioni su file NFS indefinitivamente.
.TP 1.5i
.I hard
Se un operazione NFS su un file ha un major timeout allora riporta in
console "server not responding" e continua indefinitivamente. È il
default.
.TP 1.5i
.I intr
Se un operazione NFS su un file ha un major timeout ed è montato hard,
allora permette ai signal di interrompere l'operazione sul file e
ritorna EINTR al programma chiamante. Il default è di non permettere
che l'operazione sul file sia interrotta.
.TP 1.5i
.I posix
Monta il filesystem NFS usando la semantica POSIX. Ciò permette ad un
filesystem NFS di supportare nel giusto modo il comando POSIX pathconf
interrogando il server per sapere la lunghezza massima di un nome di
file. Per fare ciò, l'host remoto deve supportare la versione due del
protocollo di mount RPC. Molti server NFS supportano solo la versione
uno.
.TP 1.5i
.I nocto
Sopprime il recupero di nuovi attributi quando è creato un file.
.TP 1.5i
.I noac
Disabilita interamente tutte le forme di caching degli attributi. Ciò
causa una penalizzazione delle prestazioni del server ma permette a
due diversi client NFS di ottenere risultati ragionevolmente buoni
quando entrambi i client stanno scrivendo attivamente su di un
filesystem comune sul server.
.TP 1.5i
.I tcp
Monta il filesystem NFS usando il protocollo TCP invece del protocollo
UDP di default. Molti server NFS supportano solo UDP.
.TP 1.5i
.I udp
Monta il filesystem NFS usando il protocollo UDP. È il default.
.P
Tutte le opzioni non numeriche hanno la corrispondente forma
"noopzione". Per esempio, nointr significa che non si permette alle
operazione sui file di essere interrotte.
.SH FILE
.I /etc/fstab
.SH "VEDERE ANCHE"
.BR fstab "(5), " mount "(8), " umount "(8), " exports (5)
.SH AUTORE
"Rick Sladkey" <jrs@world.std.com>
.SH PROBLEMI
Le opzioni bg, fg, retry, posix, e nocto sono analizzate da mount, ma
attualmente sono ignorate "silenziosamente".
.P
Le opzioni tcp e namlen sono implementate ma non sono attualmente
supportate dal kernel di Linux.
.P
Il comando umount dovrebbe notificare al server quando è smontato un
filesystem NFS.

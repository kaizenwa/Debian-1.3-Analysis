.\" Copyright (c) 1980, 1990 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Traduzione in italiano di Giovanni Bortolozzo <borto@dei.unipd.it>
.\" Agosto 1996
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @(#)lpr.1	6.10 (Berkeley) 7/24/91
.\"	$Id: lpr.1,v 1.2 1993/08/01 07:24:29 mycroft Exp $
.\"
.\" " for hilit19
.Dd 24 Luglio 1991
.Dt LPR 1
.Os BSD 4
.Sh NOME
.Nm lpr
.Nd stampa off line
.Sh SINTASSI
.Nm lpr
.Op Fl P Ns Ar stampante
.Op Fl \&# Ns Ar num
.Op Fl C Ar classe
.Op Fl J Ar job
.Op Fl T Ar titolo
.Op Fl U Ar utente
.Op Fl i Op Ar numcol
.Op Fl 1234 Ar font
.Op Fl w Ns Ar num
.Op Fl cdfghlnmprstv
.Op Ar nome ...
.Sh DESCRIZIONE
.Nm Lpr
usa un daemon di spooling per stampare i file nominati quando le
risorse diventano disponibili. Se non appare nessun nome, è assunto lo
standard input.
.Pp
Le seguenti opzioni ad una lettera sono usate per notificare al daemon
dello spooling che i file non sono file di testo standard. Il daemon
di spooling userà allora i filtri appropriati per stampare tali dati.
.Bl -tag -width indent
.It Fl c
I file sono assunti contenere dati prodotti da
.Xr cifplot 1
.It Fl d
I file sono assunti contenere dati prodotti da
.Em tex
.Pf ( Tn formato DVI
di Stanford).
.It Fl f
Usa un filtro che interpreta il primo carattere di ogni riga come un
carattere standard
.Tn FORTRAN
di controllo carrello.
.It Fl g
I file sono assunti contenere dati plot standard prodotti dalle
routine di
.Xr plot
(vedere anche
.Xr plot
per i filtri usati dallo spooler della stampa).
.It Fl l
Usa un filtro che fa sì che siano stampati i caratteri di controllo e
soppresse le interruzioni di pagina.
.It Fl n
I file sono assunti contenere dati prodotti da
.Em ditroff
(device independent troff).
.It Fl p
Usa
.Xr pr  1
per formattare il file (equivalente a
.Xr print  ) .
.It Fl t
I file sono assunti contenere dati prodotti da
.Xr troff  1
(cat phototypesetter commands).
.It Fl v
I file sono assunti contenere una immagine raster per dispositivi
come il Benson Varian.
.El
.Pp
Queste opzioni si applicano alla manipolazione dei lavori di stampa
(print job):
.Bl -tag -width indent
.It Fl P
Forza l'output su di una stampante specifica. Normalmente è usata la
stampante di default (dipendente dal sito), o è usato il valore della
variabile d'ambiente
.Ev PRINTER.
.It Fl h
Sopprime la stampa della burst page.
.It Fl m
Spedice una mail dopo il completamento.
.It Fl r
Rimuove il file dopo la fine dello spooling o dopo la fine della
stampa (con l'opzione
.Fl s
).
.It Fl s
Usa link simbolici. Si solito i file sono copiati nella directory di
spool. L'opzione
.Fl s
userà
.Xr symlink  2
per ``link-are'' i file di dati piuttosto che provare a copiarli
cosicché possono essere stampati anche i file più grandi. Ciò implica
che i file non dovrebbero essere modificati o rimossi fino a che non
sono stati stampati.
.El
.Pp
Le rimanenti opzioni si applicano alle copie, al formato della pagina,
e agli header:
.Bl -tag -width indent
.It Fl \&# Ns Ar num
La quantità
.Ar num
è il numero di copie desiderate di ognuno dei file nominati. Per esempio,
.Bd -literal -offset indent
lpr \-#3 foo.c bar.c more.c
.Ed
.Pp
produrrà 3 copie del file foo.c, seguite da 3 copie del file bar.c,
ecc. D'altra parte,
.Bd -literal -offset indent
cat foo.c bar.c more.c \&| lpr \-#3
.Ed
.Pp
darà tre copie della concatenazione dei file. Spesso un sito
disabilita questa possibilità per incoraggiare invece l'uso della
fotocopiatrice. 
.It Xo
.Fl Ns Oo Cm 1234 Oc Ar font
.Xc
Specifica un 
.Ar font
da montare nella posizione font
.Ar i  .
Il daemon costruirà un file
.Li .railmag
referenziando il percorsi del font.
.It Fl C Ar class
Classificazione del lavoro da usare nella burst page. Per esempio,
.Bd -literal -offset indent
lpr \-C EECS foo.c
.Ed
.Pp
fa sì che il il nome del sistema (il nome restituito da
.Xr hostname  1  )
sia rimpiazzato nella burst page da
.Tn EECS ,
e che sia stampato il file foo.c.
.It Fl J Ar job
Nome del lavoro (job) da stampare nella burst page. Normalmente, è usato il
nome del primo file.
.It Fl T Ar title
Titolo per 
.Xr pr  1 ,
invece del nome del file.
.It Fl U Ar utente
Nome dell'utente da stampare nella burst page, solo per scopi di
accredito. Questa opzione è onorata solo se lo user-id reale è daemon
(o quello specificato nel file printcap al posto di daemon), ed è
pensata per i casi in cui i filtri di stampa vorrebbero riaccodare i
job. 
.It Fl i Op numcols
L'output è identato. Se l'argomento successivo è un
.Pq Ar numcols numerico,
è usato come numero di spazi che sono stampati prima di ciascuna riga;
diversamente ne sono stampati 8.
.It Fl w Ns Ar num
Usa
.Ar num
per la larghezza della pagina per
.Xr pr 1 .
.El
.Sh AMBIENTE
La seguente variabile d'ambiente, se esiste, è usata da
.Nm lpr :
.Bl -tag -width PRINTER
.It Ev PRINTER
Specifica una stampante di default alternativa.
.El
.Sh FILE
.Bl -tag -width /var/spool/output/*/tf* -compact
.It Pa /etc/passwd
Identificazione personale.
.It Pa /etc/printcap
Data base delle capacità delle stampanti.
.It Pa /usr/sbin/lpd*
Daemon di stampa in linea.
.It Pa /var/spool/output/*
Directory usate per lo spooling.
.It Pa /var/spool/output/*/cf*
File di controllo del daemon.
.It Pa /var/spool/output/*/df*
File di dati specificati nei file "cf".
.It Pa /var/spool/output/*/tf*
Copie temporanee dei file "cf".
.El
.Sh VEDERE ANCHE
.Xr lpq 1 ,
.Xr lprm 1 ,
.Xr pr 1 ,
.Xr symlink 2 ,
.Xr printcap 5 ,
.Xr lpc 8 ,
.Xr lpd 8
.Sh STORIA
Il comando
.Nm lpr
è apparso in
.Bx 3 .
.Sh DIAGNOSTICI
Se si prova a fare lo spool di un file troppo grande, sarà troncato.
.Nm Lpr
si opporrà alla stampa di file binari.
Se un utente diverso da root stampa una file e lo spooling è disabilitato,
.Nm lpr
stamperà un messaggio dicendolo e non metterà i job in coda.
Se non può essere fatta la connessione a
.Xr lpd 1
sulla macchina locale,
.Nm lpr
dirà che non può essere lanciato il daemon.
Messaggi diagnostici possono essere stampati nel file di log del
daemon a riguardo di file di spool non trovati da
.Xr lpd 1 .
.Sh PROBLEMI
I font per
.Xr troff 1
e
.Xr tex
risiedono nell'host con la stampante. Non è attualmente possibile
usare librerie di font locali.


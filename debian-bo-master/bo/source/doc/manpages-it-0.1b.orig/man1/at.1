.\" Traduzione di Christian K. Franzone -- Copyright (C) 1996.
.Id $Id: at.man,v 1.3 1995/08/08 15:24:51 ig25 Exp $
.TH AT 1 "Jan 1993" local "Linux Programmer's Manual"
.SH NOME
at, batch, atq, atrm \- mette in coda, esamina o cancella lavori per 
esecuzione ritardata  
.SH SINTASSI
.B at
.RB [ -V ]
.RB [ -q 
.IR queue ]
.RB [ -f
.IR file ]
.RB [ -mldbv ]
.B TIME
.br
.B "at -c"
.I job
.RI [ job... ]
.br
.B atq
.RB [ -V ]
.RB [ -q
.IR queue ]
.RB [ -v ]
.br
.B atrm
.RB [ -V ]
.I job
.RI [ job... ]
.br
.B batch
.RB [ -V ]
.RB [ -q
.IR queue ]
.RB [ -f
.IR file ]
.RB [ -mv ]
.RB [ TIME ]
.SH DESCRIZIONE
.B at
e
.B batch
legge i comandi dal file di input standard o da uno specificato che devono 
essere eseguiti in un successivo momento, usando 
.BR /bin/sh .
.TP 8
.BR at
esegue un comando a un'ora specificata.
.TP 8
.BR atq
elenca i processi sospesi dell'utente, a meno che l'utente sia 
superuser; in quel caso vengono elencati i processi di tutti. 
.TP 8
.BR atrm
cancella i processi.
.TP 8
.BR batch
esegue i comandi quando i livelli di carico del sistema lo permettono; 
in altre parole, quando il carico medio
letto da 
.I /proc/loadavg
va sotto il limite di 1.5, o il valore specificato nella chiamata di
.BR atrun .
.PP
.B At
permette delle 
.B TIME
specifiche moderatamente complesse.  Accetta ore della forma 
.B HHMM
o
.B HH:MM
per eseguire un processo a una specificata ora del giorno.
(Se quell'ora è già trascorsa, viene assunto il prossimo giorno.)
Si può anche specificare
.B midnight,
.B noon,
o
.B teatime
(4pm)
e si può avere un'ora del giorno suffissa con 
.B AM
or
.B PM
per l'esecuzione al mattino o alla sera.
Si può anche dire quale giorno verrà eseguito il processo,
dando un'ora della forma
.B month-name
.B day
con un opzionale
.B year,
o dando una data della forma
.B MMDDYY
o
.B MM/DD/YY
o
.B DD.MM.YY.
Si può anche inserire ore come 
.B now
.B \+
.I count
.I time-units,
ove le  time-units possono essere
.B minuti,
.B ore,
.B giorni,
o
.B settimane
e si può dire al comando
.B at
di eseguire il compito oggi aggiungendo all'ora un suffisso come 
.B today
e per eseguire il compito domani aggiungendo all'ora un suffisso come 
.B tomorrow.
.PP
Per esempio, per eseguire un compito alle 16 tre giorni a partire da adesso, si immetterebbe
.B at 4pm + 3 days,
per eseguire un compito alle 10 del 31 luglio si userebbe
.B at 10am Jul 31
e per eseguire un compito alle 13 di domani, si userebbe
.B at 1am tomorrow.
.PP
Per entrambi
.BR at " e " batch 
i comandi vengono letti dallo standard input o dal file specificato
con l'opzione
.B -f
e eseguiti.
La directory di lavoro, l'ambiente (tranne le variabili 
.BR TERM ,
.BR DISPLAY
e
.BR _ )
e la variabile  umask vengono mantenute dall'ora in cui sono state chiamate.
Un comando 
.BR "at " \-
o
.BR "batch "\-
chiamato da una  
.B su(1)
shell manterrà l'attuale userid.
All'utente verrà spedito lo standard error e lo standard output dai suoi comandi, se ce ne sono.
La posta verrà spedita usando il comando   
.BR /bin/mail .   
Se 
.B at
viene eseguito da una  
.B su(1)
shell, il proprietario della login riceverà la posta.
.PP   
Il superuser può usare questi comandi in ogni caso.
Per gli altri utenti, l'autorizzazione  all'uso è determinata dai file
.I /etc/at.allow
e
.IR /etc/at.deny . 
.PP
Se il file
.I /etc/at.allow
esiste, solo gli username in esso menzionati sono abilitati a usare 
.BR at .
.PP
Se 
.I /etc/at.allow
non esiste,
.I /etc/at.deny
viene controllato, ogni username non menzionato in esso è allora abilitato a usare
.BR at .
.PP
Se né l'uno né l'altro esistono, solo il superuser è abilitato a usare at.
.PP
Un file
.I /etc/at.deny
vuoto significa che ogni utente è autorizzato a usare questi comandi, 
questa è la configurazione di default.
.SH OPZIONI
.TP 8
.B -V
stampa il numero della versione sullo standard error.
.TP 8
.BI \-q " queue"
usa la coda specificata.
Un identificativo di coda è composto da una singola lettera; validi identificativi di coda
variano da
.B a
a
.BR z .
e da
.B A
a
.BR Z .
La coda
.B c
è il default per
.B at
e la coda 
.B E
per
.BR batch .
Le code con lettere più alte sono eseguite con priorità inferiore.
Se un compito è sottomesso a una coda identificata da una lettera maiuscola, 
viene trattato come se fosse stato sottomesso a batch in quel momento.
Se ad
.BR atq
viene data una coda specifica, mostrerà solo i processi pendenti in quella coda.
.TP 8
.B \-m
Spedisce la posta all'utente quando il lavoro è stato completato anche se non c'è stato
output.
.TP 8
.BI \-f " file"
Legge il lavoro dal
.BI file
piuttosto che da  standard input.
.TP 8
.B \-l
È un alias per 
.B atq.
.TP
.B \-d
È un alias per 
.B atrm.
.TP
.B \-b
È un alias per 
.B batch.
.TP
.B \-v
Per 
.BR atq ,
mostra i lavori ultimati ma non ancora cancellati nella coda; altrimenti mostra l'ora in cui
verrà eseguito il compito.
.TP
.B
\-c
mostra i lavori elencati nella linea di comando sullo standart output.
.SH FILE
.I /var/spool/atjobs
.br
.I /var/spool/atspool
.br
.I /proc/loadavg
.br
.I /etc/utmp
.br
.I /etc/at.allow
.br
.I /etc/at.deny
.SH VEDERE  ANCHE 
cron(1), nice(1), sh(1), umask(2), atrun(8)
.SH BUG
La corretta esecuzione di 
.B batch
per Linux dipende dalla presenza di una directory 
di tipo
.IR proc 
montata su
.IR /proc .
.PP
Se il file 
.I /etc/utmp
non è disponibile o corrotto, o se l'utente non è collegato nel momento in cui
.B at
viene chiamato, la posta viene spedita allo userid trovato nella variabile d'ambiente
.BR LOGNAME .
Se quella è indefinita o vuota, viene assunto l'attuale userid.
.PP
.B At
e
.B batch
implementati al momento non sono adatti  quando gli utenti sono in competizione 
per le risorse.
Se questo è il vostro caso, potreste voler considerare un altro 
batch system, come 
.BR nqs .
.SH AUTORE
At è stato scritto per lo più da Thomas Koenig, ig25@rz.uni-karlsruhe.de.
Le routine sintattiche dell'ora  sono di David Parsons, orc@pell.chi.il.us.

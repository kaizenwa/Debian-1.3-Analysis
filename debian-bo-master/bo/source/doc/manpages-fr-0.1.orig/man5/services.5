.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1996 Austin Donnelly <and1000@cam.ac.uk>,
.\"  with additional material (c) 1995 Martin Schulze <joey@infodrom.north.de>
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\"   This manpage was made by merging two independently written manpages,
.\"   one written by Martin Schulze (18 Oct 95), the other written by
.\"   Austin Donnelly, (9 Jan 96).
.\"
.\" Thu Jan 11 12:14:41 1996 Austin Donnelly  <and1000@cam.ac.uk>
.\"   * Merged two services(5) manpages
.\"
.\" Traduction 18/10/1996 par Christophe Blaess (ccb@club-internet.fr)
.\"
.TH SERVICES 5 "18 Octobre 1996" Linux "Manuel de l'administrateur Linux"
.SH NOM
services \- Liste des services internet.
.SH DESCRIPTION
.B services
est un fichier de texte ASCII fournissant une correspondance entre un nom 
intelligible decrivant un service internet et l'ensemble 
numero de port / protocole utilise.

Chaque programme reseau devrait consulter ce fichier pour obtenir le numero de 
port et le protocole sous-jacent au service qu'il fournit.

Les numeros de ports sont affectes par le IANA (Internet Assigned Numbers
Authority), et leur politique actuelle consiste a assigner a la fois les
protocoles TCP et UDP a chaque numero de port.

Ainsi la plupart des services auront deux entrees, meme si elles n'utilisent
que le protocole TCP.

Les numeros de ports en\-dessous de 1024 ne peuvent etre assignes a une
socket que par un programme Super\-User (voir
.BR bind "(2), " tcp "(7), and " udp "(7).)"

C'est ainsi que les clients se connectant sur ces ports de petits numeros
peuvent etre surs que le service correspondant est une implementation
standard et non pas le bricolage d'un utilisateur.
Normalement les ports biens connus (well\-known) affectes par le IANA se
situent dans cet espace reserve au Super\-User.

La presence d'une ligne indiquant un service dans le fichier
.B services
ne signifie pas necessairement que le service en question est disponible
sur la machine. Voir
.BR inetd.conf "(5)"
pour la configuration des services Internet offerts. Notez que tous les
services reseau ne sont pas oligatoirement lances par
.BR inetd "(8), "
et n'apparaitront donc pas toujours dans
.BR inetd.conf "(5). "
En particulier les serveurs de News (NNTP) et de courrier (SMTP) sont souvent
initialises par le systeme dans les scripts de demarrage.

L'emplacement du fichier
.B services
est defini par la constante
.B _PATH_SERVICES
dans
.IR /usr/include/netdb.h "."
C'est generalement
.IR /etc/services .

Chaque ligne decrivant un service est de la forme
.IP
\f2service-name\ \ \ port\f3/\f2protocole\ \ \ \f1[\f2alias ...\f1]
.TP
where:
.TP 10
.I service-name
est le nom intelligible du service. La difference majscule/minuscule est
importante. Souvent le programme client possede un nom rappelant celui du
service.
.TP
.I port
est le numero de port (en decimal) utilise pour ce service.
.TP
.I protocol
est le type de protocole utilise, il doit s'agir d'un nom declare dans le 
fichier
.BR protocols "(5)."
Les protocoles les plus courants sont
.B tcp
et
.BR udp .
.TP
.I alias
est une liste eventuelle d'autres noms se referant au meme service, separes par
des espaces ou des tabulations (voir section BUGS plus bas).
Encore une fois, la difference majuscule/minuscule est importante.
.PP

Les differents champs sont separes par des espaces ou des tabulations.
Un signe # debute un commentaire, qui s'etendra jusqu'a la fin de la ligne.
Les lignes blanches sont ignorees.

Le champ
.I service-name
doit debuter a la premiere colonne du fichier, car les espaces en tete de ligne
ne sont pas elimines.

.I service-name
peut contenir n'importe quel caractere imprimable, sauf espace et tabulation.
Il est neanmoins deconseille d'utiliser d'autres caracteres que a\-z, 0\-9, et
le tiret (\-).

Les lignes ne se conformant pas a ce format sont ignorees silencieusement par
.BR getservent "(3), " getservbyname "(3), et " getservbyport "(3),"
mais ce comportement peut changer.

A titre de compatibilite avec les versions precedentes, le slash (/) entre le
numero de
.I port
et le nom du
.I protocole
peut etre egalement remplace par une virgule, mais c'est deconseille.

Ce fichier peut etre diffuse sur le reseau en utilisant des services comme
.BR "Yellow Pages/NIS" " ou " BIND/Hesiod .

.SH EXEMPLE
.nf
$ ls -l /etc/services
-rw-r--r--   1 root   root   3432 Feb 16  1996 /etc/services
$ cat /etc/services
   ...
netstat         15/tcp
qotd            17/tcp          quote
msp             18/tcp          # message send protocol
msp             18/udp          # message send protocol
chargen         19/tcp          ttytst source
chargen         19/udp          ttytst source
ftp             21/tcp
# 22 - unassigned
telnet          23/tcp
   ...
$
.fi
.SH BUGS
Il y a un maximum de 35 alias par service a cause des limitations de
.BR getservent "(3)."

Les lignes plus longues que
.B BUFSIZ
(actuellement 1024) sont ignorees par
.BR getservent "(3), " getservbyname "(3), et " getservbyport "(3)."
De plus la ligne suivante sera mal interpretee.
.SH FICHIERS
.TP
.I /etc/services
La liste des services internet.
.TP
.I /usr/include/netdb.h
Definition de 
.BR _PATH_SERVICES .
.SH "VOIR AUSSI"
.BR getservent (3),
.BR getservbyname (3),
.BR getservbyport (3),
.BR setservent (3),
.BR endservent (3),
.BR protocols (5),
.BR listen (2),
.BR inetd.conf (5),
.BR inetd (8).

RFC "Assigned Numbers", actuellement RFC 1700, (AKA STD0002)

Guide to Yellow Pages Service

Guide to BIND/Hesiod Service


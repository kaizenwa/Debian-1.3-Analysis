.\" nfs.5 "Rick Sladkey" <jrs@world.std.com>
.\" Wed Feb  8 12:52:42 1995, faith@cs.unc.edu: updates for Ross Biro's
.\" patches. "
.\"
.\" Traduction 17/10/1996 par Christophe Blaess (ccb@club-internet.fr)
.\"
.TH NFS 5 "17 Octobre 1996" Linux "Manuel de l'administrateur Linux"
.SH NOM
nfs \- Format et options de la fstab pour les entrees NFS.
.SH SYNOPSIS
.B /etc/fstab
.SH DESCRIPTION
Le fichier
.I fstab
contient les informations a propos des systemes de fichiers a monter, et des 
points de montage a utiliser.
Pour le montage d'un systeme de fichiers NFS,  il contient le nom du serveur 
et le repertoire exporte de ce serveur, ainsi que le repertoire local a 
utiliser comme point de montage. 
De plus il contient des options specifiques a NFS, pour controler la maniere 
de faire le montage.
.P
Voici un exemple extrait d'un fichier \fI/etc/fstab\fP concernant un 
montage NFS.
.sp
.nf
.ta 2.5i +0.75i +0.75i +1.0i
server:/usr/local/pub  /pub  nfs  rsize=8192,wsize=8192,timeo=14,intr
.fi
.DT
.SS Options
.TP 1.5i
.I rsize=n
Le nombre d'octets qu'NFS utilise lorsqu'il lit des fichiers depuis un serveur 
NFS.
La valeur par defaut, actuellement 1024 octets, depend du noyau.
Il est possible d'ameliorer les performances du trafic en utilisant 
.IR rsize=8192 .
.TP 1.5i
.I wsize=n
Le nombre d'octets qu'NFS utilise lorsqu'il ecrit des fichiers sur un serveur 
NFS.
La valeur par defaut, actuellement 1024 octets, depend du noyau.
Il est possible d'ameliorer les performances du trafic en utilisant 
.IR wsize=8192 .
.TP 1.5i
.I timeo=n
La valeur, en dixiemes de secondes, du delai avant de declencher la premiere 
retransmission d'une RPC.
La valeur par defaut est 7/10 de seconde. Apres une premiere expiration, le 
delai est double et l'on recommence les retransmissions jusqu'a ce que le 
delai atteigne la valeur maximale de 60 secondes, ou que le nombre maximal 
de retransmission soit depasse.
Il se produit alors une erreur d'expiration majeure de delai.
Si le systeme est monte "en dur", les retransmissions reprendront a nouveau 
indefiniment.

On peut ameliorer les performances en augmentant le delai sur un  reseau charge,
si le serveur est un peu lent, ou si l'on  traverse plusieurs routeurs ou 
passerelles.

.TP 1.5i
.I retrans=n
Le nombre d'expirations mineures et de retransmissions qui doivent se produire 
avant de declencher une expiration majeure.
La valeur par defaut est 3 expirations mineures.
Quand une erreur d'expiration majeure se produit, soit l'operation est 
abandonnee, soit un message "server not responding" est affiche sur la console.
.TP 1.5i
.I acregmin=n
Duree minimale (en seconde) pendant laquelle les attributs d'un fichier regulier
sont caches en memoire avant de reclamer des informations fraiches au serveur.
La valeur par defaut est 3 secondes.
.TP 1.5i
.I acregmax=n
Duree maximale (en seconde) pendant laquelle les attributs d'un fichier regulier
sont caches en memoire avant de reclamer des informations fraiches au serveur.
La valeur par defaut est 60 secondes.
.TP 1.5i
.I acdirmin=n
Duree minimale (en seconde) pendant laquelle les attributs d'un repertoire
sont caches en memoire avant de reclamer des informations fraiches au serveur.
La valeur par defaut est 30 secondes.
.TP 1.5i
.I acdirmax=n
Duree maximale (en seconde) pendant laquelle les attributs d'un repertoire
sont caches en memoire avant de reclamer des informations fraiches au serveur.
La valeur par defaut est 60 secondes.
.TP 1.5i
.I actimeo=n
L'utilisation de 
.I actimeo
place la meme valeur pour toutes les durees
.I acregmin,
.I acregmax,
.I acdirmin,
et
.IR acdirmax .
Il n'y a evidemment pas de valeur par defaut.
.TP 1.5i
.I retry=n
Nombre d'essais effectues pour un montage NFS en arriere-plan avant d'abandonner.
La valeur par defaut est 10 000 essais.
.TP 1.5i
.I namlen=n
Quand un serveur NFS ne supporte pas la version 2 du protocole RPC de montage,
cette option peut etre utilisee pour indiquer la longueur maximale des noms
de fichiers sur le systeme distant.
Ceci permet de supporter les fonctions POSIX pathconf.
La valeur par defaut est 255 caracteres.
.TP 1.5i
.I port=n
La valeur numerique du port utilise pour se connecter sur le serveur NFS.
Si cette valeur vaut zero (par defaut) alors on interroge le gestionnaire
de ports (portmapper) de l'hote distant pour connaitre le numero de port
a utiliser.
Si le demon NFS de l'hote distant n'est pas enregistre dans le gestionnaire
de ports, la valeur standard utilisee a la place pour le port NFS est 2049.
.TP 1.5i
.I mountport=n
La valeur numerique du port de
.BR mountd .
.TP 1.5i
.I mounthost=name
Le nom de l'hote ou s'execute
.BR mountd .
.TP 1.5i
.I mountprog=n
Utiliser un autre numero de programme RPC pour contacter le demon de montage
de l'hote distant. Cette option est utilise pour les hotes qui executent
simultanement plusieurs serveurs NFS.
La valeur par defaut est 100 005 qui est le numero standard de programme RPC
pour le demon de montage.
.TP 1.5i
.I mountvers=n
Utiliser un autre numero de version RPC pour contacter le demon de montage 
de l'hote distant. Cette option est utilise pour les hotes qui executent 
simultanement plusieurs serveurs NFS.
La valeur par defaut est 1.
.TP 1.5i
.I nfsprog=n
Utiliser un autre numero de programme RPC pour contacter le demon NFS
de l'hote distant. Cette option est utilise pour les hotes qui executent
simultanement plusieurs serveurs NFS.
La valeur par defaut est 100 003 qui est le numero standard de programme RPC
pour le demon NFS.
.TP 1.5i
.I nfsvers=n
Utiliser un autre numero de version RPC pour contacter le demon NFS
de l'hote distant. Cette option est utilise pour les hotes qui executent 
simultanement plusieurs serveurs NFS.
La valeur par defaut est 2.
.TP 1.5i
.I bg
Si le delai pour premier essai de montage expire, continuer a essayer le
montage en arriere-plan.
Le comportement par defaut est de ne pas continuer en arriere-plan, mais
d'echouer.
.TP 1.5i
.I fg
Si le delai pour le premier essai de montage expire, echouer immediatement.
C'est le comportement par defaut.
.TP 1.5i
.I soft
Si une operation sur un fichier NFS arrive a une expiration majeure de delai,
alors renvoyer une erreur au programme appelant.
L'attitude par defaut est de reessayer les operations sur les fichiers NFS
indefiniment.
.TP 1.5i
.I hard
Si une operation sur un fichier NFS arrive a une expiration majeure de delai,
alors afficher un message "server not responding" sur la console, et
reessayer indefiniment.
C'est l'attitude par defaut.
.TP 1.5i
.I intr
Si une operation sur fichier NFS obtient une expiration majeure de delai, et
s'il est monte en dur (hard), alors autoriser les signaux a interrompre 
l'operation, et lui faire retourner EINTR au programme appelant.
L'attitude par defaut est de ne pas permettre l'interruption des operations
sur les fichiers NFS par des signaux.
.TP 1.5i
.I posix
Monter le systeme de fichiers NFS en utilisant la semantique POSIX.
Ceci permet au systeme de fichiers de supporter correctement la commande POSIX
pathconf, en interrogeant le serveur a propos de la longueur maximale des noms
de fichiers.
Pour cela, l'hote distant doit supporter la version 2 du protocole RPC de
montage. Beaucoup de serveur NFS n'en supporte que la version 1.
.TP 1.5i
.I nocto
Ne pas recuperer les nouveaux attributs lors de la creation d'un 
fichier.
.TP 1.5i
.I noac
Desactiver toutes formes de cache en memoire pour les attributs. Ceci induit
une penalisation des performances du serveur, mais permet toutefois a deux 
clients NFS d'obtenir des resultats raisonnablement bons quand les deux clients
ecrivent sur le systeme de fichiers du serveur.
.TP 1.5i
.I tcp
Monter le systeme de fichiers NFS en utilisant le protocole TCP plutot que
UDP (par defaut). Beaucoup de serveurs NFS ne supporte que UDP.
.TP 1.5i
.I udp
Monter le systeme de fichiers en utilisant le protocole UDP. C'est l'attitude
par defaut.
.P
Toutes les options sans valeur disposent d'une option inverse de la forme
nooption. Par exemple 
.I nointr
indique de ne pas autoriser l'interruption des operations NFS par les signaux.
.SH FICHIERS
.I /etc/fstab
.SH "VOIR AUSSI"
.BR fstab "(5), " mount "(8), " umount "(8), " exports (5)
.SH AUTHOR
"Rick Sladkey" <jrs@world.std.com>
.SH BUGS
Les options 
.IR bg ", " fg ", " retry ", " posix " et " nocto
sont lues mais ignorees silencieusement au montage.
.P
Les options
.IR tcp ", et " namlen
sont implementee mais pas encore supportee par le noyau Linux (0.99.11). 
.P
La commande 
.B umount
devrait notifier le serveur que le systeme de fichiers NFS est demonte.

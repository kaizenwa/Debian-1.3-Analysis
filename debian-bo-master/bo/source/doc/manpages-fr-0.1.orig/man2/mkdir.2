.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1992 Drew Eckhardt;
.\"                               1993 Michael Haardt
.\"                               1993,1994 Ian Jackson.
.\" You may distribute it under the terms of the GNU General
.\" Public Licence. It comes with NO WARRANTY.
.\"
.\" 
.\" Traduction  10/10/1996 Christophe BLAESS (ccb@club-internet.fr)
.\" 
.TH MKDIR 2 "10 Octobre 1996" "Linux 1.0" "Manuel du programmeur Linux"
.SH NOM
mkdir \- Creer un repertoire.
.SH SYNOPSIS
.nf
.B #include <sys/types.h>
.B #include <fcntl.h>
.B #include <unistd.h>
.sp
.BI "int mkdir(const char *" pathname ", mode_t " mode );
.fi
.SH DESCRIPTION
.B mkdir
cree un nouveau repertoire nomme
.IR pathname .

.I mode
specifie les permissions a appliquer au repertoire. 
Cette valeur peut etre modifie par le
.BR umask
du processus : les permissions du repertoire effectivement cree 
vaudront
.BR "(mode & ~umask)" .

Le repertoire nouvellement cree aura pour proprietaire l'UID effectif
du processus. Si le repertoire au-dessus du nouveau repertoire a son
bit Set\-GID a 1, ou si le systeme de fichier est monte avec une
semantique de groupe BSD, le nouveau repertoire heritera de
l'appartenance au groupe de son parent. Sinon il appartiendra au
groupe correspondant au GID effectif du processus.

Si le repertoire parent a son bit Set\-GID a 1, le nouveau
repertoire aura aussi son bit Set\-GID a 1.

.SH "VALEUR RENVOYEE"
.BR mkdir
renvoie 0 s'il reussit, ou \-1 s'il echoue, auquel cas
.I errno
contient le code d'erreur.
.SH ERREURS
.TP
.B EEXIST
.I pathname
existe deja (pas necessairement un repertoire).
.TP
.B EFAULT
.IR pathname " pointe en\-dehors de l'espace d'adressage accessible."
.TP
.B EACCES
Le repertoire parent n'autorise pas l'ecriture au processus, ou l'un
des repertoires de
.IR pathname
n'autorise pas la consultation de son contenu.
.TP
.B ENAMETOOLONG
.IR pathname " trop long."
.TP
.B ENOENT
Un repertoire du chemin d'acces
.I pathname
n'existe pas ou est un lien symbolique pointant nulle part.
.TP
.B ENOTDIR
Un element utilise dans le chemin
.I pathname
n'est pas un repertoire.
.TP
.B ENOMEM
Pas assez de memoire pour le noyau.
.TP
.B EROFS
.I pathname
correspond a un fichier sur un systeme de fichier en lecture seule.
.TP
.B ELOOP
.I pathname
contient une reference circulaire (a travers un lien symbolique).
.TP
.B ENOSPC
Le peripherique contenant
.I pathname
n'a pas assez de place pour le nouveau repertoire. Cette erreur se
produit egalement si
le quota de disque de l'utilisateur est depasse.
.SH "VOIR AUSSI"
.BR read "(2), " write "(2), " fcntl "(2), " close (2),
.BR unlink "(2), " open "(2), " mknod "(2), " stat "(2), " umask (2),
.BR mount "(2), " socket "(2), " socket "(2), " fopen (3).

.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1992 Drew Eckhardt;
.\"                               1993 Michael Haardt, Ian Jackson.
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Traduction 15/10/1996 par Christophe Blaess (ccb@club-internet.fr)
.\"
.TH SYMLINK 2 "15 Octobre 1996" Linux "Manuel du programmeur Linux"
.SH NOM
symlink \- Creer un nouveau nom pour un fichier.
.SH SYNOPSIS
.B #include <unistd.h>
.sp
.BI "int symlink(const char *" oldpath ", const char *" newpath );
.SH DESCRIPTION
.B symlink
cree un lien symbolique nomme
.I oldpath
qui pointe sur
.IR newpath .

Les liens sont interpretes a l'execution, comme si au contenu du
lien se substituait le chemin d'acces pour trouver un fichier ou
un repertoire.

Les liens symboliques peuvent contenir les composants
.BR . " et " ..
pour le chemin, qui (s'ils sont utilises au debut du lien) se
referent au repertoire ou le lien reside et a son repertoire parent.

Un lien symbolique (aussi nomme soft link) peut pointer vers un fichier
existant ou sur un fichier non-existant.

Les permissions d'acces a un lien symbolique sont sans importance,
le prioprietaire est ignore lorsque l'on suit le lien, il n'est
verifie que pour supprimer ou renommer le lien si celui si se
trouve dans un repertoire avec le Sticky\-Bit positionne.

Si
.I newpath
existe il ne sera 
.I pas
ecrase.
.SH "VALEUR RENVOYEE"
.B symlink
renvoie zero s'il reussit ou \-1 s'il echoue auquel cas
.I errno
contient le code d'erreur.
.SH ERREURS
.TP 0.8i
.B EPERM
le systeme de fichier contenant
.IR pathname
ne permet pas la creation de liens symboliques.
.TP
.B EFAULT
.IR oldpath " ou " newpath " pointent en dehors de l'espace d'adressage accessible."
.TP
.B EACCES
L'ecriture dans le repertoire
.I newpath
pour l'UID effectif du processus, ou l'un des repertoire composant
.IR newpath
ne permet pas l'execution.
.TP
.B ENAMETOOLONG
.IR oldpath " ou " newpath " est trop long."
.TP
.B ENOENT
Un repertoire dans le chemin
.I newpath
n'existe pas ou est un lien symbolique pointant nulle part. Ou encore
.I oldpath
est une chaine vide.
.TP
.B ENOTDIR
Un composant du chemin d'acces
.IR newpath
n'est pas un repertoire.
.TP
.B ENOMEM
Pas assez de memoire pour le noyau.
.TP
.B EROFS
Le fichier est sur n systeme de fichiers en lecture seule.
.TP
.B EEXIST
.I newpath
existe deja.
.TP
.B ELOOP
.IR newpath
contient une reference circuulaire (a travers un lien symbolique).
.TP
.B ENOSPC
Le peripherique n'a plus assez de place pour une entree de repertoire.
.SH NOTES
Il n'y a pas de verification de
.I oldpath.

Effacer le nom referencant un lien symbolique effacera effectivement
le fichier (a moins qu'il ait d'autres liens materiels). Si ce 
comportement est indesirable, utiliser
.BR link .
.SH "CONFORME A"
SVID, AT&T, POSIX, BSD 4.3
.SH BUGS
Voir
.BR open (2)
concernant les multiples fichiers avec le meme nom, et NFS.
.SH "VOIR AUSSI"
.BR link "(2), " unlink "(2), " rename "(2), " open (2),
.BR lstat "(2), " ln "(1), " link (8).

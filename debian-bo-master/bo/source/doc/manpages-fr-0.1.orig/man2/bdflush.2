.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright (c) 1995 Michael Chastain (mec@shell.portal.com), 15 April 1995.
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Traduction 16/10/1996 par Christophe Blaess (ccb@club-internet.fr)
.\"
.TH BDFLUSH 2 "16 Octobre 1996" "Linux 1.2.4" "Manuel du programmeur Linux"
.SH NAME
bdflush \- Demarrer, vider, ajuster le demon buffer-dirty-flush.
.SH SYNOPSIS
.nf
.BI "int bdflush(int"  " func, " "long *" "address);"
.BI "int bdflush(int"  " func, " "long" " data);"
.fi
.SH DESCRIPTION

.B bdflush
demarre, vide ou ajuste le demon bdflush (buffer-dirty-flush).
Seul le Super\-User peut appeler
.BR bdflush .
.PP
Si
.I func
est negatif ou nulle, et si aucun demon n'a demarre, alors
.B bdflush
bascule en fonctionnement demon, et ne revient pas.
.PP
Si
.I func
vaut 1,
les buffers remplis sont ecrits sur le disque.
.PP
Si
.I func
vaut 2 ou plus et est paire (bit poid faible a 0), alors
.I address
correspond a l'adresse d'un mot long et le parametre numero
.RI "(" "func" "\-2)/2"
est renvoye a cette adresse.
.PP
Si
.I func
vaut 3 ou plus et est impair (bit poid faible a 1), alors
.I data
est un mot long et le noyau ecrit cette valeur dans le parametre numero
.RI "(" "func" "\-3)/2" .
.PP
Le jeu de parametres, leurs valeurs, et leurs intervalles
legaux sont definis dans les sources du noyau, dans le
fichier
.IR fs/buffer.c .
.SH "VALEUR RENVOYEE"
Si
.I func
est negative ou nulle, et si le demon demarre correctement,
.B bdflush
ne revient pas.
Autrement la valeur renvoyee vaut 0 si la fonction reussit et
\-1 si elle echoue auquel cas
.I errno
contient le code d'erreur.
.SH ERREURS
.TP 0.8i
.B EPERM
L'appelant n'est pas le Super\-User.
.TP
.B EFAULT
.I address
pointe en dehors de l'espace d'adressage accessible.
.TP
.B EBUSY
On tente d'executer le code du demon apres qu'un autre
processus l'ait deja demarre.
.TP
.B EINVAL
Numero de parametre invalide, ou ecriture d'une valeur
invalide dans le parametre.
.SH BUGS

La traduction de cette page de manuel est un peu approximative, 
l'utilisation de cet appel systeme n'est pas tres claire
pour moi. Il faudrait qu'une personne familiarisee avec
.B bdflush
la reprenne.

.SH "VOIR AUSSI"
.BR fsync (2),
.BR sync (2),
.BR update (8),
.BR sync (8).

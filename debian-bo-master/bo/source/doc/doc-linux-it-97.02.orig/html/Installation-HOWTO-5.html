<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Draft//EN">
<HTML>
<HEAD>
<TITLE>Linux Installation HOWTO: Installazione in dettaglio</TITLE>
</HEAD>
<BODY>
<A HREF="Installation-HOWTO-4.html">Precedente</A>
<A HREF="Installation-HOWTO-6.html">Successivo</A>
<A HREF="Installation-HOWTO.html#toc5">Indice</A>
<HR>
<H2><A NAME="s5">5. Installazione in dettaglio</A></H2>

<P>
<P>
<H2><A NAME="ss5.1">5.1 Prepararsi per l'installazione</A></H2>

<P>Linux usa l'hardware del PC in modo pi&ugrave; efficiente di MS-DOS, Windows
o NT, ed &egrave; quindi meno tollerante nei confronti di dispositivi
configurati male. Per diminuire le possibilit&agrave; di essere interrotti
da questo problema, ci sono alcune cose che si possono fare prima
di iniziare.
<P>Primo, raccogliere tutti i manuali relativi all'hardware -- scheda
madre, scheda video, monitor, modem, ecc. -- e tenerli a portata
di mano.
<P>Secondo, raccogliere informazioni dettagliate sulla propria
configurazione hardware. Un modo semplice per farlo, se usate
MS-DOS 5.0 o superiore, &egrave; di stampare il resoconto della utility
diagnostica Microsoft chiamata msd.exe (si possono ignorare
le parti riguardanti i TSR, i driver, la mappa di memoria, le variabili
d'ambiente e la versione del sistema). Questo, inoltre,
garantir&agrave; informazioni complete ed esatte sulla scheda video
e sul tipo di mouse, informazioni che saranno utili in seguito per
configurare X.
<P>Terzo, controllare che l'hardware, anche se supportato,
non abbia problemi di configurazione che possano causare
blocchi irrimediabili durante l'installazione di Linux.
<P>
<UL>
<LI> &Egrave; possibile che un sistema DOS/Windows dotato di disco rigido
e CD-ROM IDE funzioni bene anche se i jumper master/slave dei drive
sono impostati male. Linux non perdoner&agrave; una cosa del genere.
In caso di dubbio, controllate i jumper.
</LI>
<LI> Avete periferiche concepite senza jumper di configurazione
e senza memoria non volatile? In tal caso, perch&eacute; esse funzionino,
&egrave; possibile che debbano essere configurate all'avvio con una
utility MS-DOS, e pu&ograve; darsi che non siano facilmente accessibili
da Linux. CD-ROM, schede audio, schede Ethernet e unit&agrave; a nastro
economiche possono avere questo problema. In questo caso si pu&ograve;
riuscire ad aggirare il problema con un argomento passato al prompt
di avvio; per maggiori dettagli, consultare il
<EM>Linux Boot Prompt HOWTO</EM>,
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html">http://sunsite.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html</A>.
</LI>
<LI> Alcuni sistemi operativi consentono a un mouse su bus
di condividere una linea d'interrupt con altri dispositivi,
Linux no; un tentativo del genere pu&ograve; infatti bloccare
il computer. Se usate un bus mouse, leggete il
<EM>Linux Bus Mouse HOWTO</EM>, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/Busmouse-HOWTO.html">http://sunsite.unc.edu/mdw/HOWTO/Busmouse-HOWTO.html</A>,
per maggiori dettagli.</LI>
</UL>
<P>Se possibile, procuratevi il numero di telefono di un utente
Linux esperto che potrete chiamare in caso di emergenza. 
Nove volte su dieci non ne avrete bisogno, ma &egrave; rassicurante
averlo.
<P>Mettete in conto un po' di tempo per l'installazione. Ci vorr&agrave; circa
un'ora su un sistema nuovo o su un sistema che si sta convertendo
integralmente a Linux, fino a tre ore per un sistema dual-boot
(ci sono molte pi&ugrave; possibilit&agrave; di false partenze e di inchiodamenti).
<P>

<H2><A NAME="ss5.2">5.2 Creazione dei dischetti di avvio e di root</A></H2>

<P>Il vostro CD-ROM Linux pu&ograve; includere alcuni aiuti all'installazione
che vi guideranno durante il processo di creazione dei dischetti
di avvio, di root e di recupero con scelte guidate interattive. 
Tali strumenti possono essere un programma di installazione MS-DOS
(come nel caso del programma <CODE>redhat.exe</CODE> della Red Hat) o
uno script UNIX, o entrambi.
<P>Se disponete di un programma del genere e potete usarlo, dovreste
leggere il resto di questa sottosezione a scopo puramente informativo.
Lanciate quel programma per eseguire l'installazione: i suoi
autori conoscono la specifica distribuzione certamente meglio di me,
ed eviterete molte immissioni manuali di dati, facilmente soggette
ad errori.
<P>Per informazioni pi&ugrave; dettagliate sulla creazione dei dischi
di avvio e di root, vedere il <EM>Linux Bootdisk HOWTO</EM>, su 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/Bootdisk-HOWTO.html">http://sunsite.unc.edu/mdw/HOWTO/Bootdisk-HOWTO.html</A>.
<P>Il primo passo consister&agrave; nello scegliere l'immagine di un disco
d'avvio adatto al proprio hardware. Se questo va fatto a mano
vedrete in genere che o (a) le immagini dei dischi di avvio sul
CD-ROM sono chiamate in un modo che aiuta a selezionare quello
giusto, o (b) c'&egrave; un file di indice a portata di mano che descrive
ogni immagine.
<P>In seguito bisogner&agrave; creare dei dischetti a partire dall'immagine
del disco d'avvio che si &egrave; scelta e dalle immagini del disco di root
e di recupero. &Egrave; qui che entra in gioco il programma MS-DOS
RAWRITE.EXE.
<P>Dovete avere due o tre dischetti ad <EM>alta densit&agrave;</EM> formattati
(devono essere dello stesso tipo; ovvero, se il vostro drive
di avvio &egrave; da 3.5&quot;, entrambi i dischetti devono essere
da 3.5&quot; e ad alta densit&agrave;). Userete RAWRITE.EXE per scrivere
su dischetto le immagini del disco di avvio e di root. 
<P>Lanciate il programma senza argomenti, in questo modo:
<P>
<BLOCKQUOTE><CODE>
C:\> RAWRITE
</CODE></BLOCKQUOTE>
<P>Rispondete alla richiesta del nome del file da scrivere e del
drive su cui scriverlo (come <CODE>A:</CODE>). RAWRITE copier&agrave; il file,
blocco per blocco, direttamente sul dischetto. Usate RAWRITE
anche per l'immagine del disco di root (come COLOR144). Quando
avrete terminato, avrete due dischetti: uno contenente il disco d'avvio
e l'altro contenente il disco di root. Notare che questi due dischi
non saranno pi&ugrave; leggibili da MS-DOS (sono in ``formato Linux'',
in un certo senso). 
<P>Su un sistema UNIX si pu&ograve; usare il comando dd(1) per fare
la stessa cosa (per questo c'&egrave; bisogno di una workstation UNIX
con un drive per floppy, naturalmente). Ad esempio, su una
workstation Sun con il drive sul device <EM>/dev/rfd0</EM>
si pu&ograve; usare il comando:
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ dd if=bare of=/dev/rfd0 obs=18k
</PRE>
</CODE></BLOCKQUOTE>
<P>Su alcune workstation bisogna specificare l'appropriata
dimensione del blocco di output, o questo non funzioner&agrave;.
Se avete problemi la pagina di manuale di dd(1) pu&ograve; essere
istruttiva.
<P>Assicuratevi di usare dischetti nuovi e senza difetti.
I dischetti non devono avere settori danneggiati.
<P>Notare che non c'&egrave; bisogno di usare Linux o MS-DOS per installare
Linux. In ogni caso, usare Linux o MS-DOS rende pi&ugrave; semplice
la creazione dei dischetti di avvio e di root dal CD-ROM.
Se non c'&egrave; alcun sistema operativo sul vostro computer,
potete usare il Linux o l'MS-DOS di qualcun altro per
creare i dischetti, e installare da l&igrave;.
<P>

<H2><A NAME="ss5.3">5.3 Ripartizionamento dei drive DOS/Windows</A></H2>

<P>Nella maggior parte dei sistemi in uso il disco rigido &egrave; gi&agrave;
dedicato a partizioni per MS-DOS, OS/2 e via dicendo. Bisogner&agrave;
ridimensionare queste partizioni per far posto a Linux.
Se avete intenzione di usare un sistema dual-boot, &egrave; caldamente
consigliata la lettura di uno o pi&ugrave; dei seguenti mini-HOWTO, che
descrivono varie configurazioni dual-boot.
<P>
<UL>
<LI> Linux+DOS+Win95 mini-HOWTO, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+DOS+Win95">http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+DOS+Win95</A>.
</LI>
<LI> Linux+OS2+DOS mini-HOWTO, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+OS2+DOS">http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+OS2+DOS</A>.
</LI>
<LI> DOS-Win95-OS2-Linux mini-HOWTO, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+DOS+Win95+OS2">http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+DOS+Win95+OS2</A>.
</LI>
<LI> Linux+Win95 mini-HOWTO, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+Win95">http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+Win95</A>
</LI>
<LI> Linux+WinNT mini-HOWTO, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+WinNT">http://sunsite.unc.edu/mdw/HOWTO/mini/Linux+WinNT</A></LI>
</UL>
<P>Anche se non sono direttamente applicabili al vostro sistema,
vi aiuteranno a capire gli elementi in gioco. 
<P><B>NOTA:</B> Alcuni Linux si installano su una directory della propria
partizione MS-DOS (&egrave; diverso rispetto a installare DA una partizione
MS-DOS). Essi fanno uso del ``filesystem UMSDOS'', che consente
di trattare una directory della propria partizione MS-DOS
come un filesystem Linux. In questo modo non c'&egrave; bisogno di
ripartizionare il disco.
<P>Consiglio di usare questo metodo solo se il disco rigido ha gi&agrave;
quattro partizioni primarie e se ripartizionarlo sarebbe
troppo problematico. Altrimenti, se volete provare Linux prima
di ripartizionare, questo &egrave; un buon metodo per farlo.
Tuttavia, nella maggioranza dei casi si dovrebbe ripartizionare
nel modo qui descritto. Se volete usare UMSDOS, siete da soli --
qui non &egrave; documentato in dettaglio. D'ora in poi assumeremo
che NON vogliate usare UMSDOS e che vogliate ripartizionare il disco.
<P>Una <EM>partizione</EM> &egrave; semplicemente una zona del disco rigido
messa da parte per essere usata da un particolare sistema operativo.
Se avete solo MS-DOS installato, il vostro disco fisso ha probabilmente
una sola partizione, interamente per MS-DOS. Per usare Linux, per&ograve;,
dovrete ripartizionare il disco, in modo da avere una partizione
per MS-DOS e una (o pi&ugrave;) per Linux.
<P>Esistono tre tipi di partizioni: <EM>primaria</EM>, <EM>estesa</EM>
e <EM>logica</EM>. In breve, una partizione primaria &egrave; una delle
quattro possibili partizioni principali del disco. Se volete avere
pi&ugrave; di quattro partizioni per disco, avete bisogno di creare una
partizione estesa, che pu&ograve; contenere molte partizioni logiche.
I dati non vengono immagazzinati direttamente su una partizione
estesa -- essa &egrave; usata solo come contenitore per le partizioni
logiche. I dati vengono memorizzati solo sulle partizioni primarie
o logiche.
<P>Per dirla in altre parole, la maggioranza delle persone
usa solo partizioni primarie. Comunque, se avete bisogno
di pi&ugrave; di quattro partizioni su un disco, create una partizione
estesa. Delle partizioni logiche sono poi create su questa partizione
estesa, ed ecco fatto: pi&ugrave; di quattro partizioni per disco.
<P>Notare che si pu&ograve; facilmente installare Linux sul secondo disco
del proprio sistema (chiamato <CODE>D:</CODE> sotto MS-DOS). Si specifica
semplicemente l'appropriato nome di device quando si creano le
partizioni Linux. Questo &egrave; descritto dettagliatamente in seguito. 
<P>Torniamo al ripartizionamento del disco: il problema di
ridimensionare le partizioni &egrave; che non c'&egrave; modo di farlo
(facilmente) seza cancellare i dati che risiedono in quelle partizioni.
Quindi avrete bisogno di fare un backup completo del sistema
prima di ripartizionare. Per cambiare la dimensione di una
partizione, la si cancella semplicemente e la si ricrea
pi&ugrave; piccola.
<P><B>NOTA:</B> Esiste un programma di ripartizionamento non distruttivo
per MS-DOS, chiamato FIPS. Guardate su 
<A HREF="http://sunsite.unc.edu/pub/Linux/system/Install">http://sunsite.unc.edu/pub/Linux/system/Install</A>. Con FIPS,
un deframmentatore di dischi (come Norton Speed Disk) e un po'
di fortuna, dovreste essere in grado di ridimensionare le partizioni
MS-DOS senza distruggere i dati che contengono. &Egrave; sempre consigliato
fare un backup completo prima di tentare.
<P>Se non usate FIPS, comunque, il modo classico per modificare
le partizioni &egrave; con il programma FDISK. Per esempio, supponiamo
che abbiate un disco rigido da 80 Mb dedicato a MS-DOS. Volete
dividerlo in due: 40 Mb per MS-DOS e 40Mb per Linux. Per far questo,
lanciate FDISK sotto MS-DOS, cancellate la partizione DOS da 80 Mb
e ricreate al suo posto una partizione DOS da 40 Mb. Potete poi
formattare la nuova partizione e reinstallare il vostro software
MS-DOS dalla copia di backup. 40 Mb del disco sono rimasti vuoti.
In seguito creerete le partizioni Linux sulla porzione non usata
del disco.
<P>In breve, dovreste fare quanto segue per ridimensionare una
partizione MS-DOS con FDISK:
<P>
<OL>
<LI>Fare una copia di backup completa del sistema.</LI>
<LI>Creare un dischetto MS-DOS avviabile, usando un comando come
<BLOCKQUOTE><CODE>
FORMAT /S A:
</CODE></BLOCKQUOTE>
</LI>
<LI>Copiare i file <CODE>FDISK.EXE</CODE> e <CODE>FORMAT.COM</CODE> su questo dischetto,
insieme ad ogni altra utility di cui avete bisogno (ad esempio delle
utility per recuperare il sistema dal backup).</LI>
<LI> Avviare il sistema con il dischetto DOS.</LI>
<LI> Lanciare FDISK, possibilmente specificando l'unit&agrave; da modificare
(come <CODE>C:</CODE> o <CODE>D:</CODE>).</LI>
<LI> Usare le opzioni di men&ugrave; di FDISK per cancellare le partizioni
che volete ridimensionare. <B>Questo distrugger&agrave; tutti i dati
contenuti nelle partizioni coinvolte.</B></LI>
<LI> Usare le opzioni di men&ugrave; di FDISK per ricreare quelle partizioni,
con dimensioni pi&ugrave; piccole.</LI>
<LI> Uscire da FDISK e riformattare le nuove partizioni
con il comando <CODE>FORMAT</CODE>.</LI>
<LI> Recuperare i file originali dal backup.</LI>
</OL>
<P>Si noti che il programma FDISK di MS-DOS vi dar&agrave; la possibilit&agrave;
di creare una ``unit&agrave; logica DOS''. Un'unit&agrave; logica DOS &egrave;
semplicemente una partizione logica sul disco rigido. Linux pu&ograve;
essere installato su una partizione logica, ma non &egrave; consigliabile
crearla con l'FDISK di MS-DOS. Quindi, se si usa un'unit&agrave; logica
DOS e si vuole installare Linux al suo posto, la si dovrebbe
cancellare con l'FDISK di MS-DOS e poi si dovrebbe creare al suo posto
una partizione logica Linux.
<P>La tecnica di ripartizionamento che si usa per OS/2 e per altri
sistemi operativi &egrave; simile. Per i dettagli, consultare la
documentazione di quei sistemi.
<P>

<H2><A NAME="ss5.4">5.4 Creare le partizioni per Linux</A></H2>

<P>Dopo aver ripartizionato il disco rigido dovrete creare delle
partizioni per Linux. Prima di descrivere come si procede,
discuteremo di partizioni e di filesystem sotto Linux.
<P>
<H3>Nozioni si base sulle partizioni </H3>

<P>Linux ha bisogno di almeno una partizione per il filesystem
<EM>root</EM>, che conterr&agrave; il kernel e i programmi di Linux.
<P>Un <EM>filesystem</EM> pu&ograve; essere immaginato come una partizione
formattata per Linux. I filesystem sevono a contenere file.
Ogni sistema deve avere almeno un filesystem di root; tuttavia
molti utenti preferiscono usare pi&ugrave; filesystem --- uno per ogni
componente principale dell'albero delle directory. Ad esempio,
si potrebbe voler creare un filesystem separato che contiene
tutti i file della directory <CODE>/usr</CODE> (si noti che nei
sistemi UNIX si usa il carattere `/' per delimitare le directory,
non il carattere `\' come in MS-DOS); in questo caso si avrebbero
sia un filesystem di root che un filesystem <CODE>/usr</CODE>.
<P>Ogni filesystem richiede una sua partizione; quindi, se volete
usare il filesystem di root e un filesystem <CODE>/usr</CODE>,
avrete bisogno di creare due partizioni Linux.
<P>Inoltre, la maggior parte degli utenti crea una partizione di
<EM>swap</EM>, che viene usata per la memoria virtuale. Se avete,
ad esempio, 4 Mb di RAM e 10 Mb di partizione di swap, per quanto
riguarda Linux avete 14 Mb di memoria virtuale.
<P>Quando la partizione di swap &egrave; in uso, Linux trasferisce su disco
le pagine di memoria inutilizzate, consentendo di far girare
simultaneamente altre applicazioni. Tuttavia, poich&eacute; lo <EM>swapping</EM>
&egrave; spesso lento, non pu&ograve; sostituire la vera memoria fisica; alcune
applicazioni che richiedono grandi quantit&agrave; di memoria (come il
sistema X&nbspWindow) si affidano per&ograve; spesso allo spazio di swap,
se non c'&egrave; abbastanza RAM fisica.
<P>Quasi tutti gli utenti Linux usano una partizione di swap.
Se avete 4 Mb di RAM o meno, una tale partizione &egrave; necessaria
per installare il sistema. &Egrave; caldamente consigliato avere
una partizione di swap in ogni caso, a meno che non si abbia
una grande quantit&agrave; di RAM fisica.
<P>La dimensione della partizione di swap dipende dalla quantit&agrave;
di memoria virtuale di cui si ha bisogno. Spesso si consiglia
di avere almeno 16 Mb di memoria virtuale totale. Quindi, se
si hanno 8 Mb di RAM fisica, potreste creare una partizione
di swap da 8 Mb. Si noti che le partizioni di swap non possono
essere pi&ugrave; grandi di 128 Mb; quindi, se servono pi&ugrave; di 128 Mb
di swap, si dovranno creare pi&ugrave; partizioni di swap.  Si possono
avere fino a 16 partizioni di swap.
<P>Ulteriori informazioni sulla teoria dello spazio di swap 
e sul partizionamento si possono trovare nel
<EM> Linux Partition Mini-HOWTO</EM>
(
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Partition">http://sunsite.unc.edu/mdw/HOWTO/mini/Partition</A>).
<P>Nota: su un sistema dual-boot &egrave; possibile, anche se un po' macchinoso,
condividere le partizioni di swap fra Linux e Windows 95.
Per i dettagli, consultare il <EM>Linux Swap Space Mini-HOWTO</EM>,
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Swap-Space">http://sunsite.unc.edu/mdw/HOWTO/mini/Swap-Space</A>. 
<P>Caveat #1: se avete un disco EIDE con una partizione che supera 
i 504 Mb, &egrave; possibile che il BIOS non consenta di avviare un sistema
Linux l&agrave; installato; quindi tenete la partizione di root al di sotto
dei 504 Mb. Questo problema non dovrebbe presentarsi con le unit&agrave;
SCSI, che normalmente hanno un loro BIOS in firmware. Per i dettagli
tecnici, vedere il <EM>Large Disk Mini-HOWTO</EM>, 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Large-Disk">http://sunsite.unc.edu/mdw/HOWTO/mini/Large-Disk</A>.
<P>Caveat #2: Usate dischi IDE e SCSI insieme? Allora state attenti:
&egrave; possibile che il BIOS non vi consenta di avviare il sistema
da un'unit&agrave; SCSI.
<P>
<H3>Dimensionamento delle partizioni</H3>

<P>Oltre alle partizioni di root e di swap, vorrete configurare
una o pi&ugrave; partizioni per ospitare i programmi e le directory
degli utenti.
<P>Anche se in teoria si potrebbe mettere tutto in un'unica enorme
partizione, quasi nessuno fa cos&igrave;. Avere pi&ugrave; partizioni ha
parecchi vantaggi:
<P>
<UL>
<LI> Spesso riduce il tempo necessario per il controllo dei
filesystem all'avvio.
</LI>
<LI> I file non possono superare i limiti di una partizione,
quindi si possono usare tali limiti come protezione contro
programmi che (come i server news) tendono ad usare enormi
quantit&agrave; di spazio su disco; si impedisce cos&igrave; che tali programmi
riempano lo spazio di cui hanno bisogno il kernel e le altre
applicazioni.
</LI>
<LI> In caso si crei una zona danneggiata sul disco,
formattare e recuperare una singola partizione &egrave; meno
doloroso che dover rifare tutto da zero.</LI>
</UL>
<P>Sui grandi dischi di oggi una buona configurazione di base
consiste in una piccola partizione di root (meno di 80 Mb),
una partizione <CODE>/usr</CODE> di medie dimensioni (fino a 300 Mb circa)
per il software di sistema, e una partizione <CODE>/home</CODE> che occupa
il resto dello spazio disponibile, per le directory degli utenti.
<P>Si pu&ograve; essere pi&ugrave; elaborati. Se sapete che il sistema gestir&agrave;
le news USENET, ad esempio, potete creare una partizione dedicata
per limitare l'utilizzo massimo di spazio su disco. Potete anche
creare una partizione <CODE>/var</CODE> per la tutta la posta,
le news e i file temporanei. In questa epoca di dischi rigidi
molto grandi ed economici queste complicazioni sembrano per&ograve;
sempre meno necessarie per una prima installazione di Linux.
Specialmente se &egrave; la prima volta, mantenete tutto semplice.
<P>

<H2><A NAME="ss5.5">5.5 Avvio del disco di installazione</A></H2>

<P>Il primo passo consiste nel far partire il sistema con il disco
di avvio creato in precedenza. In genere dovreste poter avviare
il sistema senza toccare la tastiera: il prompt di avvio del kernel
si riempir&agrave; da solo dopo 10 secondi. Tuttavia aggiungendo degli
argomenti dopo il nome del kernel potete specificare, prima dell'avvio
del kernel, diversi parametri hardware, come l'indirizzo e la linea
di interrupt del controller SCSI o la geometria di un disco.
Questo &egrave; necessario, ad esempio, se Linux non riconosce il controller
SCSI o la geometria del disco rigido.
<P>In particolare, molti controller SCSI privi di BIOS esigono che
si specifichi all'avvio il loro indirizzo e la linea di interrupt.
Analogamente, i computer IBM PS/1, ThinkPad e ValuePoint non
memorizzano su CMOS la geometria del disco rigido ed &egrave; quindi
necessario specificarla all'avvio (in seguito potrete configurare
il sistema in modo che questi parametri vengano impostati
automaticamente).
<P>Prestate attenzione ai messaggi che il sistema mostra durante l'avvio;
essi elencano e descrivono i componenti hardware individuati
dal kernel. In particolare, se avete un controller SCSI,
dovreste vedere un elenco dei dispositivi SCSI rilevati.
Se vedete il messaggio
<P>
<BLOCKQUOTE><CODE>
<PRE>
SCSI: 0 hosts
</PRE>
</CODE></BLOCKQUOTE>
<P>significa che il vostro controller SCSI non &egrave; stato individuato 
e dovrete trovare qualche modo per dire al kernel dove si trova.
<P>Inoltre il sistema visualizza informazioni sui dischi rigidi
e sulle loro partizioni. Se alcune di queste informazioni sono
inesatte o mancanti dovrete forzare la rilevazione del dispositivo.
<P>Se invece va tutto bene e sembra che tutti i dispositivi hardware
vengano riconosciuti, potete saltare alla sezione seguente,
``Caricare il disco di root''.
<P>Per forzare la rilevazione di un dispositivo si devono immettere
dei parametri appropriati al prompt di avvio, usando la seguente
sintassi:
<P>
<BLOCKQUOTE><CODE>
<PRE>
linux &lt;parametri...&gt;
</PRE>
</CODE></BLOCKQUOTE>
<P>Esistono molti di questi parametri; qui sotto elenchiamo alcuni
dei pi&ugrave; comuni. I moderni dischi di avvio danno spesso
la possibilit&agrave; di leggere una schermata di aiuto che descrive
i parametri del kernel.
<P>
<UL>
<LI><EM>hd=cylinders,heads,sectors</EM> Specifica la geometria
del disco. &Egrave; necessario per sistemi come IBM PS/1, ValuePoint
e ThinkPad. Ad esempio, se il disco ha 683 cilindri,
16 testine e 32 settori per traccia, bisogna immettere

<BLOCKQUOTE><CODE>
<PRE>
linux hd=683,16,32
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI><EM>tmc8xx=memaddr,irq</EM> Specifica l'indirizzo e la linea
di interrupt dei controller SCSI Future Domain TMC-8xx, che sono
privi di BIOS. Ad esempio,

<BLOCKQUOTE><CODE>
<PRE>
linux tmc8xx=0xca000,5
</PRE>
</CODE></BLOCKQUOTE>


Si noti che il prefisso <EM>0x</EM> va usato per tutti
i numeri espressi in esadecimale. Questo vale per tutte le
opzioni seguenti.
</LI>
<LI><EM>st0x=memaddr,irq</EM> Specifica l'indirizzo e la linea
di interrupt del controller Seagate ST02.
</LI>
<LI><EM>t128=memaddr,irq</EM> Specifica l'indirizzo e la linea
di interrupt del controller Trantor T128B.
</LI>
<LI><EM>ncr5380=port,irq,dma</EM> Specifica l'indirizzo,
la linea di interrupt e il canale DMA di un generico controller
NCR5380.
</LI>
<LI><EM>aha152x=port,irq,scsi_id,1</EM> Specifica l'indirizzo,
la linea di interrupt e il numero di dispositivo SCSI dei
controller AIC-6260. Sono inclusi gli Adaptec 1510, 152x
e i controller SCSI su Soundblaster.</LI>
</UL>
<P>Se avete domande su queste opzioni di avvio, leggete il
<EM>Linux SCSI-HOWTO</EM>, che dovrebbe essere disponibile
su qualunque sito FTP dedicato a Linux (o nel posto dove avete
preso questo documento). Il <EM>Linux SCSI-HOWTO</EM> spiega
molto pi&ugrave; in dettaglio le questioni di compatibilit&agrave; SCSI.
<P>

<H2><A NAME="ss5.6">5.6 Uso del disco di root</A></H2>

<P>
<P>Dopo che avrete avviato il sistema con il disco di avvio,
vi sar&agrave; chiesto di inserire il disco (o i dischi) di root. 
A questo punto dovreste togliere il disco di avvio dal drive
e inserire il disco di root. Poi premete <EM>enter</EM> per proseguire.
Potreste dover caricare un secondo disco di root.
<P>Quello che sta realmente accadendo &egrave; questo: il disco di avvio
contiene un sistema operativo in miniatura che, poich&eacute; il disco
rigido non &egrave; ancora pronto, usa un blocco di memoria come disco
virtuale (chiamato `ramdisk', logicamente).
<P>Il disco di root trasferisce sul ramdisk un piccolo insieme di file
e di strumenti di installazione, che verranno poi usati per preparare
il disco rigido ed installare da CD-ROM un sistema Linux utilizzabile.
<P>
<H3>Scegliere l'installazione EGA o l'installazione sotto X</H3>

<P>A questo punto le distribuzioni Linux pi&ugrave; vecchie (inclusa la
Slackware) vi fornivano una shell e richiedevano che
inseriste manualmente i comandi di installazione, secondo una
determinata sequenza. Questo &egrave; ancora possibile, ma le nuove
distribuzioni si installano avviando un programma grafico
che tenta di condurvi interattivamente lungo questo percorso,
fornendovi molti aiuti.
<P>Probabilmente avrete la possibilit&agrave; di configurare subito X,
in modo che il programma di installazione possa passare
in modalit&agrave; grafica. Se scegliete questa strada, il programma
di installazione vi chieder&agrave; informazioni sul vostro mouse
e sul vostro monitor prima di procedere all'installazione
vera e propria. Appena il sistema Linux sar&agrave; pronto questi
dati verrano salvati per vostro conto. Potrete ottimizzare
le prestazioni del monitor pi&ugrave; tardi, quindi a questo stadio
basta avere una semplice modalit&agrave; SVGA a 640x480.
<P>X non &egrave; necessario per l'installazione, ma molti trovano l'interfaccia
grafica pi&ugrave; semplice da usare, sempre che riusciate a superare
la fase di configurazione del mouse e del monitor. E in ogni caso
vorrete presto usare X, quindi ha senso provarlo subito.
<P>Seguite le indicazioni del programma di installazione. Vi condurr&agrave;
attraverso tutti i passi necessari per preparare il disco rigido,
creare i primi account per gli utenti e installare i pacchetti
software dal CD-ROM.
<P>Nelle seguenti sottosezioni descriveremo alcune delle fasi
pi&ugrave; insidiose dell'installazione come se le steste eseguendo a mano.
Questo dovrebbe aiutarvi a capire cosa fa il programma
di installazione e perch&eacute; lo fa.
<P>
<H3>Uso di <CODE>fdisk</CODE> e di <CODE>cfdisk</CODE></H3>

<P>Dopo aver avviato il disco di root, il primo passo di installazione
consister&agrave; nel creare o modificare la tavola delle partizioni
del vostro disco rigido. Anche se in passato avete usato FDISK
per definire le partizioni, dovrete tornare alla tavola delle
partizioni e inserire alcune informazioni specifiche per Linux.
<P>Per creare o modificare le partizioni Linux useremo
la versione Linux del programma <CODE>fdisk</CODE>, o il suo
fratello in versione grafica, <CODE>cfdisk</CODE>.
<P>In genere il programma di installazione cerca una tavola delle
partizioni preesistente e vi offre la possibilit&agrave; di lanciare
<CODE>fdisk</CODE> o <CODE>cfdisk</CODE> su di essa. Dei due, <CODE>cfdisk</CODE> &egrave;
senza dubbio molto pi&ugrave; semplice da usare, ma le attuali versioni 
del programma sono anche meno tolleranti nei confronti di tavole
delle partizioni inesistenti o corrotte.
<P>Quindi (specialmente se state installando Linux su un computer nuovo)
pu&ograve; darsi che all'inizio dobbiate usare <CODE>fdisk</CODE> per ottenere
uno stato che <CODE>cfdisk</CODE> sia in grado di trattare. Provate ad
avviare <CODE>cfdisk</CODE>; se il programma ha problemi, lanciate <CODE>fdisk</CODE> 
(se state installando un sistema interamente dedicato a Linux
e se <CODE>cfdisk</CODE> ha problemi, un buon modo di procedere consiste
nell'usare <CODE>fdisk</CODE> per cancellare tutte le partizioni esistenti
e avviare poi <CODE>cfdisk</CODE> per modificare la tavola vuota).
<P>Alcune osservazioni valgono sia per <CODE>fdisk</CODE> che per <CODE>cfdisk</CODE>:
entrambi accettano un argomento che &egrave; il nome del device su cui
si vogliono creare partizioni Linux.  Ecco i nomi di dispositivo
dei dischi rigidi:
<P>
<UL>
<LI><EM>/dev/hda</EM> Primo disco IDE</LI>
<LI><EM>/dev/hdb</EM> Secondo disco IDE</LI>
<LI><EM>/dev/sda</EM> Primo disco SCSI</LI>
<LI><EM>/dev/sdb</EM> Secondo disco SCSI</LI>
</UL>
<P>Ad esempio, per creare delle partizioni Linux sul primo disco SCSI
del sistema userete il comando:
<P>
<BLOCKQUOTE><CODE>
cfdisk /dev/sda
</CODE></BLOCKQUOTE>
<P>(questo comando pu&ograve; anche essere avviato dal programma di
installazione, sulla base di una vostra scelta in un men&ugrave;).
<P>Se avviate <CODE>fdisk</CODE> o <CODE>cfdisk</CODE> senza un argomento
il programma assumer&agrave; che vogliate operare su <EM>/dev/hda</EM>.
<P>Per creare delle partizioni Linux sul secondo disco rigido
del sistema specificate semplicemente <EM>/dev/hdb</EM>
(per dischi IDE) oppure <EM>/dev/sdb</EM> (per dischi SCSI)
quando avviate <CODE>fdisk</CODE>.
<P>Le partizioni di Linux non devono necessariamente trovarsi
tutte sullo stesso disco. Ad esempio, potreste voler collocare 
il filesystem di root su <EM>/dev/hda</EM> e la partizione
di swap su <EM>/dev/hdb</EM>. Per far questo, basta usare
<CODE>fdisk</CODE> o <CODE>cfdisk</CODE> una volta per ogni disco rigido interessato.
<P>Sotto Linux le partizioni hanno un nome che &egrave; basato sul disco
a cui appartengono. Per esempio, la prima partizione sul disco
<EM>/dev/hda</EM> si chiama <EM>/dev/hda1</EM>, la seconda &egrave;
<EM>/dev/hda2</EM> e cos&igrave; via. Se ci sono delle partizioni
logiche, vengono numerate a partire da <EM>/dev/hda5</EM>,
<EM>/dev/hda6</EM> e cos&igrave; via, salendo.
<P><B>NOTA:</B> Con i programmi <CODE>fdisk</CODE> e <CODE>cfdisk</CODE>
non si dovrebbero creare o cancellare partizioni di sistemi
operativi diversi da Linux. Ovvero, non create o cancellate
partizioni MS-DOS con il programma <CODE>fdisk</CODE> di Linux;
usate invece la versione MS-DOS di <CODE>FDISK</CODE>. Se provate
a creare una partizione MS-DOS con <CODE>fdisk</CODE> di Linux
pu&ograve; accadere che MS-DOS non riconosca la partizione e non
si avvii correttamente.
<P>Ecco un esempio di come si usa <CODE>fdisk</CODE>. In questo caso
abbiamo una sola partizione MS-DOS che occupa 61693 blocchi
e il resto del disco &egrave; disponibile per Linux (sotto Linux un
blocco &egrave; grande 1024 bytes, quindi 61693 blocchi sono circa
61 Mb). In questo esempio creeremo solo sue partizioni,
quella di root e quella di swap. Probabilmente dovrete estendere
questo caso a quattro partizioni, in linea con le raccomandazioni
precedentemente discusse: una partizione di swap, una per il
filesystem di root, una per il software di sistema e una per
le directory degli utenti.
<P>Prima di tutto, usiamo il comando ``<CODE>p</CODE>'' per visualizzare
l'attuale tavole delle partizioni. Come vedete, <EM>/dev/hda1</EM>
(la prima partizione su <EM>/dev/hda</EM>) &egrave; una partizione DOS
di 61693 blocchi.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Command (m for help):   p
Disk /dev/hda: 16 heads, 38 sectors, 683 cylinders 
Units = cylinders of 608 * 512 bytes

     Device Boot  Begin   Start     End  Blocks   Id  System
  /dev/hda1   *       1       1     203   61693    6  DOS 16-bit &gt;=32M

Command (m for help):
</PRE>
</CODE></BLOCKQUOTE>
<P>Ora usiamo il comando ``<CODE>n</CODE>'' per creare una nuova partizione.
La partizione di root di Linux occuper&agrave; 80 Mb.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Command (m for help):  n 
Command action 
    e   extended 
    p   primary partition (1-4)
p
</PRE>
</CODE></BLOCKQUOTE>
<P>Qui ci viene chiesto se vogliamo creare una partizione primaria
o una partizione estesa. Nella maggior parte dei casi userete
partizioni primarie, a meno che non abbiate bisogno di pi&ugrave; di
quattro partizioni sullo stesso disco. Leggete la sezione
``Ripartizionamento'', sopra, per maggiori informazioni.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Partition number (1-4): 2
First cylinder (204-683):  204
Last cylinder or +size or +sizeM or +sizeK (204-683): +80M
</PRE>
</CODE></BLOCKQUOTE>
<P>Il primo cilindro dovrebbe essere il cilindro SUCCESSIVO
al cilindro su cui termina la precedente partizione.
In questo csao, <EM>/dev/hda1</EM> termina sul cilindro 203,
quindi facciamo partire la successiva partizione dal cilindro 204.
<P>Come vedete, la notazione ``<CODE>+80M</CODE>'' specifica una partizione
grande 80 Mb. Similarmente, la notazione ``<CODE>+80K</CODE>'' indica
una partizione da 80 kb e ``<CODE>+80</CODE>'' una partizione di soli 80 byte.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Warning: Linux cannot currently use 33090 sectors of this partition
</PRE>
</CODE></BLOCKQUOTE>
<P>Se vedete questo avvertimento potete ignorarlo. Si tratta di
quello che &egrave; rimasto di una vecchia restrizione che obbligava
i filesystem Linux ad essere grandi 64 Mb. Con le nuove versioni
del filesystem questo limite non esiste pi&ugrave;... le partizioni
possono occupare fino a 4 Tb.
<P>Ora creiamo la nostra partizione di swap da 10 Mb,
<EM>/dev/hda3</EM>.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Command (m for help): n
Command action 
    e   extended 
    p   primary partition (1-4) 
p

Partition number (1-4): 3
First cylinder (474-683):  474
Last cylinder or +size or +sizeM or +sizeK (474-683):  +10M
</PRE>
</CODE></BLOCKQUOTE>
<P>Visualizziamo di nuovo il contenuto della tavola delle partizioni.
Scrivetevi tutte le informazioni che compaiono, specialmente
la dimensione in blocchi di ogni partizione. In seguito avrete
bisogno di questi dati.
<P>
<BLOCKQUOTE><CODE>
<PRE>
Command (m for help): p
Disk /dev/hda: 16 heads, 38 sectors, 683 cylinders 
Units = cylinders of 608 * 512 bytes

     Device Boot  Begin   Start     End  Blocks   Id  System
  /dev/hda1   *       1       1     203   61693    6  DOS 16-bit &gt;=32M
  /dev/hda2         204     204     473   82080   83  Linux native
  /dev/hda3         474     474     507   10336   83  Linux native
</PRE>
</CODE></BLOCKQUOTE>
<P>Si noti che la partizione di swap di Linux (in questo caso
<EM>/dev/hda3</EM>) &egrave; di tipo ``Linux nativo''. Dobbiamo cambiare
il tipo della partizione in ``Linux swap'', in modo che il programma
di installazione la riconosca come tale. Per far questo si usa
il comando ``<CODE>t</CODE>'':
<P>
<BLOCKQUOTE><CODE>
<PRE>
Command (m for help): t
Partition number (1-4): 3
Hex code (type L to list codes): 82
</PRE>
</CODE></BLOCKQUOTE>
<P>Se digitate ``<CODE>L</CODE>'' per avere la lista dei tipi di partizione
troverete che 82 &egrave; il codice della partizione swap di Linux.
<P>Per uscire da <CODE>fdisk</CODE> e registrare le modifiche alla tavola
delle partizioni usate il comando ``<CODE>w</CODE>''.
Per abbandonare <CODE>fdisk</CODE> SENZA salvare i cambiamenti
usate invece il comando ``<CODE>q</CODE>''.
<P>Quando uscite da <CODE>fdisk</CODE> pu&ograve; darsi che il programma
vi suggerisca di riavviare il sistema per essere sicuri che
le modifiche abbiano effetto. In genere non c'&egrave; ragione
per farlo --- le recenti versioni di <CODE>fdisk</CODE> e di <CODE>cfdisk</CODE>
sono in grado di aggiornare le partizioni senza bisogno
di riavviare il sistema.
<P>
<H3>Passi successivi al partizionamento</H3>

<P>
<P>Dopo che avrete modificato la tavola delle partizioni,
il programma di installazione dovrebbe individuare le partizioni
Linux e chiedervi se volete attivare la partizione di swap.
Rispondete affermativamente (lo si chiede, piuttosto che farlo
automaticamente, nel caso abbiate un sistema dual-boot e una
delle partizioni non-Linux assomigli accidentalmente a una
zona di swap).
<P>In seguito il programma vi chieder&agrave; di associare dei nomi 
nel filesystem Linux (come <CODE>/</CODE>, <CODE>/usr</CODE>, <CODE>/var</CODE>,
<CODE>/tmp</CODE>, <CODE>/home</CODE>, <CODE>/home2</CODE>, etc.) con ciascuna
delle partizioni che userete, escluse quelle di swap. 
<P>C'&egrave; una sola regola semplice e rigida in tutto questo: ci deve essere
un filesystem di root, chiamato <CODE>/</CODE>, e deve essere avviabile.
Potete dare alle altre partizioni Linux i nomi che volete, ma ci
sono alcune convenzioni su come chiamarle che probabilmente vi
semplificheranno la vita in seguito.
<P>In precedenza si &egrave; consigliato una schema di base a tre partizioni
che include una piccola partizione di root, una partizione di medie
dimensioni per il software di sistema e una partizione grande
per le directory degli utenti. Tradizionalmente queste partizioni
vengono chiamate rispettivamente <CODE>/</CODE>, <CODE>/usr</CODE> e
<CODE>/home</CODE>. Il nome controintuitivo <CODE>/usr</CODE> ha la sua
origine storica nei giorni in cui i sistemi UNIX (molto pi&ugrave; piccoli)
ospitavano il software di sistema e le directory degli utenti
in un'unica partizione distinta da quella di root. Alcuni programmi
dipendono da questi nomi per il loro corretto funzionamento.
<P>Se avete pi&ugrave; aree dedicate alle directory degli utenti,
&egrave; convenzione chiamarle <CODE>/home</CODE>, <CODE>/home2</CODE>,
<CODE>/home3</CODE>, etc. Questo pu&ograve; accadere se avete due dischi
fisici. Sul mio sistema, ad esempio, la struttura del filesystem
appare cos&igrave;:
<P>
<BLOCKQUOTE><CODE>
<PRE>
Filesystem         1024-blocks  Used Available Capacity Mounted on
/dev/sda1              30719   22337     6796     77%   /
/dev/sda3             595663  327608   237284     58%   /usr
/dev/sda4            1371370    1174  1299336      0%   /home
/dev/sdb1            1000949  643108   306130     68%   /home2
</PRE>
</CODE></BLOCKQUOTE>
<P>Il secondo disco rigido (<CODE>/dev/sdb1</CODE>) non &egrave; in realt&agrave;
dedicato interamente a <CODE>/home</CODE>; le partizioni di swap
su <CODE>/dev/sda</CODE> e <CODE>/dev/sdb</CODE> non sono mostrate.
Potete vedere che <CODE>/home</CODE> &egrave; la grande area libera
su <CODE>/dev/sda</CODE> e che <CODE>/home2</CODE> &egrave; l'area utenti
di <CODE>/dev/sdb</CODE>.
<P>Se volete creare una partizione per l'area di scratch, di spool,
per i file temporanei, la e-mail o le news, chiamatela <CODE>/var</CODE>.
Alternativamente potete creare una <CODE>/usr/var</CODE> e creare
un link simbolico chiamato <CODE>/var</CODE> che punta ad essa
(il programma di installazione pu&ograve; offrirvi una possibilit&agrave;
del genere).
<P>

<H2><A NAME="ss5.7">5.7 Installazione dei pacchetti software</A></H2>

<P>Una volta create le partizioni il resto dell'installazione
dovrebbe essere quasi automatico. Il programma di installazione
(sia la versione EGA che quella X) vi guider&agrave; attraverso una
serie di men&ugrave; che vi consentiranno di specificare l'unit&agrave;
CD-ROM da cui installare il software, le partizioni da usare
e cos&igrave; via.
<P>Qui non entreremo nei dettagli di questa fase dell'installazione.
Si tratta di una delle fasi che varia maggiormente da una
distribuzione all'altra (tradizionalmente i rivenditori competono
per aggiungere valore a questa fase), ma &egrave; anche la parte pi&ugrave;
semplice. I programmi di installazione sono molto ben documentati,
con utili schermate di aiuto.
<P>

<H2><A NAME="ss5.8">5.8 Dopo l'installazione dei pacchetti</A></H2>

<P>Una volta che l'installazione &egrave; terminata, se tutto va bene,
il programma di installazione vi guider&agrave; attraverso alcune
scelte che bisogna fare per configurare il sistema
in vista del suo primo avvio dal disco rigido.
<P>
<H3>LILO, il LInux LOader</H3>

<P>LILO (che significa ``LInux LOader'') &egrave; un programma che consente
di avviare Linux (e gli altri sistemi operativi, come MS-DOS)
dal vostro disco rigido.
<P>Pu&ograve; darsi che il programma di installazione vi chieda di installare
LILO sul vostro disco rigido. A meno che non usiate OS/2, rispondete
di si. OS/2 ha delle esigenze particolari, vedi 
<A HREF="Installation-HOWTO-7.html#custom-LILO">Configurazione personalizzata di LILO</A>.
<P>Installare LILO come loader primario rende inutile l'uso di un
disco di avvio: ad ogni avvio &egrave; possibile dire a LILO quale
sistema operativo lanciare.
<P>
<H3>Come creare un disco di avvio (facoltativo)</H3>

<P>Potete anche avere la possibilit&agrave; di creare un ``disco di avvio
standard'' da usare per avviare il sistema Linux appena installato.
Si tratta di un metodo vecchio e non molto comodo, che assume
che voi normalmente entriate in DOS e usiate il disco di avvio
quando volete entrare in Linux).
<P>Per creare questo disco serve un dischetto ad alta densit&agrave;,
vuoto e formattato per MS-DOS. Basta inserire il disco
quando vi verr&agrave; richiesto e il disco di avvio verr&agrave; creato
(non &egrave; come il disco di avvio per l'installazione e i due tipi
di dischi non sono intercambiabili!).
<P>
<H3>Altri aspetti della configurazione di sistema</H3>

<P>Anche la procedura di post-installazione pu&ograve; presentare parecchie
scelte guidate, permettendovi di configurare il vostro sistema;
questo include la specificazione del modem e del mouse cos&igrave; come
il fuso orario. Seguite le indicazioni che trovate nei men&ugrave;.
<P>Vi pu&ograve; anche essere chiesto di creare degli account per gli utenti
o di impostare la password dell'account di root (amministrazione);
si tratta di operazioni semplici e potete seguire le istruzioni
sullo schermo.
<P>

<HR>
<A HREF="Installation-HOWTO-4.html">Precedente</A>
<A HREF="Installation-HOWTO-6.html">Successivo</A>
<A HREF="Installation-HOWTO.html#toc5">Indice</A>
</BODY>
</HTML>

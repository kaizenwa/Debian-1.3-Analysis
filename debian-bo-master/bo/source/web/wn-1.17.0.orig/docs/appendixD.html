<html>
<head>
<title>Appendix D: CGI and other Environment Variables</title>
</head>
<body>
<!-- pnuts --> <a href="appendixC.html">[Previous]</a> <a href="appendixE.html">[Next]</a> <a href="manual.html">[Up]</a> <a href="manual.html">[Top]</a> <a href="dosearch.html">[Search]</a> <a href="docindex.html">[Index]</a>
<hr size="4">
<!-- #WN_start -->
<h2 align="center">Appendix D: CGI and other Environment Variables</h2>
<hr size="4">

This is a list of CGI 1.1 environment variables set by WN.  These
variables are set automatically when a CGI script is called.  They
will also be set for use by filters or server-side includes which
exec files if an <a href="appendixB.html#attributes">
"Attribute=cgi"</a> line is added to the file record of
a document in the index file.

<dl>
<dt> <b>AUTH_TYPE</b>
<dd>
     Contains the type of authentication being used to limit 
     access to the current document.  E.g. "Basic" or "Digest".
     <p>

<dt> <b>CONTENT_LENGTH</b>
<dd>
     Contains the length of information provided by a client POST.
     The length is an ASCII string representing the number of bytes.
     <p>

<dt> <b>CONTENT_TYPE</b>
<dd>
     Contains the content type supplied by the client with POSTed
     data.
     <p>

<dt> <b>GATEWAY_INTERFACE</b>
<dd>
     Contains "CGI/1.1".
     <p>

<dt> <b>HTTP_ACCEPT</b>
<dd>
     Contains the contents of any "Accept:" headers supplied by
     the client.
     <p>

<dt> <b>HTTP_ACCEPT_LANGUAGE</b>
<dd>
     Contains the contents of any "Accept-Language:" headers supplied by
     the client.
     <p>

<dt> <b>HTTP_ACCEPT_CHARSET</b>
<dd>
     Contains the contents of any "Accept-Charset:" headers supplied by
     the client.
     <p>

<dt> <b>HTTP_COOKIE</b>
<dd>
     Contains the contents of any "Cookie:" header supplied by
     the client.
     <p>

<dt> <b>HTTP_FROM</b>
<dd>
     Contains the contents of the "From:" header supplied by
     the client.  This may contain the e-mail address of the
     client user.  This is generally unreliable, as usually users
     choose not to supply this information.  If they do give it
     they can choose any e-mail address they want -- there is no
     guarantee that this is, in fact, the real e-mail address of the
     client user.
     <p>

<dt> <b>HTTP_HOST</b>
<dd>
     Contains the contents of the "Host:" header supplied by
     the client.  This should contain the one of the aliases for
     the host on which the server is running.  It should be the
     hostname from the URL that the client is requesting.  Thus
     a client seeking http://www.serverhost.com:8000/foo.html should
     supply "www.serverhost.com" in this header.  Many browsers do
     not do this.  I believe it will be required in HTTP/1.1.
     <p>

<dt> <b>HTTP_RANGE</b>
<dd>
     Contains the contents of any "Range:" header supplied by
     the client.
     <p>

<dt> <b>HTTP_REFERER</b>
<dd>
     Contains the contents of the "Referer:" header supplied by
     the client.  This is supposed to contain the URL of the
     document from which a link to this script activated.
     <p>

<dt> <b>HTTP_USER_AGENT</b>
<dd>
     Contains the contents of the "User-Agent:" header supplied by
     the client.  This is supposed to contain the name of the
     browser which the client is using to make this request
     <p>

<dt> <b>PATH_INFO</b>
<dd>
     Extra information in the "path" of a CGI URL.  More precisely
     everything after the actual name of the script.  E.g. the URL
     <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3</b> would have
     /stuff1/stuff2/stuff3 in the PATH_INFO variable.
     <p>
     
<dt> <b>PATH_TRANSLATED</b>
<dd>
     This assumes that PATH_INFO is the path of a file relative to
     your WN root and provides the path relative to the system root.
     E.g. the URL  <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3</b>
     would have /path/to/WN_root/stuff1/stuff2/stuff3 in the
     PATH_TRANSLATED variable.
     <p>

<dt> <b>QUERY_STRING</b>
<dd>
     The contents of the "query" part of an HTTP GET request.  This is
     whatever comes after the '?' in the URL. E.g. the URL
     <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3?dingbat</b> would have
     dingbat in the QUERY_STRING variable.  If the request was generated
     by a form this contains all the form information encoded as
     name1=value1&name2=value2...
     <p>
     
<dt> <b>REMOTE_ADDR</b>
<dd>
     Contains the IP address of the client or proxy making the request.
     <p>

<dt> <b>REMOTE_HOST</b>
<dd>
     Contains the hostname of the client or proxy making the request, if
     the server can determine it otherwise it contains the IP address.
     If NO_DNS_HOSTNAMES is defined in config.h before compilation then
     no attempt will be made to determine the hostname and REMOTE_HOST
     will contain the IP address.  (This would reduce the load on the
     server).
     <p>

<dt> <b>REMOTE_IDENT</b>
<dd>
     Contains the user name supplied by an RFC931 identd server on
     the client (if there is one and you have compiled the server
     with RFC931 services enabled in the config.h file.)
     <p>

<dt> <b>REMOTE_USER</b>
<dd>
     If the CGI script is <a href="access.html#authenticate">password
     protected</a> this will contain the username provided by the client.
     <p>

<dt> <b>REQUEST_METHOD</b>
<dd>
     Contains either "GET" or "POST" depending on the "method" of the
     client request.
     <p>

<dt> <b>SCRIPT_NAME</b>
<dd>
     The name of the CGI script being executed and its path relative
     to the WN root.  E.g. the URL
     <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3</b> would have
     /dir/foo.cgi in the SCRIPT_NAME variable
     <p>
     
<dt> <b>SERVER_SOFTWARE</b>
<dd>
     Contains "WN <version #>", e.g. "WN 1.12.3".  Recall that version
     numbers of the form a.b.c with 'b' even are intended to be stable
     releases while 'b' odd indicates a release with new and less tested
     features.
     <p>

<dt> <b>SERVER_NAME</b>
<dd>
     Contains name of host on which server is running.  
     <p>     

<dt> <b>SERVER_PROTOCOL</b>
<dd>
     Contains "HTTP/0.9" or "HTTP/1.1" depending on which protocol
     the client is using.<p>

<dt> <b>SERVER_PORT</b>
<dd>
     Contains port on which server is running.
     <p>

</dl>

The following are not CGI variables but are provided by the WN server
when CGI variables are set:
<p>
<dl>
<dt> <b>HTTP_POST_FILE</b>
<dd>
     Contains the path to the temporary file containing the data
     sent by the client via the POST method.  This file is removed
     after the CGI script terminates.  A CGI script can move it
     or copy it. 
     <p>

<dt> <b>URL_SCHEME</b>
<dd>
     Contains "http" normally or "https" in case the server has
     been modified to use the secure sockets layer (SSL) protocol.
     <p>

<dt> <b>WN_DIR_PATH</b>
<dd>
     Contains the path to the directory containing the script
     relative to the system root.
     E.g. the URL  <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3</b>
     would have /path/to/WN_root/dir in the WN_DIR_PATH variable.
     <p>

<dt> <b>WN_ROOT</b>
<dd>
     Contains the path to your WN root relative to the system root.
     E.g. the URL  <b>http://host/dir/foo.cgi/stuff1/stuff2/stuff3</b>
     would have /path/to/WN_root in the WN_ROOT variable.
     <p>

</dl>
<p>

One further environment variable is used by WN.  This is <b>WN_KEY</b>
which is used in conjunction with external databases and either
Cache-Modules or File-Modules.  For more details on these see the
chapter on <a href="module.html">WN Auxiliary Modules.</a>
<p>
<!-- #WN_end -->
<hr size="4">
<address>
John Franks &lt;john@math.nwu.edu&gt;
</address>
<!-- pnuts --> <a href="appendixC.html">[Previous]</a> <a href="appendixE.html">[Next]</a> <a href="manual.html">[Up]</a> <a href="manual.html">[Top]</a> <a href="dosearch.html">[Search]</a> <a href="docindex.html">[Index]</a>
</body>
</html>

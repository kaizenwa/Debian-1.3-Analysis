# if compiling for SunOS, you need to add -lsocket to the LIBS variable

SH	= /bin/sh
CC	= gcc
MAKEFILE= Makefile
CFLAGS	= -O2 --pipe
LIBS	= -lsocket

OBJECTS = main.o socket.o httpsock.o

.cc.o:
	$(CC) $(CFLAGS) -c -o $*.o $<

all:	compile dhttpd

compile: $(OBJECTS)

dhttpd: $(OBJECTS)
	$(CC) -o dhttpd $(OBJECTS) $(LIBS)
	strip dhttpd

clean:
	rm dhttpd $(OBJECTS)

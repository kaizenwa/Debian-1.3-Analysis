%$Id: m.tex,v 1.1 96/03/24 11:12:40 al Exp $
% man circuit m .
%------------------------------------------------------------------------
\section{{\tt M}: MOSFET}
%------------------------------------------------------------------------
\subsection{Syntax}
\begin{verse}
{\tt M}{\it xxxxxxx nd ng ns nb mname} \{{\it args}\}\\
{\tt M}{\it xxxxxxx nd ng ns nb mname}
	\{{\it width}{\tt /}{\it length}\} \{{\it args}\}
\end{verse}
%------------------------------------------------------------------------
\subsection{Purpose}

MOSFET.
%------------------------------------------------------------------------
\subsection{Comments}

{\it Nd}, {\it ng}, {\it ns}, and {\it nb} are the drain, gate, source, and
bulk (substrate) nodes, respectively.  {\it Mname} is the model name.

{\it Length} and {\it width} are the drawn channel length and width, in
microns.  Note that the notation W/L has units of microns, but the same
parameters, in the argument list ({\tt W} and {\tt L}) have units of meters.
All other dimensions are in meters.

The options {\tt rstray} and {\tt norstray} determines whether or not series 
resistances are included.  Experience has shown that the effect of series 
resistance is usually not significant, it can significantly degrade the 
simulation time, and it often increases roundoff errors.  Therefore, 
{\tt norstray} is the default.  {\tt Norstray} is the equivalent of 
setting the model parameters {\tt rd}, {\tt rs}, and {\tt rsh} all to zero.

Entering a parameter value of 0 is not the same as not specifying
it.  This behavior is not compatible with SPICE.  In SPICE, a value
of 0 is often interpreted as not specified, with the result being
to calculate it some other way.  If you want it to be calculated,
don't specify it.

Another subtle difference from SPICE is that ACS may omit some
unnecessary parts of the model, which may affect some reported
values.  It should not affect any voltages or currents.  For example,
if the gate and drain are tied, Cgs will be omitted from the model,
so the printed value for Cgdovl and Cgd will be 0, which will
disagree with SPICE.  It doesn't matter because a shorted capacitor
can store no charge.

Levels 1, 2 and 3 are implemented.
%------------------------------------------------------------------------
\subsection{Element Parameters}

\begin{description}

\item[{\tt L} = {\it x}] Drawn channel length.  (Default = {\tt DEFL}
parameter from {\tt options}. {\tt DEFL default = 100$\mu$})

\item[{\tt W} = {\it x}] Drawn channel width.  (Default = {\tt DEFW}
parameter from {\tt options}. {\tt DEFW default = 100$\mu$})

\item[{\tt AD} = {\it x}] Area of drain diffusion.  (Default = {\tt DEFAD}
parameter from {\tt options}. {\tt DEFAD default = 0})

\item[{\tt AS} = {\it x}] Area of source diffusion.  (Default = {\tt DEFAS}
parameter from {\tt options}. {\tt DEFAS default = 0})

\item[{\tt PD} = {\it x}] Perimeter of drain junction.  (Default = 0.)

\item[{\tt PS} = {\it x}] Perimeter of source junction.  (Default = 0.)

\item[{\tt NRD} = {\it x}] Number of squares of drain diffusion.  (Default =
1.)

\item[{\tt NRS} = {\it x}] Number of squares of source diffusion.  (Default =
1.)

\item[{\tt STIFF}] Use a stiffly stable integration method and
ignore truncation error.

\end{description}
%------------------------------------------------------------------------
\subsection{Model Parameters}

\begin{description}

\item[{\tt LEVEL} = {\it x}] Model index. (Default = 1) Selects which of
several models to use.  The choices supported are 1, 2 and 3.

\item[{\tt VTO} = {\it x}] Zero bias threshold voltage.  If not input, but
{\tt NSUB} is, it is calculated, otherwise a default value of 0 is used.

\item[{\tt KP} = {\it x}] Transconductance parameter.  If not input, it is
calculated by {\tt UO} * {\tt COX}.

\item[{\tt GAMMA} = {\it x}] Bulk threshold parameter.  If not input, but
{\tt NSUB} is, it is calculated, otherwise a default value of 0 is used.

\item[{\tt PHI} = {\it x}] Surface potential.  If not input, but {\tt NSUB}
is, it is calculated, otherwise a default value of 0.6 is used.  A warning
is issued if the calculated value is less than 0.1, in which case 0.1 is
used.

\item[{\tt LAMBDA} = {\it x}] Channel length modulation.  If not input, it
is calculated dynamically during simulation.  If the value input is larger
than 0.2, a warning is issued, but no correction is made.  (Level
1 and 2 only.)

\item[{\tt RD} = {\it x}] Drain ohmic resistance (unscaled).  If {\tt RS} is input, the
default value of {\tt RD} is 0.  If {\tt RD} and {\tt RS} are both not
input, and {\tt RSH} is input, they are calculated from {\tt RSH}.  If any
conflict exists, a warning is issued, indicating the action taken, which is
believed to be compatible with SPICE.    The resistance is only used if the
option {\tt rstray} is set.

\item[{\tt RS} = {\it x}] Source ohmic resistance (unscaled).  If {\tt RD} is input, the
default value of {\tt RS} is 0.  If {\tt RD} and {\tt RS} are both not
input, and {\tt RSH} is input, they are calculated from {\tt RSH}.  If any
conflict exists, a warning is issued, indicating the action taken, which is
believed to be compatible with SPICE.    The resistance is only used if the 
option {\tt rstray} is set.

\item[{\tt CBD} = {\it x}] Zero bias B-D junction capacitance (unscaled).  
If {\tt CBD} is not specified, it is calculated from {\tt CJ}.

\item[{\tt CBS} = {\it x}] Zero bias B-S junction capacitance (unscaled).  
If {\tt CBS} is not specified, it is calculated from {\tt CJ}.

\item[{\tt IS} = {\it x}] Bulk junction saturation current.  If not input,
it is calculated from {\tt JS}.  If both are input, a warning is issued, and
the calculated value (from {\tt JS}) is used, if {\tt AD} and {\tt AS} are
also input.  If neither {\tt IS} or {\tt JS} is input, a default value of
1e-14 is used.

\item[{\tt PB} = {\it x}] Bulk junction potential. (Default = 0.8)

\item[{\tt CGSO} = {\it x}] Gate-source overlap capacitance, per channel
width. (Default = 0.)

\item[{\tt CGDO} = {\it x}] Gate-drain overlap capacitance, per channel
width. (Default = 0.)

\item[{\tt CGBO} = {\it x}] Gate-bulk overlap capacitance, per channel
length. (Default = 0.)

\item[{\tt RSH} = {\it x}] Drain and source diffusion sheet resistance.  If
not input, use {\tt RS} and {\tt RD} directly.  If a conflict exists, a
warning is issued.  The resistance is only used if the option {\tt rstray}
is set.

\item[{\tt CJ} = {\it x}] Zero bias bulk junction bottom capacitance per
sq-meter of junction area.  If not input, but {\tt NSUB} is, it is
calculated, otherwise a default value of 0 is used.

\item[{\tt MJ} = {\it x}] Bulk junction bottom grading coefficient. (Default
= 0.5)

\item[{\tt CJSW} = {\it x}] Zero bias bulk junction sidewall capacitance per
meter of junction perimeter. (Default = 0.)

\item[{\tt MJSW} = {\it x}] Bulk junction sidewall grading coefficient.
(Default = 0.33)

\item[{\tt JS} = {\it x}] Bulk junction saturation current per sq-meter of
junction area.  May be used to calculate {\tt IS}.  If a conflict exists, a
warning is issued.

\item[{\tt TOX} = {\it x}] Oxide thickness. (meters) (Default = 1e-7)

\item[{\tt NSUB} = {\it x}] Substrate doping.  (atoms / cm$^3$) Used in
calculation of {\tt VTO}, {\tt GAMMA}, {\tt PHI}, and {\tt CJ}.  If not
input, default values are used.

\item[{\tt NSS} = {\it x}] Surface state density.  (atoms / cm$^2$) (Default
= 0.) Used, with {\tt NSUB} in calculation of {\tt VTO}.

\item[{\tt NFS} = {\it x}] Fast surface state density.  (atoms / cm$^2$) Used
in modeling subthreshold effects.  If not input, do not model subthreshold
effects.

\item[{\tt TPG} = {\it x}] Type of gate material. (Default = 1.)
\begin{verse}
+1 opposite to substrate\\
--1 same as substrate\\
0 Aluminum
\end{verse}

\item[{\tt XJ} = {\it x}] Metallurgical junction depth. (meters) Used to
calculate short channel effects.  If not input, do not model short channel
effects, effectively defaults to 0.

\item[{\tt LD} = {\it x}] Lateral diffusion. (Default = 0.)  Effective
channel length is reduced by 2 * {\tt LD}.

\item[{\tt UO} = {\it x}] Surface mobility. (cm$^2$/V-s) (Default = 600.)

\item[{\tt UCRIT} = {\it x}] Critical field for mobility degradation.
(V/cm) (Default = 1e4)  (Level 2 only.)

\item[{\tt UEXP} = {\it x}] Critical field exponent in mobility
degradation.  If not input, do not model mobility degradation,
effectively defaulting to 0.  (Level 2 only.)

\item[{\tt UTRA} = {\it x}] Transverse field coefficient.  SPICE parameter
accepted but not implemented.  It is also not implemented in most versions
of SPICE.

\item[{\tt VMAX} = {\it x}] Maximum drift velocity of carriers. (m/s)
Used in calculating vdsat, and lambda.  If not input, use a different
method.  {\tt VMAX} does not always work, if the method fails, the alternate
method is used and the warning ``Baum's theory rejected'' is issued if the
error threshold is set to {\tt debug} or worse.

\item[{\tt NEFF} = {\it x}] Total channel charge (fixed and mobile)
coefficient. (Default = 1.)  Used in internal calculation of lambda.
(Level 2 only.)

\item[{\tt KF} = {\it x}] Flicker noise coefficient.  SPICE parameter
accepted but not implemented.

\item[{\tt AF} = {\it x}] Flicker noise exponent.  SPICE parameter accepted
but not implemented.

\item[{\tt FC} = {\it x}] Coefficient for forward bias depletion capacitance
formula. (Default = 0.5)

\item[{\tt DELTA} = {\it x}] Width effect on threshold voltage.
(Default = 0.)  (Level 2 and 3 only.)

\item[{\tt THETA} = {\it x}] Mobility modulation.  (Level 3 only.)

\item[{\tt ETA} = {\it x}] Static feedback.  SPICE parameter accepted but
not implemented.  (Level 3 only.)

\item[{\tt KAPPA} = {\it x}] Saturation field vector.  SPICE parameter
accepted but not implemented.   (Level 3 only.)

\item[{\tt STIFF}] Use a stiffly stable integration method and
ignore truncation error.

\end{description}
%------------------------------------------------------------------------
\subsection{Probes}

\begin{description}

\item[{\tt VDS}] Drain-source voltage.

\item[{\tt VGS}] Gate-source voltage.

\item[{\tt VBS}] Bulk-source voltage.

\item[{\tt VGD}] Gate-drain voltage.

\item[{\tt VBD}] Bulk-drain voltage.

\item[{\tt VSD}] Source-drain voltage.

\item[{\tt VDG}] Drain-gate voltage.

\item[{\tt VBG}] Bulk-gate voltage.

\item[{\tt VSG}] Source-gate voltage.

\item[{\tt VDB}] Drain-bulk voltage.

\item[{\tt VGB}] Gate-bulk voltage.

\item[{\tt VSB}] Source-bulk voltage.

\item[{\tt VD}] Drain-ground voltage.

\item[{\tt VG}] Gate-ground voltage.

\item[{\tt VB}] Bulk-ground voltage.

\item[{\tt VS}] Source-ground voltage.

\item[{\tt Id}] Drain current.

\item[{\tt IS}] Source current.

\item[{\tt IG}] Gate current.

\item[{\tt IB}] Bulk current.

\item[{\tt CGSO}] Gate-source overlap capacitance.

\item[{\tt CGDO}] Gate-drain overlap capacitance.

\item[{\tt CGBO}] Gate-bulk overlap capacitance.

\item[{\tt CGSm}] Gate-source Meyer capacitance.

\item[{\tt CGDm}] Gate-drain Meyer capacitance.

\item[{\tt CGBm}] Gate-bulk Meyer capacitance.

\item[{\tt CGST}] Gate-source total capacitance.

\item[{\tt CGDT}] Gate-drain total capacitance.

\item[{\tt CGBT}] Gate-bulk total capacitance.

\item[{\tt CBD}] Bulk-drain junction capacitance.

\item[{\tt CBS}] Bulk-source junction capacitance.

\item[{\tt CGATE}] Nominal gate capacitance.

\item[{\tt GM}] Transconductance.

\item[{\tt GDS}] Drain-source conductance.

\item[{\tt GMB}] Body effect transconductance.

\item[{\tt VDSAT}] Saturation voltage.

\item[{\tt VTH}] Threshold voltage.

\item[{\tt IDS}] Drain-source current, not including strays.

\item[{\tt IDSTray}] Drain current due to strays.

\item[{\tt IError}] Estimated drain current error bound.

\item[{\tt P}] Power dissipation.

\item[{\tt P}] Power.

\item[{\tt PD}] Power dissipated.  The power dissipated as heat.  
It is always positive and does not include power sourced.
It should be the same as P because the mosfet cannot generate energy.

\item[{\tt PS}] Power sourced.  The power sourced by the part.  
It is always positive and does not consider its own dissipation.
It should be 0 because the mosfet cannot generate energy.

\item[{\tt REgion}] Region code.  A numeric code that represents the region
it is operating in.  The number is the sum of several factors.  A negative
code indicates the source and drain are reversed.

\begin{description}

\item{1} Active.  (Not cut off.)

\item{2} Not subthreshold.

\item{4} Saturated.

\item{10} Source to bulk is forward biased.

\item{20} Drain to bulk is forward biased.

\item{40} Punch through.

\end{description}

\end{description}

All parameters of the internal elements (Ids, Gmr, Gmf, Yds, Gmbr, Gmbf,
Cgb, Cgd, Cgs, Dsb, Ddb, Rd, Rs) are available.  To access them, concatenate
the labels for the internal element with the diode, separated by a dot.
Cgd.M6 is the gate to drain capacitance of M6.

In this release, there are no probes available in AC analysis except for the
internal elements.
%------------------------------------------------------------------------
%------------------------------------------------------------------------

dnl Process this file with autoconf to produce a configure script.
AC_INIT(threads.c)
AM_INIT_GUILE_MODULE(threads)

CY_AC_WITH_THREADS

CFLAGS="$CFLAGS $cy_cv_threads_cflags"
if test "$cy_cv_threads_package" != COOP; then
  LDFLAGS="$LDFLAGS $cy_cv_threads_libs"
fi

## Should we actually be testing this against the empty string or "none"
## or something like that?
THREADLIB=
case "$cy_cv_threads_package" in
  "COOP" ) THREADLIB=libthreads.a ;;
esac
AC_SUBST(THREADLIB)

dnl Checks for programs.
AC_PROG_CC
AC_PROG_CPP
AC_PROG_RANLIB

AC_ARG_ENABLE(debug,[	--enable-debug		Debugging mode],
DEFS="-DDEBUG $DEFS")

AC_OUTPUT(Makefile)

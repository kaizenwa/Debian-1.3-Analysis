# Generated automatically from Makefile.in by configure.
# Makefile for GNU Pascal compiler.
#   Copyright (C) 1987, 1996 Free Software Foundation, Inc.
#
# This file is part of GNU Pascal.
#
# GNU Pascal is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 1, or (at your option)
# any later version.
#
# GNU Pascal is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with GNU Pascal; see the file COPYING.  If not, write to
# the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.

# Run 'configure' to build Makefile form Makefile.in

VPATH = .
topdir = ..
srcdir = .
prefix = /usr

all: dvi info html inst

dvi: gpc.dvi
ps: gpc.ps
info: $(srcdir)/gpc.info
rtf: gpc.rtf
hlp: gpc.hlp
html: gpc_1.html
fpk: FPKvsGNU
inst: INSTALL install.html
txi: gpc.txi

# Toplevel Makefile may override this
#INSTALL_PROGRAM=$(topdir)/install-sh
INSTALL_PROGRAM=cp
INFODIR = $(prefix)/info

TEXIFILES = gpc.texi \
	copying.texi funding.texi lookfeel.texi gnu.texi \
	contributors.texi purpose.texi \
	install.texi invoke.texi \
	borland2ep.texi bpqstart.texi extend.texi \
	keywords.texi builtin.texi \
	bugs.texi how_to_contrib.texi \
	fpk_vs_gnu.texi \
	notes.texi pvs.texi sets.texi gpi.texi automake.texi \
        md.texi tm.texi rtl.texi

DISTFILES = $(TEXIFILES) c-stuff.texi Makefile texinfo.tex*

# Build info files in source dir -- they are part of the distribution.
#
$(srcdir)/gpc.info: $(TEXIFILES)
	makeinfo -I $(srcdir) $(srcdir)/gpc.texi -o $(srcdir)/gpc.info

gpc.rtf: $(TEXIFILES)
	makertf -I $(srcdir) $(srcdir)/gpc.texi -o gpc.rtf -J gpc.hpj

gpc.hlp: gpc.rtf
	hcp gpc

gpc.dvi: $(TEXIFILES)
	texi2dvi $(srcdir)/gpc.texi

gpc.ps: gpc.dvi
	dvips -o gpc.ps gpc.dvi

gpc_1.html: $(TEXIFILES)
	texi2html -menu -split_node $(srcdir)/gpc.texi

gpc.txi: $(srcdir)/gpc.texi
	sed /[.]texi/s//.txi/ <$(srcdir)/gpc.texi >gpc.txi

install.html: $(srcdir)/install.texi
	texi2html $(srcdir)/install.texi

INSTALL: $(srcdir)/install.texi
	makeinfo -DINSTALLONLY --no-header --no-split $(srcdir)/install.texi -o INSTALL

FPKvsGNU: $(srcdir)/fpk_vs_gnu.texi
	makeinfo -DFPKONLY --no-header --no-split $(srcdir)/fpk_vs_gnu.texi -o FPKvsGNU

clean:
	-rm -f *~ *.dvi *.ps *.info* *.html *.rtf *.hpj INSTALL core
	-rm -f *.aux *.cp *.cps *.fn *.ky *.kys *.log *.pg *.toc *.tp *.vr

distclean: clean
	-rm -f Makefile

dist:
	tar czf gpc-doc.tar.gz $(DISTFILES)

install: info
	-rm -f $(INFODIR)/gpc.info*
	$(INSTALL_PROGRAM) $(srcdir)/gpc.info* $(INFODIR)

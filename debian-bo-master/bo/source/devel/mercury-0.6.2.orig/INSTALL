#!/bin/sh
#
# INSTALL - installation instructions and installation script.
#
# You need GNU C (2.6.3 or later) and GNU Make (3.69 or later).
# Make sure that they are somewhere in your path.
#
# Step 0.  Extract the files from the gzipped tar archive.
#
# Step 1.  Run `configure'.  (Just type `sh configure'.)
#
#	   By default, the files will be installed in the directory
#	   /usr/local/mercury-0.6.
#	   If you want the files to be installed someplace else,
#	   use the `--prefix <directory>' option to `configure'.
#
#	   The output from this stage will be automatically saved in the
#	   file `configure.log'.  Some debugging output is also saved to
#	   the file `config.log'.
#
# Step 2.  Run `make'.
#	   This step will take a long time.
#
#	   The output from this stage will be automatically saved in the
#	   file `make.log'.
#
# Step 3.  Run `make install'.
#	   This step will also take a long time.
#
#	   The output from this stage will be automatically saved in the
#	   file `make_install.log'.
#
# Step 4.  Check the permissions on the installed files.
#	   Add /usr/local/mercury-0.6/bin to your PATH, and
#	   add /usr/local/mercury-0.6/info to your INFOPATH.
#	   You can also add a WWW link to the Mercury documentation in
#	   /usr/local/mercury-0.6/lib/mercury/html to your WWW home page,
#	   and you may want to print out a hard-copy of the documentation
#	   from the DVI files in /usr/local/mercury-0.6/lib/mercury/doc.
#
# Step 5.  Run `make clean'.
#
# As a short-cut, steps 1-3 are listed below, so they can be replaced
# by just executing this file.  I suggest you run it in the background,
# and read the Mercury documentation in the `doc' directory while you are
# waiting.

sh configure &&
make &&
make install

# Fine-tuning:
# ------------
#
#	   If your system has multiple CPUs and lots of RAM,
#	   you can uncomment the definition of PARALLEL in the Makefile
#	   to perform a parallel make.
#
#	   By default the `make install' step will install a reasonable
#	   set of library grades which should be appropriate for most uses.
#	   If you want to install all the possible library grades,
#	   rather than just the most useful few, use the `--enable-all-grades'
#	   option to configure.  Conversely, if you are very short
#	   of disk space, you can add the line "LIBGRADES="
#	   to the file Mmake.params before installing.  This tells it
#	   to install only a single grade of the libraries.
#
#	   If you are short on RAM, you can add -DSMALL_CONFIG to the CFLAGS
#          line in the file boehm_gc/Makefile.  (This tells the garbage
#	   collector to tune itself for small physical memory.)
#
#	   If your system supports shared libraries, but `configure' says
#	   Mercury does not support shared libraries on this system,
#	   contact us and we'll see if we can add support for shared libraries
#	   on that system.
#
#	   If Mercury does not support shared libraries on your system,
#	   you may want to use the command `mmake install_split_library' to
#	   build and install a version of the Mercury libraries using the
#	   `--split-c-files' option to avoid linking in unused procedures.
#	   This can reduce the size of a hello world executable from ~400k
#	   to ~120k.  (The only reason this is not the default is that
#	   installing the split libraries takes quite a long time.  As a
#	   compromise, the command `mmake install_opt_library LIBGRADES='
#	   will install a split version of the library just for the
#	   default grade.)
#
#	   Efficiency will be much improved if Mercury can use gcc global
#	   register variables.  Currently these are supported for mips, hppa,
#	   sparc, alpha, and i386 (see runtime/regs.h and runtime/machdeps/*).
#	   If you want to use Mercury on some other CPU, contact us and
#	   we'll add support for gcc global registers for that CPU.
#
# De-installation:
# ----------------
#
# You may eventually want to uninstall this version of Mercury
# (to free up disk space so you can install the next version ;-).
# If you installed in the default location, you can simply
# use `rm -rf /usr/local/mercury-0.6' to uninstall.
# If you installed in a location such as `/usr/local' that also
# contains other files which you do not want removed, then
# run the command `make uninstall' in this directory.

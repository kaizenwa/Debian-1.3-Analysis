#
#  Makefile for CGI -> FCGI application
#
#  Open Market, Inc.
#
#  $Id: Makefile.in,v 1.4 1996/03/12 16:14:53 mbrown Exp $
#

SHELL	= /bin/sh
CC	= @CC@
CC_PURE	= @CC_PURE@
INCLUDEDIR  = ../include
CFLAGS	= @CCDEFS@ @PROFILE@ -I$(INCLUDEDIR)
LIBS	= @LIBS@
RANLIB	= @RANLIB@

OBJS	    = fcgiapp.o
INCLUDES    = $(INCLUDEDIR)/fastcgi.h $(INCLUDEDIR)/fcgiapp.h \
	      $(INCLUDEDIR)/fcgimisc.h $(INCLUDEDIR)/fcgiappmisc.h
LIBDIR      = ../libfcgi
LIBFCGI	    = $(LIBDIR)/libfcgi.a
TARGETS	    = cgi-fcgi

all: $(TARGETS)

cgi-fcgi: cgi-fcgi.o $(LIBFCGI)
	$(CC_PURE) $(CFLAGS) cgi-fcgi.o -o cgi-fcgi $(LIBFCGI) $(LIBS)

clean:
	rm -f *.a *.o core.* errs *~ \#* TAGS *.E a.out $(TARGETS)

# ----------------------------------------------------------------------------

cgi-fcgi.o: cgi-fcgi.c $(INCLUDES)

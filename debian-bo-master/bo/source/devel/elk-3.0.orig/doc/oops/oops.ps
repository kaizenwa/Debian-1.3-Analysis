%!PS-Adobe-3.0
%%Creator: groff version 1.08
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.08 0
%%Pages: 7
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.08 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72 def/PL
841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron/scaron
/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/space
/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright/parenleft
/parenright/asterisk/plus/comma/hyphen/period/slash/zero/one/two/three/four
/five/six/seven/eight/nine/colon/semicolon/less/equal/greater/question/at/A/B/C
/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash
/bracketright/circumflex/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q
/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase
/guillemotleft/guillemotright/bullet/florin/fraction/perthousand/dagger
/daggerdbl/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guilsinglleft/logicalnot/minus
/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu
/paragraph/periodcentered/cedilla/onesuperior/ordmasculine/guilsinglright
/onequarter/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde
/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute
/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve
/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex
/udieresis/yacute/thorn/ydieresis]def/Courier@0 ENC0/Courier RE/Times-Roman@0
ENC0/Times-Roman RE/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0
/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(The)198.071 120 Q/F1 11/Times-Bold@0 SF(OOPS)3 E F0 -.12
(Pa)3 G(ckage f).12 E(or Elk Scheme)-.3 E/F2 10/Times-Italic@0 SF
(Oliver Laumann)255.085 144 Q F1 2.75(1. Intr)72 216 R(oduction)-.198 E/F3 11
/Times-Roman@0 SF(The)97 234.6 Q/F4 10/Times-Roman@0 SF(OOPS)3.866 E F3 1.116
(package pro)3.866 F 1.115
(vides a minimal set of tools that enables a Scheme programmer to)-.165 F .357
(program in an object oriented style.)72 249.6 R .357(The functionality of)
5.857 F F4(OOPS)3.107 E F3 .357(is similar to that of packages lik)3.107 F(e)
-.11 E F4(CLOS)72 264.6 Q F3(and)3.342 E F4(SCOOPS)3.342 E F3 3.342(,a)C .592
(lthough the current v)168.894 264.6 R .592
(ersion does not support multiple inheritance.)-.165 F .592(The rest)6.092 F
.261(of this memo serv)72 279.6 R .261(es as a reference guide to the)-.165 F
F4(OOPS)3.012 E F3 .262(package; the reader is assumed to be f)3.012 F(amil-)
-.11 E(iar with the terminology of object oriented programming.)72 294.6 Q F1
2.75(2. Using)72 324.6 R/F5 10/Times-Bold@0 SF(OOPS)2.75 E F3
(Programs that mak)72 343.2 Q 2.75(eu)-.11 G(se of the)168.129 343.2 Q F4(OOPS)
2.75 E F3(package should include the line)2.75 E/F6 10/Courier@0 SF
(\(require 'oops\))100.346 365.703 Q F3 1.178(Since this in)72 387.703 R -.22
(vo)-.44 G(lv).22 E 1.177(es autoloading of an object \214le, it may be desira\
ble to dump Scheme after the)-.165 F F4(OOPS)72 402.703 Q F3
(package has been loaded.)2.75 E F1 2.75(3. De\214ning)72 432.703 R(Classes)
2.75 E F3(Ne)97 451.303 Q 3.323(wc)-.275 G .573
(lasses are de\214ned by means of the)125.7 451.303 R F6(define-class)3.324 E
F3 3.324(macro. The)6.574 F .574(syntax of)3.324 F F6(define-)3.324 E(class)72
466.303 Q F3(is)6 E F6(\(define-class)100.346 488.806 Q F2(class-name)6 E F6(.)
6 E F2(options)6 E F6(\))A F3(where)72 510.806 Q/F7 11/Times-Italic@0 SF
(class-name)2.75 E F3(is a symbol.)2.75 E F7(options)5.5 E F3
(can be of the form)2.75 E F6(\(super-class)100.346 533.309 Q F2(class-name)6 E
F6(\))A F3(where)72 555.309 Q F7(class-name)2.75 E F3(is the name of the super)
2.75 E(-class \(a symbol\), or)-.22 E F6(\(class-vars .)100.346 577.812 Q F2
(var)6 E(-specs)-.2 E F6(\))A F3(or)72 599.812 Q F6(\(instance-vars .)100.346
622.315 Q F2(var)6 E(-specs)-.2 E F6(\))A F3 .623(to specify the class v)72
644.315 R .623(ariables and instance v)-.275 F .622(ariables of the ne)-.275 F
.622(wly de\214ned class.)-.275 F(Each)6.122 E F7(var)3.372 E(-spec)-.22 E F3
(is)3.372 E(either a symbol \(the name of the v)72 659.315 Q
(ariable\) or of the form)-.275 E F6(\()100.346 681.818 Q F2 3.5
(symbol initializer)B F6(\).)A F3 -1.221(Va)72 703.818 S .143(riables for whic\
h no initializer has been speci\214ed are initialized to the empty list.)1.221
F .143(The initializ-)5.643 F .805(ers for class v)72 718.818 R .805
(ariables are e)-.275 F -.275(va)-.275 G .804
(luated immediately; initializers for instance v).275 F .804(ariables are e)
-.275 F -.275(va)-.275 G(luated).275 E .059(each time an instance of the ne)72
733.818 R .059(wly de\214ned class is created.)-.275 F(Ev)5.559 E .06
(aluation of initializers is performed)-.275 F EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF 2.75(-2-)278.837 51 S .44 LW 77.5 57 72 57 DL 80.5 57
75 57 DL 86 57 80.5 57 DL 91.5 57 86 57 DL 97 57 91.5 57 DL 102.5 57 97 57 DL
108 57 102.5 57 DL 113.5 57 108 57 DL 119 57 113.5 57 DL 124.5 57 119 57 DL 130
57 124.5 57 DL 135.5 57 130 57 DL 141 57 135.5 57 DL 146.5 57 141 57 DL 152 57
146.5 57 DL 157.5 57 152 57 DL 163 57 157.5 57 DL 168.5 57 163 57 DL 174 57
168.5 57 DL 179.5 57 174 57 DL 185 57 179.5 57 DL 190.5 57 185 57 DL 196 57
190.5 57 DL 201.5 57 196 57 DL 207 57 201.5 57 DL 212.5 57 207 57 DL 218 57
212.5 57 DL 223.5 57 218 57 DL 229 57 223.5 57 DL 234.5 57 229 57 DL 240 57
234.5 57 DL 245.5 57 240 57 DL 251 57 245.5 57 DL 256.5 57 251 57 DL 262 57
256.5 57 DL 267.5 57 262 57 DL 273 57 267.5 57 DL 278.5 57 273 57 DL 284 57
278.5 57 DL 289.5 57 284 57 DL 295 57 289.5 57 DL 300.5 57 295 57 DL 306 57
300.5 57 DL 311.5 57 306 57 DL 317 57 311.5 57 DL 322.5 57 317 57 DL 328 57
322.5 57 DL 333.5 57 328 57 DL 339 57 333.5 57 DL 344.5 57 339 57 DL 350 57
344.5 57 DL 355.5 57 350 57 DL 361 57 355.5 57 DL 366.5 57 361 57 DL 372 57
366.5 57 DL 377.5 57 372 57 DL 383 57 377.5 57 DL 388.5 57 383 57 DL 394 57
388.5 57 DL 399.5 57 394 57 DL 405 57 399.5 57 DL 410.5 57 405 57 DL 416 57
410.5 57 DL 421.5 57 416 57 DL 427 57 421.5 57 DL 432.5 57 427 57 DL 438 57
432.5 57 DL 443.5 57 438 57 DL 449 57 443.5 57 DL 454.5 57 449 57 DL 460 57
454.5 57 DL 465.5 57 460 57 DL 471 57 465.5 57 DL 476.5 57 471 57 DL 482 57
476.5 57 DL 487.5 57 482 57 DL 493 57 487.5 57 DL 498.5 57 493 57 DL 504 57
498.5 57 DL 1.161(in a w)72 87 R 1.161(ay that the initializer of a v)-.11 F
1.161(ariable can reference all v)-.275 F 1.161
(ariables appearing at the left of the)-.275 F -.275(va)72 102 S
(riable being initialized; for instance).275 E/F1 10/Courier@0 SF
(\(define-class foo \(class-vars \(a 10\) \(b \(* a 2\)\)\)\))100.346 124.503 Q
F0 -.11(wo)72 146.503 S(uld initialize the class v).11 E(ariable)-.275 E F1(b)
2.75 E F0(to 20.)6 E 2.979(Ac)97 165.103 S .229(lass inherits all class v)
112.805 165.103 R .229(ariables, instance v)-.275 F .23
(ariables, and methods of its super)-.275 F 2.98(-class. When)-.22 F 3.342(ac)
72 180.103 S .592(lass and its super)85.11 180.103 R .592(-class each ha)-.22 F
.922 -.165(ve a)-.22 H 3.342(ni).165 G .592(nstance v)253.913 180.103 R .591
(ariable with the same name, the corresponding)-.275 F/F2 11/Times-Italic@0 SF
(var)72 195.103 Q(-specs)-.22 E F0 1.525(must either both ha)4.275 F 1.855
-.165(ve n)-.22 H 4.276(oi).165 G 1.526
(nitializer or initializers with the same v)240.024 195.103 R 1.526
(alue, otherwise an)-.275 F -.814(``)72 210.103 S(initializer mismatch').814 E
2.75('e)-.814 G(rror is signaled by)180.35 210.103 Q F1(define-class)2.75 E F0
(.)A 1.038(Each instance of a class has an instance v)97 228.703 R 1.038
(ariable named)-.275 F F1(self)3.788 E F0 6.538(.T)C 1.038(he v)393.933 228.703
R 1.038(alue of)-.275 F F1(self)3.788 E F0 1.038(is the)7.038 F 1.072
(instance with respect to which)72 243.703 R F1(self)3.822 E F0 1.072(is e)
7.072 F -.275(va)-.275 G(luated.).275 E F1(self)6.572 E F0 1.072
(can be used by methods as the ar)7.072 F(gu-)-.198 E(ment to)72 258.703 Q F1
(send)2.75 E F0(\(see belo)6 E(w\) to in)-.275 E -.22(vo)-.44 G .22 -.11(ke a)
.22 H(nother method within the current instance.).11 E F1(define-class)97
277.303 Q F0 .263(does not ha)6.263 F .593 -.165(ve a m)-.22 H .263
(eaningful return v).165 F .262(alue, instead it has a side-ef)-.275 F .262
(fect on the)-.275 F(en)72 292.303 Q(vironment in which it is in)-.44 E -.22
(vo)-.44 G -.11(ke).22 G(d.).11 E/F3 11/Times-Bold@0 SF 2.75(4. Cr)72 322.303 R
(eating Instances of a Class)-.198 E F0 .434(The macro)97 340.903 R F1
(make-instance)3.184 E F0 .435
(is used to create an instance of a class; it returns the instance)6.434 F
(as its v)72 355.903 Q 2.75(alue. The)-.275 F(syntax is)2.75 E F1
(\(make-instance)100.346 378.406 Q/F4 10/Times-Italic@0 SF(class)6 E F1(.)6 E
F4(ar)6 E(gs)-.37 E F1(\))A F0(where)72 400.406 Q F2(class)2.75 E F0
(is the class of which an instance is to be created.)2.75 E(Each)5.5 E F2(ar)
2.75 E(g)-.407 E F0(of the form)2.75 E F1(\()100.346 422.909 Q F4 3.5
(symbol initializer)B F1(\))A F0(where)72 444.909 Q F2(symbol)3.81 E F0 1.06
(is the name of an instance v)3.81 F 1.059
(ariable of the class, is used to initialize the speci\214ed)-.275 F .532
(instance v)72 459.909 R .532(ariable in the ne)-.275 F .532
(wly created instance.)-.275 F .533(In this case the)6.032 F F2(initializer)
3.283 E F0 .533(supersedes an)3.283 F 3.283(yi)-.165 G(nitial-)477.721 459.909
Q .506(izer speci\214ed in the call to)72 474.909 R F1(define-class)3.256 E F0
6.006(.T)C .505(hus it is possible to ha)281.049 474.909 R .835 -.165(ve i)-.22
H .505(nstance v).165 F .505(ariables with a)-.275 F F2 .253
(default initializer)72 489.909 R F0 .253(that can be o)3.003 F -.165(ve)-.165
G .254(rridden for indi).165 F .254(vidual instances.)-.275 F .254
(The initializers are e)5.754 F -.275(va)-.275 G .254(luated in).275 F
(the current en)72 504.909 Q(vironment.)-.44 E F1(make-instance)97 523.509 Q F0
2.386(initializes the ne)8.386 F 2.385(wly created instance by in)-.275 F -.22
(vo)-.44 G 2.385(king the).22 F F1(initialize-)5.135 E(instance)72 538.509 Q F0
.889(method for the class and all super)6.889 F .889(-classes in super)-.22 F
.889(-class to sub-class order)-.22 F 6.39(.T)-.605 G .89(hat is,)476.831
538.509 R(the)72 553.509 Q F1(initialize-instance)4.183 E F0 1.432
(method of the class speci\214ed in the call to)7.432 F F1(make-instance)4.182
E F0(is)7.432 E 2.148(called after all other)72 568.509 R F1
(initialize-instance)4.899 E F0 4.899(methods. The)8.149 F(ar)4.899 E 2.149
(guments passed to the)-.198 F F1(ini-)4.899 E(tialize-instance)72 583.509 Q F0
.115(method of a class are those ar)6.115 F .115(guments of the call to)-.198 F
F1(make-instance)2.864 E F0(that)6.114 E .381
(do not represent an initialization form for an instance v)72 598.509 R 3.132
(ariable. These)-.275 F(ar)3.132 E .382(guments are e)-.198 F -.275(va)-.275 G
.382(luated in).275 F 2.601(the current en)72 613.509 R 5.351(vironment. It)
-.44 F 2.6(is not required for a class to ha)5.351 F 2.93 -.165(ve a)-.22 H(n)
.165 E F1(initialize-instance)5.35 E F0(method.)72 628.509 Q
(Consider the follo)97 647.109 Q(wing e)-.275 E(xample:)-.165 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF 2.75(-3-)278.837 51 S .44 LW 77.5 57 72 57 DL 80.5 57
75 57 DL 86 57 80.5 57 DL 91.5 57 86 57 DL 97 57 91.5 57 DL 102.5 57 97 57 DL
108 57 102.5 57 DL 113.5 57 108 57 DL 119 57 113.5 57 DL 124.5 57 119 57 DL 130
57 124.5 57 DL 135.5 57 130 57 DL 141 57 135.5 57 DL 146.5 57 141 57 DL 152 57
146.5 57 DL 157.5 57 152 57 DL 163 57 157.5 57 DL 168.5 57 163 57 DL 174 57
168.5 57 DL 179.5 57 174 57 DL 185 57 179.5 57 DL 190.5 57 185 57 DL 196 57
190.5 57 DL 201.5 57 196 57 DL 207 57 201.5 57 DL 212.5 57 207 57 DL 218 57
212.5 57 DL 223.5 57 218 57 DL 229 57 223.5 57 DL 234.5 57 229 57 DL 240 57
234.5 57 DL 245.5 57 240 57 DL 251 57 245.5 57 DL 256.5 57 251 57 DL 262 57
256.5 57 DL 267.5 57 262 57 DL 273 57 267.5 57 DL 278.5 57 273 57 DL 284 57
278.5 57 DL 289.5 57 284 57 DL 295 57 289.5 57 DL 300.5 57 295 57 DL 306 57
300.5 57 DL 311.5 57 306 57 DL 317 57 311.5 57 DL 322.5 57 317 57 DL 328 57
322.5 57 DL 333.5 57 328 57 DL 339 57 333.5 57 DL 344.5 57 339 57 DL 350 57
344.5 57 DL 355.5 57 350 57 DL 361 57 355.5 57 DL 366.5 57 361 57 DL 372 57
366.5 57 DL 377.5 57 372 57 DL 383 57 377.5 57 DL 388.5 57 383 57 DL 394 57
388.5 57 DL 399.5 57 394 57 DL 405 57 399.5 57 DL 410.5 57 405 57 DL 416 57
410.5 57 DL 421.5 57 416 57 DL 427 57 421.5 57 DL 432.5 57 427 57 DL 438 57
432.5 57 DL 443.5 57 438 57 DL 449 57 443.5 57 DL 454.5 57 449 57 DL 460 57
454.5 57 DL 465.5 57 460 57 DL 471 57 465.5 57 DL 476.5 57 471 57 DL 482 57
476.5 57 DL 487.5 57 482 57 DL 493 57 487.5 57 DL 498.5 57 493 57 DL 504 57
498.5 57 DL/F1 10/Courier@0 SF(\(require 'oops\))100.346 94.503 Q
(\(define-class c \(instance-vars a\)\))100.346 115.503 Q
(\(define-class d \(instance-vars \(b 10\)\) \(super-class c\)\))100.346
129.503 Q(\(define-method c \(initialize-instance . args\))100.346 150.503 Q
(\(print \(cons 'c args\)\)\))112.346 164.503 Q
(\(define-method d \(initialize-instance . args\))100.346 185.503 Q
(\(print \(cons 'd args\)\)\))112.346 199.503 Q F0(In this e)72 228.503 Q
(xample e)-.165 E -.275(va)-.275 G(luation of).275 E F1(\(define x 99\))100.346
251.006 Q(\(define i \(make-instance d \(a 20\) 'foo \(b x\) x\)\))100.346
265.006 Q F0 -.11(wo)72 287.006 S(uld print).11 E F1(\(c foo 99\))100.346
309.509 Q(\(d foo 99\))100.346 323.509 Q F0 1.104(Note that \214rst the)97
349.109 R F1(initialize-instance)3.854 E F0 1.104(method of)7.104 F F1(c)3.854
E F0 1.104(is in)7.104 F -.22(vo)-.44 G -.11(ke).22 G 3.854(da).11 G 1.104
(nd then that of the)419.537 349.109 R(class)72 364.109 Q F1(d)2.75 E F0 5.5
(.T)C(he instance v)117.105 364.109 Q(ariables)-.275 E F1(a)2.75 E F0(and)6 E
F1(b)2.75 E F0 -.11(wo)6 G(uld be initialized to 20 and 99, respecti).11 E
-.165(ve)-.275 G(ly).165 E(.)-.715 E/F2 11/Times-Bold@0 SF 2.75(5. De\214ning)
72 394.109 R(Methods)2.75 E F0 2.75(An)97 412.709 S .55 -.275(ew m)113.192
412.709 T(ethod can be de\214ned by means of the).275 E F1(define-method)2.75 E
F0 2.75(macro. The)6 F(syntax is)2.75 E F1(\(define-method)100.346 435.212 Q/F3
10/Times-Italic@0 SF 3.5(class lambda-list)6 F F1(.)6 E F3(body)6 E F1(\))A F0
(where)72 457.212 Q/F4 11/Times-Italic@0 SF(class)3.819 E F0 1.068
(is the class to which the method is to be added,)3.818 F F4(lambda-list)3.818
E F0 1.068(is a list specifying the)3.818 F(method')72 472.212 Q 2.75(sn)-.605
G(ame and formal ar)120.587 472.212 Q(guments \(ha)-.198 E
(ving the same syntax as the ar)-.22 E(gument of)-.198 E F1(define)2.75 E F0
(\).)A F1(define-method)97 490.812 Q F0 1.381(simply creates a class-v)7.381 F
1.381(ariable with the name of the method, creates a)-.275 F .163
(lambda closure using the)72 505.812 R F4(lambda-list)2.913 E F0 .163(and the)
2.913 F F4(body)2.913 E F0 .162
(forms, and binds the resulting procedure to the)2.913 F(ne)72 520.812 Q .953
(wly-created v)-.275 F 3.703(ariable. When)-.275 F 3.703(am)3.703 G .953
(essage with the name of the method is sent to an instance of)229.207 520.812 R
.504(the class, the method is in)72 535.812 R -.22(vo)-.44 G -.11(ke).22 G .504
(d, and the).11 F F4(body)3.254 E F0 .504(is e)3.254 F -.275(va)-.275 G .503
(luated in the scope of the instance \(so that it).275 F
(can access all instance and class v)72 550.812 Q(ariables\).)-.275 E F2 2.75
(6. Sending)72 580.812 R(Messages)2.75 E F0 3.327(Am)97 599.412 S .577
(essage can be sent to an instance by means of the function)116.827 599.412 R
F1(send)3.328 E F0 6.078(.T)C .578(he syntax of)421.748 599.412 R F1(send)3.328
E F0(is)72 614.412 Q F1(\(send)100.346 636.915 Q F3 3.5(instance messa)6 F -.1
(ge)-.1 G F1(.)6.1 E F3(ar)6 E(gs)-.37 E F1(\))A F0(where)72 658.915 Q F4
(instance)4.138 E F0 1.388(is the instance to which the message is to be sent,)
4.138 F F4(messa)4.137 E -.11(ge)-.11 G F0 1.387(is the name of the)4.247 F
.332(method to be in)72 673.915 R -.22(vo)-.44 G -.11(ke).22 G 3.082(d\().11 G
3.082(as)174.605 673.915 S .332(ymbol\), and)186.85 673.915 R F4(ar)3.082 E(gs)
-.407 E F0 .332(are the ar)3.082 F .333(guments to be passed to the method.)
-.198 F(Exam-)5.833 E(ple:)72 688.915 Q EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF 2.75(-4-)278.837 51 S .44 LW 77.5 57 72 57 DL 80.5 57
75 57 DL 86 57 80.5 57 DL 91.5 57 86 57 DL 97 57 91.5 57 DL 102.5 57 97 57 DL
108 57 102.5 57 DL 113.5 57 108 57 DL 119 57 113.5 57 DL 124.5 57 119 57 DL 130
57 124.5 57 DL 135.5 57 130 57 DL 141 57 135.5 57 DL 146.5 57 141 57 DL 152 57
146.5 57 DL 157.5 57 152 57 DL 163 57 157.5 57 DL 168.5 57 163 57 DL 174 57
168.5 57 DL 179.5 57 174 57 DL 185 57 179.5 57 DL 190.5 57 185 57 DL 196 57
190.5 57 DL 201.5 57 196 57 DL 207 57 201.5 57 DL 212.5 57 207 57 DL 218 57
212.5 57 DL 223.5 57 218 57 DL 229 57 223.5 57 DL 234.5 57 229 57 DL 240 57
234.5 57 DL 245.5 57 240 57 DL 251 57 245.5 57 DL 256.5 57 251 57 DL 262 57
256.5 57 DL 267.5 57 262 57 DL 273 57 267.5 57 DL 278.5 57 273 57 DL 284 57
278.5 57 DL 289.5 57 284 57 DL 295 57 289.5 57 DL 300.5 57 295 57 DL 306 57
300.5 57 DL 311.5 57 306 57 DL 317 57 311.5 57 DL 322.5 57 317 57 DL 328 57
322.5 57 DL 333.5 57 328 57 DL 339 57 333.5 57 DL 344.5 57 339 57 DL 350 57
344.5 57 DL 355.5 57 350 57 DL 361 57 355.5 57 DL 366.5 57 361 57 DL 372 57
366.5 57 DL 377.5 57 372 57 DL 383 57 377.5 57 DL 388.5 57 383 57 DL 394 57
388.5 57 DL 399.5 57 394 57 DL 405 57 399.5 57 DL 410.5 57 405 57 DL 416 57
410.5 57 DL 421.5 57 416 57 DL 427 57 421.5 57 DL 432.5 57 427 57 DL 438 57
432.5 57 DL 443.5 57 438 57 DL 449 57 443.5 57 DL 454.5 57 449 57 DL 460 57
454.5 57 DL 465.5 57 460 57 DL 471 57 465.5 57 DL 476.5 57 471 57 DL 482 57
476.5 57 DL 487.5 57 482 57 DL 493 57 487.5 57 DL 498.5 57 493 57 DL 504 57
498.5 57 DL/F1 10/Courier@0 SF
(\(define-class c \(instance-vars a\) \(class-vars \(b 10\)\)\))100.346 94.503
Q(\(define-method c \(foo x\))100.346 115.503 Q(\(cons \(set! a x\) b\)\))
112.346 129.503 Q 6(;s)262.346 129.503 S(et! returns previous value)280.346
129.503 Q(\(define i \(make-instance c \(a 99\)\)\))100.346 150.503 Q
(\(send i 'foo 1\))100.346 178.503 Q/F2 10/Times-Roman@0 SF 2.5(returns \(99)
250.346 178.503 R 2.5(.1)2.5 G(0\))308.946 178.503 Q F1(\(send i 'foo 2\))
100.346 192.503 Q F2 2.5(returns \(1)250.346 192.503 R 2.5(.1)2.5 G(0\))303.946
192.503 Q F0 .725(When a message is sent to an instance for which no method ha\
s been de\214ned, a `)97 218.103 R(`message)-.814 E(not understood')72 233.103
Q 2.75('e)-.814 G(rror is signaled.)151.838 233.103 Q 1.132(The function)97
251.703 R F1(send-if-handles)3.883 E F0 1.133(is identical to)7.133 F F1(send)
3.883 E F0 3.883(,e)C 1.133(xcept that it returns a list of one)356.446 251.703
R 2.197(element, the return v)72 266.703 R 2.196(alue of the method, or)-.275 F
F1(#f)4.946 E F0 2.196(when the message is not understood by the)8.196 F
(instance.)72 281.703 Q/F3 11/Times-Bold@0 SF 2.75(7. Ev)72 311.703 R
(aluating Expr)-.11 E(essions within an Instance)-.198 E F0 1.355(The macro)97
330.303 R F1(with-instance)4.105 E F0 1.355(can be used to e)7.355 F -.275(va)
-.275 G 1.355(luate e).275 F 1.356(xpressions within the scope of an)-.165 F
2.75(instance. The)72 345.303 R(syntax is)2.75 E F1(\(with-instance)100.346
367.806 Q/F4 10/Times-Italic@0 SF(instance)6 E F1(.)6 E F4(body)6 E F1(\).)A F0
(The)72 389.806 Q/F5 11/Times-Italic@0 SF(body)3.508 E F0 .758(forms are e)
3.508 F -.275(va)-.275 G .758(luated in the same en).275 F .757
(vironment in which a method of)-.44 F F5(instance)3.507 E F0 -.11(wo)3.507 G
.757(uld be).11 F -.275(eva)72 404.806 S 2.035(luated, i.).275 F 2.035(e. the)
1.833 F 4.786(yc)-.165 G 2.036(an access all and class and instance v)169.644
404.806 R 2.036(ariables \(including)-.275 F F1(self)4.786 E F0(\).)A F1(with-)
7.536 E(instance)72 419.806 Q F0(returns the v)6 E(alue of the last)-.275 E F5
(body)2.75 E F0 2.75(form. Example:)2.75 F F1
(\(define-class c \(class-vars \(x 5\)\) \(instance-vars y\)\))100.346 442.309
Q(\(define i \(make-instance c \(y 1\)\)\))100.346 463.309 Q(\(define x 10\))
100.346 484.309 Q(\(with-instance i \(cons x y\)\))100.346 498.309 Q F2 2.5
(returns \(5)328.346 498.309 R 2.5(.1)2.5 G(\))381.946 498.309 Q F3 2.75
(8. Setting)72 535.309 R(Instance and Class V)2.75 E(ariables)-1.012 E F0 1.187
(Generally class and instance v)97 553.909 R 1.187
(ariables are manipulated by methods or)-.275 F 3.937(,i)-.44 G 3.937(fa)
423.119 553.909 S 1.187(pplicable, from)435.603 553.909 R .761(within a)72
568.909 R F1(with-instance)3.511 E F0 3.511(form. In)6.761 F .762(addition, v)
3.511 F .762(alues can be assigned to class and instance v)-.275 F(ari-)-.275 E
.649(ables without in)72 583.909 R -.22(vo)-.44 G .648
(lving a message send by means of the).22 F F1(instance-set!)3.398 E F0 3.398
(macro. The)418.389 583.909 R(syntax)3.398 E(of)72 598.909 Q F1(instance-set!)
2.75 E F0(is)173.913 598.909 Q F1(\(instance-set!)100.346 621.412 Q F4 3.5
(instance variable value)6 F F1(\))A F0(where)72 643.412 Q F5(variable)5.844 E
F0 3.094(is a symbol, the name of the class or instance v)5.844 F(ariable.)
-.275 E F1(instance-set!)8.595 E F0(returns the pre)72 658.412 Q(vious v)-.275
E(alue of the v)-.275 E(ariable \(lik)-.275 E(e)-.11 E F1(set!)2.75 E F0(\).)A
.697(Class v)97 677.012 R .697(ariables can be modi\214ed without in)-.275 F
-.22(vo)-.44 G .696(lving an instance of the class by means of the).22 F(macro)
72 692.012 Q F1(class-set!)2.75 E F0(:)A EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF 2.75(-5-)278.837 51 S .44 LW 77.5 57 72 57 DL 80.5 57
75 57 DL 86 57 80.5 57 DL 91.5 57 86 57 DL 97 57 91.5 57 DL 102.5 57 97 57 DL
108 57 102.5 57 DL 113.5 57 108 57 DL 119 57 113.5 57 DL 124.5 57 119 57 DL 130
57 124.5 57 DL 135.5 57 130 57 DL 141 57 135.5 57 DL 146.5 57 141 57 DL 152 57
146.5 57 DL 157.5 57 152 57 DL 163 57 157.5 57 DL 168.5 57 163 57 DL 174 57
168.5 57 DL 179.5 57 174 57 DL 185 57 179.5 57 DL 190.5 57 185 57 DL 196 57
190.5 57 DL 201.5 57 196 57 DL 207 57 201.5 57 DL 212.5 57 207 57 DL 218 57
212.5 57 DL 223.5 57 218 57 DL 229 57 223.5 57 DL 234.5 57 229 57 DL 240 57
234.5 57 DL 245.5 57 240 57 DL 251 57 245.5 57 DL 256.5 57 251 57 DL 262 57
256.5 57 DL 267.5 57 262 57 DL 273 57 267.5 57 DL 278.5 57 273 57 DL 284 57
278.5 57 DL 289.5 57 284 57 DL 295 57 289.5 57 DL 300.5 57 295 57 DL 306 57
300.5 57 DL 311.5 57 306 57 DL 317 57 311.5 57 DL 322.5 57 317 57 DL 328 57
322.5 57 DL 333.5 57 328 57 DL 339 57 333.5 57 DL 344.5 57 339 57 DL 350 57
344.5 57 DL 355.5 57 350 57 DL 361 57 355.5 57 DL 366.5 57 361 57 DL 372 57
366.5 57 DL 377.5 57 372 57 DL 383 57 377.5 57 DL 388.5 57 383 57 DL 394 57
388.5 57 DL 399.5 57 394 57 DL 405 57 399.5 57 DL 410.5 57 405 57 DL 416 57
410.5 57 DL 421.5 57 416 57 DL 427 57 421.5 57 DL 432.5 57 427 57 DL 438 57
432.5 57 DL 443.5 57 438 57 DL 449 57 443.5 57 DL 454.5 57 449 57 DL 460 57
454.5 57 DL 465.5 57 460 57 DL 471 57 465.5 57 DL 476.5 57 471 57 DL 482 57
476.5 57 DL 487.5 57 482 57 DL 493 57 487.5 57 DL 498.5 57 493 57 DL 504 57
498.5 57 DL/F1 10/Courier@0 SF(\(class-set!)100.346 94.503 Q/F2 10
/Times-Italic@0 SF 3.5(class variable value)6 F F1(\).)A/F3 11/Times-Italic@0
SF(variable)72 116.503 Q F0(must be the name of a class v)2.75 E(ariable of)
-.275 E F3(class)2.75 E F0 5.5(.N)C(ote that one dif)323.152 116.503 Q
(ference between)-.275 E F1(\(instance-set! i 'var x\))100.346 139.006 Q F0
(and)72 161.006 Q F1(\(with-instance i \(set! var x\)\))100.346 183.509 Q F0
.735(is that in the former case)72 205.509 R F1(x)3.486 E F0 .736(is e)6.736 F
-.275(va)-.275 G .736(luated in the current en).275 F .736
(vironment while in the latter case)-.44 F F1(x)3.486 E F0(is)6.736 E -.275
(eva)72 220.509 S(luated within the scope of the instance \(here).275 E F1(x)
2.75 E F0(might be a class or instance v)6 E(ariable\).)-.275 E/F4 11
/Times-Bold@0 SF 2.75(9. Obtaining)72 250.509 R(Inf)2.75 E
(ormation about Classes and Instances)-.275 E F0 .951(The function)97 269.109 R
F1(class-name)3.701 E F0 .95(returns the name of a class \(a symbol\) or)6.951
F 3.7(,w)-.44 G .95(hen applied to an)425.69 269.109 R
(instance, the name of the class of which it is an instance.)72 284.109 Q .615
(The predicate)97 302.709 R F1(method-known?)3.365 E F0 .615
(can be used to check whether a method of a gi)251.765 302.709 R -.165(ve)-.275
G 3.366(nn).165 G(ame)485.674 302.709 Q(is kno)72 317.709 Q(wn to a class.)
-.275 E(The syntax is)5.5 E F1(\(method-known?)100.346 340.212 Q F2 3.5
(method class)6 F F1(\))A F0(where)72 362.212 Q F3(method)2.75 E F0
(is a symbol.)2.75 E .244(The type predicates)97 380.812 R F1(class?)2.994 E F0
(and)234.867 380.812 Q F1(instance?)2.994 E F0 .244
(can be used to check whether an object is)319.989 380.812 R 2.75(ac)72 395.812
S(lass or an instance, respecti)84.518 395.812 Q -.165(ve)-.275 G(ly).165 E(.)
-.715 E(The functions)97 414.412 Q F1(\(check-class)100.346 436.915 Q F2 3.5
(symbol object)6 F F1(\))A F0(and)72 458.915 Q F1(\(check-instance)100.346
481.418 Q F2 3.5(symbol object)6 F F1(\))A F0 .831(check whether)72 503.418 R
F3(object)3.581 E F0 .831(is a class \(i.)3.581 F .832
(e. satis\214es the predicate)1.833 F F1(class?)3.582 E F0 3.582(\)o)C 3.582
(ra)385.663 503.418 S 3.582(ni)397.792 503.418 S .832(nstance, respecti)409.932
503.418 R -.165(ve)-.275 G(ly).165 E(,)-.715 E
(and, if not, signal an error; in this case)72 518.418 Q F3(symbol)2.75 E F0
(is used as the \214rst ar)2.75 E(gument to)-.198 E F1(error)2.75 E F0(.)A .119
(The functions)97 537.018 R F1(describe-class)2.869 E F0(and)6.118 E F1
(describe-instance)2.868 E F0 .118(print the components \(name,)6.118 F 1.376
(class/instance v)72 552.018 R 1.376
(ariables, etc.\) of a class or instance, respecti)-.275 F -.165(ve)-.275 G(ly)
.165 E 6.877(.T)-.715 G 1.377(he function)378.659 552.018 R F1(describe)4.127 E
F0(has)7.377 E 4.931(been e)72 567.018 R 4.931(xtended in w)-.165 F 4.93
(ay that when)-.11 F F1 4.93(\(feature? 'oops\))7.68 F F0 4.93(is true,)357.355
567.018 R F1(describe-class)7.68 E F0(or)494.837 567.018 Q F1
(describe-instance)72 582.018 Q F0 .507(are called when)6.507 F F1(describe)
3.257 E F0 .508(is applied to an object that satis\214es)6.507 F F1(class?)
3.258 E F0(or)72 597.018 Q F1(instance?)2.75 E F0 2.75(,r)C(especti)147.076
597.018 Q -.165(ve)-.275 G(ly).165 E(.)-.715 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF 2.75(-6-)278.837 51 S .44 LW 77.5 57 72 57 DL 80.5 57
75 57 DL 86 57 80.5 57 DL 91.5 57 86 57 DL 97 57 91.5 57 DL 102.5 57 97 57 DL
108 57 102.5 57 DL 113.5 57 108 57 DL 119 57 113.5 57 DL 124.5 57 119 57 DL 130
57 124.5 57 DL 135.5 57 130 57 DL 141 57 135.5 57 DL 146.5 57 141 57 DL 152 57
146.5 57 DL 157.5 57 152 57 DL 163 57 157.5 57 DL 168.5 57 163 57 DL 174 57
168.5 57 DL 179.5 57 174 57 DL 185 57 179.5 57 DL 190.5 57 185 57 DL 196 57
190.5 57 DL 201.5 57 196 57 DL 207 57 201.5 57 DL 212.5 57 207 57 DL 218 57
212.5 57 DL 223.5 57 218 57 DL 229 57 223.5 57 DL 234.5 57 229 57 DL 240 57
234.5 57 DL 245.5 57 240 57 DL 251 57 245.5 57 DL 256.5 57 251 57 DL 262 57
256.5 57 DL 267.5 57 262 57 DL 273 57 267.5 57 DL 278.5 57 273 57 DL 284 57
278.5 57 DL 289.5 57 284 57 DL 295 57 289.5 57 DL 300.5 57 295 57 DL 306 57
300.5 57 DL 311.5 57 306 57 DL 317 57 311.5 57 DL 322.5 57 317 57 DL 328 57
322.5 57 DL 333.5 57 328 57 DL 339 57 333.5 57 DL 344.5 57 339 57 DL 350 57
344.5 57 DL 355.5 57 350 57 DL 361 57 355.5 57 DL 366.5 57 361 57 DL 372 57
366.5 57 DL 377.5 57 372 57 DL 383 57 377.5 57 DL 388.5 57 383 57 DL 394 57
388.5 57 DL 399.5 57 394 57 DL 405 57 399.5 57 DL 410.5 57 405 57 DL 416 57
410.5 57 DL 421.5 57 416 57 DL 427 57 421.5 57 DL 432.5 57 427 57 DL 438 57
432.5 57 DL 443.5 57 438 57 DL 449 57 443.5 57 DL 454.5 57 449 57 DL 460 57
454.5 57 DL 465.5 57 460 57 DL 471 57 465.5 57 DL 476.5 57 471 57 DL 482 57
476.5 57 DL 487.5 57 482 57 DL 493 57 487.5 57 DL 498.5 57 493 57 DL 504 57
498.5 57 DL/F1 13/Times-Bold@0 SF(Index)272.108 123 Q(C)72 174 Q F0
(check-class,)72 204 Q/F2 12/Times-Bold@0 SF(5)2.75 E F0(check-instance,)72 219
Q F2(5)2.75 E F0(class v)72 234 Q(ariables, 1)-.275 E(class-name,)72 249 Q F2
(5)2.75 E F0(class-set!,)72 264 Q F2(4)2.75 E F0(class-v)72 279 Q(ars,)-.275 E
F2(1)2.75 E F0(class?,)72 294 Q F2(5)2.75 E F1(D)72 324 Q F0(de\214ne-class,)72
354 Q F2(1)2.75 E F0(de\214ne-method,)72 369 Q F2(3)2.75 E F0(describe,)72 384
Q F2(5)2.75 E F0(describe-class,)72 399 Q F2(5)2.75 E F0(describe-instance,)72
414 Q F2(5)2.75 E F1(I)72 444 Q F0(initialize-instance,)72 474 Q F2(2)2.75 E F0
(initializers, 1)72 489 Q(instance v)72 504 Q(ariables, 1)-.275 E
(instance-set!,)72 519 Q F2(4)2.75 E F0(instance-v)72 534 Q(ars,)-.275 E F2(1)
2.75 E F0(instance?,)72 549 Q F2(5)2.75 E F1(M)72 579 Q F0(mak)72 609 Q
(e-instance,)-.11 E F2(2)2.75 E F0(method-kno)72 624 Q(wn?,)-.275 E F2(5)2.75 E
F1(O)72 654 Q F0(oops, 1)302.4 174 Q F1(S)302.4 204 Q F0(self,)302.4 234 Q F2
(2)2.75 E F0(send, 2,)302.4 249 Q F2(3)2.75 E F0(send-if-handles,)302.4 264 Q
F2(4)2.75 E F0(super)302.4 279 Q(-class,)-.22 E F2(1)2.75 E F1(W)302.4 309 Q F0
(with-instance,)302.4 339 Q F2(4)2.75 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 13/Times-Bold@0 SF -1.196(Ta)239.127 123 S(ble of Contents)1.196 E/F1 11
/Times-Roman@0 SF .866(Introduction ..........................................\
..............................................................................\
......)72 177.6 R(1)498.5 177.6 Q(Using)72 196.2 Q/F2 10/Times-Roman@0 SF(OOPS)
2.75 E F1 19.25(..............................................................\
................................................................ 1)3.411 F
(De\214ning Classes)72 214.8 Q 19.25(.........................................\
..............................................................................\
 1)3 F(Creating Instances of a Class)72 233.4 Q 19.25(........................\
........................................................................... 2)
4.551 F(De\214ning Methods)72 252 Q 19.25(....................................\
..............................................................................\
... 3)3 F(Sending Messages)72 270.6 Q 19.25(..................................\
..............................................................................\
.... 3)3.924 F(Ev)72 289.2 Q(aluating Expressions within an Instance)-.275 E
19.25(........................................................................\
...... 4)3.297 F(Setting Instance and Class V)72 307.8 Q .272(ariables .......\
..............................................................................\
...)-1.221 F(4)498.5 307.8 Q(Obtaining Information about Classes and Instances)
72 326.4 Q 19.25
(................................................................ 5)3.946 F
(Inde)72 345 Q 2.868(x.)-.165 G 19.25(........................................\
..............................................................................\
.................. 6)102.5 345 R EP
%%Trailer
end
%%EOF

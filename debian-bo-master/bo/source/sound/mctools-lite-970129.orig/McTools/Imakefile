# Copyright (C) 1994 - 1996 
#            Olav Woelfelschneider (wosch@rbg.informatik.th-darmstadt.de)
#
#  This library is free software; you can redistribute it and/or
#  modify it under the terms of the GNU Library General Public License as
#  published by the Free Software Foundation; either version 2 of the
#  License, or (at your option) any later version.
#
#  This library is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#  Library General Public License for more details.
#
#  You should have received a copy of the GNU Library General Public
#  License along with this library; see the file COPYING.LIB.  If
#  not, write to the Free Software Foundation, Inc., 675 Mass Ave,
#  Cambridge, MA 02139, USA.
#
#
# Imakefile for libMcTools
#

###############################################################################
#
# No user servicable parts below
#

#include "../config.h"
#include "local.h"

EXTRA_INCLUDES  =	-I..

# Sorted alphabetically, nice to see progress while compiling
SRCS =		McApp.c McBitmap.c McBuffer.c McCheckBox.c McChoice.c \
		McDebug.c McDigits.c McFileRequest.c McFocus.c McGadget.c \
		McInfoRequest.c McKnob.c McLoad.c McMenu.c McMenubar.c \
		McMeter.c McOrder.c McRadio.c McResource.c McSelection.c \
		McSelector.c McSlider.c McString.c McText.c McTip.c \
		McToolbar.c McUtils.c McViewBitmap.c McViewText.c

OBJS =		McApp.o McBitmap.o McBuffer.o McCheckBox.o McChoice.o \
		McDebug.o McDigits.o McFileRequest.o McFocus.o McGadget.o \
		McInfoRequest.o McKnob.o McLoad.o McMenu.o McMenubar.o \
		McMeter.o McOrder.o McRadio.o McResource.o McSelection.o \
		McSelector.o McSlider.o McString.o McText.o McTip.o \
		McToolbar.o McUtils.o McViewBitmap.o McViewText.o

MSGS	=	de.mo

REVISION =	1.0
LIBNAME	 =	McTools

EXTRA_DEFINES = -DRESOURCE_PATH="\"$(XAPPLOADDIR)/\""

#if defined(__ELF__) && defined(BUILD_ELF_SHARED_LIBRARY)

XCOMM ELF
SharedLibraryTarget($(LIBNAME),$(REVISION),$(OBJS),.,.)

.c.Osuf:
	NormalSharedLibObjCompile()

InstallSharedLibrary($(LIBNAME),$(REVISION),$(SHLIBDIR))

install::
	-(cd $(SHLIBDIR); \
          RemoveFile(lib$(LIBNAME).so) && \
          $(LN) lib$(LIBNAME).so.$(REVISION) lib$(LIBNAME).so; /sbin/ldconfig)

#else

XCOMM STATIC
NormalLibraryTarget($(LIBNAME),$(OBJS))

install:: lib$(LIBNAME).a

#endif

clean::
	rm -f lib$(LIBNAME).so*  lib$(LIBNAME).a

InstallNamedTarget(install.include,*.h,,$(INCROOT)/$(LIBNAME),)

McInstallMessageTarget($(MSGS),$(LIBNAME))

DependTarget()








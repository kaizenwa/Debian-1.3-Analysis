<title>AWEDRV FREQUENTLY ASKED QUESTIONS</title>
<body>

<h1>AWEDRV FREQUENTLY ASKED QUESTIONS</h1><p>

FAQ ver.1.18
<p>

<hr size=10>
<dl>
<dt><a href=#Q1>
1. INSTALLATION
</a>
<dl>
<dt><a href=#Q1.1>
Q1.1: What is awedrv?  What can I do with this?
</a>
<dt><a href=#Q1.2>
Q1.2: From where can I download AWE32 sound driver for Linux and FreeBSD?
</a>
<dt><a href=#Q1.3>
Q1.3*: What options should be set to configure sound module for AWE32?
</a>
<dt><a href=#Q1.4>
Q1.4*: I have an SB32-PnP card, and my linux crashes while booting.  Why?
</a>
<dt><a href=#Q1.5>
Q1.5*: I installed ISA PnP tools, but still awedrv says "can't detect AWE32".
</a>
<dt><a href=#Q1.6>
Q1.6: Where can I find the <code>sf1to2.exe</code> mentioned in the installation document?
</a>
<dt><a href=#Q1.7>
Q1.7*: Can I load my GM file automatically on the sound driver module?
</a>
<dt><a href=#Q1.8>
Q1.8*: I can't install properly on my linux-2.0.0 from Slackware 96.
</a>
</dl>

<dt><a href=#Q2>
2. LOADING SAMPLES
</a>
<dl>
<dt><a href=#Q2.1>
Q2.1: How can I play my midi files using awe driver?  What configuration is necessary?
</a>
<dt><a href=#Q2.2>
Q2.2: I loaded the GM or GS presets distributed by CreativeLabs, but I can't 
    hear some instruments.  How are these used?
</a>
<dt><a href=#Q2.3>
Q2.3: I have a midi file with a specified SBK file.  How can I listen to
    it? 
</a>
<dt><a href=#Q2.4>
Q2.4: I have GUS patch files.  Can I use these samples?
</a>
<dt><a href=#Q2.5>
Q2.5: I often see a "bad checksum" error when loading.
</a>
<dt><a href=#Q2.6>
Q2.6: I couldn't load my 2MB GM/GS preset from CreativeLabs.
</a>
<dt><a href=#Q2.7>
Q2.7: I couldn't load Chaos 2MB GM/GS preset.
</a>
<dt><a href=#Q2.8>
Q2.8: I have no DRAM in my card - can I still play midi files with it?
</a>
<dt><a href=#Q2.9>
Q2.9: How can I play midi files using the default ROM fonts that come with
   my card?
</a>
</dl>

<dt><a href=#Q3>
3. PLAYING MIDI FILES
</a>
<dl>
<dt><a href=#Q3.1>
Q3.1: <code>drvmidi</code> plays strange sounds when I use an addtional SoundFont file.
</a>
<dt><a href=#Q3.2>
Q3.2: I changed chorus and reverb modes using <code>drvmidi</code>, but nothing
    changed.  Why?
</a>
<dt><a href=#Q3.3>
Q3.3: Many clicking noises can be heard in some midi files.
</a>
<dt><a href=#Q3.4>
Q3.4: Sounds are too loud!
</a>
<dt><a href=#Q3.5>
Q3.5*: How can MIDI files be played from Netscape?
</a>
<dt><a href=#Q3.6>
Q3.6: Some sounds changed after updating <code>sfxload</code>.
</a>
<dt><a href=#Q3.7>
Q3.7: My trace window of <code>drvmidi</code> is empty.  How can I use it?
</a>
<dt><a href=#Q3.8>
Q3.8: A strange piano sound is heard instead of drum sounds.
</a>
</dl>

<dt><a href=#Q4>
4. PROGRAMMING &amp; MISCELLANEOUS
</a>
<dl>
<dt><a href=#Q4.1>
Q4.1: I'm planning to write a music player for AWE32.  How can I control
    the AWE32 driver from my program?
</a>
<dt><a href=#Q4.2>
Q4.2: I want a MOD player!
</a>
</dl>

</dl>
The questions with asterisk(*) indicate the Linux specific problems.
<p>

<p><hr size=10><p>

<h2><a name=Q1>
1. INSTALLATION
</h2>

<h3><a name=Q1.1>
Q1.1: What is awedrv?  What can I do with this?
</h3><p>

Awedrv is the sound driver extension to OSS-Lite or USS-Lite (aka
VoxWare) for AWE32 and its compatible wave synthesizer card by CreativeLabs.
This driver provides a basic way to control Emu8000 chip on AWE32
board through <code>/dev/sequencer</code> and <code>/dev/sequencer2</code>
devices as well as other
synth drivers like FM-OPL3 and GUS wave drivers.
In this sense, this is not exactly a midi driver, but you can play
midi files using some midi players supporting the awedrv listed below.
<p>

The current driver is distributed both as a lowlevel driver to
OSS-Lite with Linux 2.1.x kernel, USS-Lite with Linux 2.0.x kernel,
and also as a patch to VoxWare 3.0.x with Linux 1.2.x kernel or FreeBSD.
Both environments are confirmed to work fine.
However a little attention is necessary to use this driver on PnP cards.
See <a href=#Q1.4>Q1.4</a> and <a href=#Q1.5>Q1.5</a> for installation on PnP cards.
<p>

The programs supporting awedrv are:
<ul>
<li> MIDI Sequencers
<ul>
<li> <b>drvmidi</b> MIDI player program (<code>awemidi-0.x.x.tar</code>)
<li> <b>playmidi</b> with a patch file (<code>playmidi-2.3+awe0.3.diff</code>)
<li> <b>Jazz</b> works without any patch (but not perfectly yet)
</ul>
<li> Games
<ul>
<li> <b>DOOM musserver</b> with a patch file
(<code>musserver+awe0.3.diff</code>)
</ul>
<li> Module Players
<ul>
<li> <b>xmp</b>, officially supporting the AWE driver.
<li> <b>gmod</b> module player with a small patch working as a GUS compatilble driver (see <a href=#Q4.2>Q4.2</a>).
</ul>
<li> Others
<ul>
<li> Netscape 3.0 MIDI Plug-in
</ul>
</ul>
<p>

<p><hr><p>

<h3><a name=Q1.2>
Q1.2: From where can I download AWE32 sound driver for Linux and FreeBSD?
</h3><p>

You can download from my web page:
<center>
<a href=http://bahamut.mm.t.u-tokyo.ac.jp/~iwai/awedrv/index.html>
<i>http://bahamut.mm.t.u-tokyo.ac.jp/~iwai/awedrv/index.html</i></a>
</center>
<p>

Also the following mirroring sites are available:
<ul>
<li><a href=http://www.lpsg.demon.co.uk/awe32.html>
UK - <i>http://www.lpsg.demon.co.uk/awe32.html</i></a>
</ul>
<p>

<p><hr><p>

<h3><a name=Q1.3>
Q1.3*: What options should be set to configure sound module for AWE32?
</h3><p>

Basically, to configure awedrv, say <i>Yes</i> only to
"lowlevel sound driver support" and "AWE32 wave synth".
(If you're using VoxWare, only the latter question will appear.)
On AWE32 board, all transfers are done through I/O ports (not DMA),
and awedrv probes these I/O ports automatically, so no need to specify
any address or IRQ at configuration.
<p>

Of course, you may want other functions of SoundBlaster
like playing and recording digital sound, FM synthesizer, and mixer support.
Awedrv is only an enhancement to control Emu8000 synthesizer, and
such functions are supported by other SB drivers.
So better to keep <i>Yes</i> for all other SB16 options as well.
<p>

<p><hr><p>

<h3><a name=Q1.4>
Q1.4*: I have an SB32-PnP card, and my linux crashes while booting.  Why?
</h3><p>

This is a problem in PnP initialization.
Because the Linux 2.0 and older kernels fail to initialize PnP cards,
some special treatment is necessary before loading sound driver.
There're a couple of ways to solve this:
<ol>
<li>use PnP ISA driver by Tom Lees.
<li>use PnP utilities like ISAPnPtool and PnP4Kernel.
<li>initialize PnP card on DOS and use <code>loadlin</code> to boot linux.
</ol>
<p>

Tom Lees developed a Plug'n'Play ISA driver for Linux kernel.
It includes patches to automatically configure the sound driver (SB16, MPU401, OPL3, AWE32), and your Plug'n'Play ISA card.
This requires to recompile the kernel.
See Tom's web page for more details,
<center>
<a href=http://www.lpsg.demon.co.uk/pnp-linux.html>
<i>http://www.lpsg.demon.co.uk/pnp-linux.html</i></a>
</center>
<p>

Neal Sanche (<i>neal@nsdev.ocunix.on.ca</i>) summarizes the procedure to
install on PnP card by ISAPnP tool that:
<p>

<h4>Setting up SoundBlaster 32 PnP under Linux</h4>

The SoundBlaster 32 PnP, like all plug and play devices, requires
initialization before the Linux device driver is loaded in order to 
function properly. This means that some form of initialization is
required to hear sound. Currently many PnP projects (one at
<a href=http://www.redhat.com/linux-info/pnp>
<i>http://www.redhat.com/linux-info/pnp</i></a>) are being developed.
I use a simple tool called ISAPnP. It is available at:
<center><a href=http://www.redhat.com/linux-info/pnp/other.html>
<i>http://www.redhat.com/linux-info/pnp/other.html</i>
</a></center>
<p>

The steps you need to do in order to get sound working:
<ol>
<li> Compile your Linux kernel with module support, and compile the
  sound driver as a module. This is important because you must load
  the module <i>after</i> initializing your PnP card under Linux.

<li> Somewhere in your startup scripts (in <code>rc.local</code>, or
<code>rc.modules</code> in
  a recent version of RedHat) you must initialize your sound card
  with some tool. ISAPnP is easy to configure and seems very reliable.

<li> Load the sound module. Set your mixer settings.
</ol>
<p>

For example, this is how I initialize the SB32 PnP in my startup
scripts:
<pre>
#!/bin/sh

# initialize PnP devices
if [ -x /sbin/isapnp ]; then
  echo "Configuring PnP devices"
  /sbin/isapnp /etc/isapnp.conf
fi
 
echo "Loading sound module"
/sbin/modprobe -a sound
</pre>
<p>

ISAPnP is quite an easy program to configure. Here is a copy of my
<code>isapnp.conf</code> file. I used all of the defaults (from the SB manual)
for ports and IRQ settings.
<pre>
(READPORT 0x0273)
(ISOLATE)
(IDENTIFY *)

# Card 1: (serial identifier 6d 00 0e b0 52 44 00 8c 0e)
# CTL0044 Serial No 962642 [checksum 6d]
# Version 1.0, Vendor version 1.0
# ANSI string --&gt;Creative SB32 PnP&lt;--
#
# Logical device id CTL0031
#
# Edit the entries below to uncomment out the configuration required.
# Note that only the first value of any range is given, this may be changed if required
# Don't forget to uncomment the activate (ACT Y) when happy

(CONFIGURE CTL0044/962642 (LD 0
# ANSI string --&gt;Audio&lt;--
  (INT 0 (IRQ 5 (MODE +E)))
  (DMA 0 (CHANNEL 1))
  (DMA 1 (CHANNEL 5))
  (IO 0 (BASE 0x0220))
  (IO 1 (BASE 0x0330))
  (IO 2 (BASE 0x0388))

  (ACT Y)
))

# Logical device id CTL0021
#
# Edit the entries below to uncomment out the configuration required.
# Note that only the first value of any range is given, this may be changed if required
# Don't forget to uncomment the activate (ACT Y) when happy

(CONFIGURE CTL0044/962642 (LD 2
# ANSI string --&gt;WaveTable&lt;--
  (IO 0 (BASE 0x0620))
  (IO 1 (BASE 0x0a20))
  (IO 2 (BASE 0x0e20))
  (ACT Y)
))

# Logical device id CTL7001
#
# Edit the entries below to uncomment out the configuration required.
# Note that only the first value of any range is given, this may be changed if required
# Don't forget to uncomment the activate (ACT Y) when happy

(CONFIGURE CTL0044/962642 (LD 3
#     Compatible device id PNPb02f
#     ANSI string --&gt;Game&lt;--
#     Logical device decodes 16 bit IO address lines
#         Minimum IO base address 0x0200
#         Maximum IO base address 0x0200
#         IO base alignment 1 bytes
#         Number of IO addresses required: 8
# (IO 0 (BASE 0x0200))
# (ACT Y)
))

# Logical device id CTL0051
#
# Edit the entries below to uncomment out the configuration required.
# Note that only the first value of any range is given, this may be changed if required
# Don't forget to uncomment the activate (ACT Y) when happy

(CONFIGURE CTL0044/962642 (LD 4
#     ANSI string --&gt;StereoEnhance&lt;--
#     Logical device decodes 16 bit IO address lines
#         Minimum IO base address 0x0100
#         Maximum IO base address 0x03f8
#         IO base alignment 8 bytes
#         Number of IO addresses required: 1
  (IO 0 (BASE 0x0108))
(ACT Y)))
</pre>
<p>

That's all there is to it. In the future, the Linux kernel source will
directory support Plug and Play, and there will be no need for the
isapnp tool.
<p>

<p><hr><p>
<h3><a name=Q1.5>
Q1.5*: I installed ISA PnP tools, but still awedrv says "can't detect AWE32".
</h3><p>

Check WaveTable entries in you <code>/etc/isapnp.conf</code> file.
AWE32 uses three I/O ports, 0x620, 0xa20, and 0xe20, but in the default ouput
from <code>pnpdump</code> is sometimes lack of the last two pots (0xa20 and 0xe20).
In such a case, you have to add them manually. For example,
<pre>
# Logical device id CTL0021
(CONFIGURE CTL0044/962642 (LD 2
# ANSI string --&gt;WaveTable&lt;--
  (IO 0 (BASE 0x0620))
  (IO 1 (BASE 0x0A20))
  (IO 2 (BASE 0x0E20))
  (ACT Y)
))
</pre>
<p>

Also, don't forget set <code>(ACT Y)</code>, too.
<p>

<p><hr><p>

<h3><a name=Q1.6>
Q1.6: Where can I find the <code>sf1to2.exe</code> mentioned in the installation document?
</h3><p>

<code>sf1to2.exe</code> can be found in the latest creative drivers.
    You can also find on some web pages, for example,
<center>
<a href=http://www.telebyte.nl/sound/programs/sf1to2.exe>
<i>http://www.telebyte.nl/sound/programs/sf1to2.exe</i></a>
</center>
<p>

<b>The recent awesfx utilities (from 0.1.5d) support both SBK and SF2 files.
Conversion is not necessary for normal use.</b>
<p>

<p><hr><p>

<h3><a name=Q1.7>
Q1.7*: Can I load my GM file automatically on the sound driver module?
</h3><p>

Yes.  You can specify the command to be executed after loading modules
in your <code>/etc/conf.modules</code> file with <code>post-install</code>
command.
For example,
<pre>
post-install sound	/usr/local/bin/sfxload -i synthgm.sf2
</pre>
Similary, it's possible to set the mixer volume automatically,
<pre>
post-install sound	/usr/local/bin/setmix -f /etc/mixrc;\
			/usr/local/bin/sfxload -i synthgm.sf2
</pre>
<p>

<p><hr><p>

<h3><a name=Q1.8>
Q1.8*: I can't install properly on my linux-2.0.0 from Slackware 96.
</h3><p>

Slackware 96 initially installs Linux-2.0.0 system.
The AWE driver doesn't support this version of sound driver.
So please update the kernel version to the newer one, at least 2.0.21.
Sorry for incovenience...
<p>

<p><hr size=10><p>

<h2><a name=Q2>
2. LOADING SAMPLES
</h2><p>

<h3><a name=Q2.1>
Q2.1: How can I play my midi files using awe driver?  What configuration is necessary?
</h3><p>

To play a sound using awedrv, you need awesfx utility to load samples on the driver,
and midi player programs which supports awedrv.
Basically, awedrv doesn't have any sound information in it at beginning.
So, users must load their own SoundFont files
using sfxload program in awesfx utils even for ROM sounds
(see <a href=#Q2.9>Q2.9</a>).
Awesfx utility can be downloaded also from my web page:
<center>
<a href=http://bahamut.mm.t.u-tokyo.ac.jp/~iwai/awedrv/index.html>
<i>http://bahamut.mm.t.u-tokyo.ac.jp/~iwai/awedrv/index.html</i></a>
</center>
<p>

To load the SoundFont file (or the converted SFX file) on the AWE driver,
use <code>sfxload</code> utility.
For example, to load your GM SoundFont file <code>synthgm.sf2</code>,
<pre>
	% sfxload -i synthgm.sf2
</pre>
The option '<code>-i</code>' means to remove all samples on the driver
before loading this sample.  Without this option, the samples are appended.
Also, you'd better to add '<code>-s</code>' option to reduce sample
loading time.  This option skips the sample verification with
check sum.
<p>

Now you can hear your midi file by midi players like <code>drvmidi</code>
distributed in awemidi package.
<pre>
	% drvmidi sample.mid
</pre>
See <a href=#Q2.3>Q2.3</a> to how to use specified SBK files with midi files. 
<p>

<p><hr><p>

<h3><a name=Q2.2>
Q2.2: I loaded the GM or GS presets distributed by CreativeLabs, but I can't 
    hear some instruments.  How are these used?
</h3><p>

If you're using <code>drvmidi</code> or <code>playmidi</code> player,
you can load your SoundFont files directly using <code>sfxload</code> utility.
The recent driver (from v0.3) supports the multiple instruments
including stereo sounds, and the problems below are solved.
<p>

The default GM and GS presets (<code>synthgm.sf2</code> and
<code>synthgs.sf2</code>) hold multiple instrument definitions.
The older driver (v0.1/0.2) could only handle one instrument per one preset.
A patch kit (<code>awepreset-0.2.0</code>) is provided for this
problem.  See the instruction in the package for details.
<p>

<p><hr><p>

<h3><a name=Q2.3>
Q2.3: I have a midi file with a specified SBK file.  How can I listen to
    it? 
</h3><p>

Just load the SBK file after GM (or GS) presets.
From awesfx-0.1.5d, SBK file can be loaded without converting to SF2.
Don't forget to add a command option "</code>-b 1</code>"
in this case (see <a href=#Q3.1>Q3.1</a>).
<pre>
	% sfxload -i synthgm.sf2
	% sfxload -b 1 -s foo.sbk
</pre>
<p>

Now you can hear your midi file. Enjoy.
<pre>
	% drvmidi foo.mid
</pre>
<p>

<p><hr><p>

<h3><a name=Q2.4>
Q2.4: I have GUS patch files.  Can I use these samples?
</h3><p>

Yes.  You can convert it to SFX file using <code>gus2sfx</code> utility.
For example, to convert <code>gunshot.pat</code> with bank 0, program 127,
<pre>
	% gus2sfx gunshot.pat gunshot.sfx 0 127
</pre>
Then you can load this sample by <code>sfxload</code>.
<pre>
	% sfxload gunshot.sfx
</pre>
This appends a sample in <code>gunshot.sfx</code>, so other voices
except preset 127 are not changed.
<p>

The awedrv 0.2.0 (or later) accepts GUS compatible patches,
so you can load GUS patch files directly <code>gusload</code> utility.
For example,
<pre>
	% gusload -p 127 gunshot.pat
</pre>
<p>

<p><hr><p>

<h3><a name=Q2.5>
Q2.5: I often see a "bad checksum" error when loading.
</h3><p>

Occasionally awedrv fails to transfer sample data to DRAM on
AWE32.  This shorten the length of actual sample data, and raise
up address mismatch.  So impure data may be included during its
loop.  When you see this message frequently,
initialize AWE32 once by option <code>-I</code> of <code>sfxload</code>,
and reload samples again. 
<pre>
	% sfxload -I synthgs.sf2
</pre>
Note that the option '<code>-I</code>' doesn't remove samples.
It only re-initializes Emu8000 chip.
<p>

<p><hr><p>

<h3><a name=Q2.6>
Q2.6: I couldn't load my 2MB GM/GS preset from CreativeLabs.
</h3><p>

If you're using sfxload ver.0.2 or older, please update it to the latest
(ver.0.3 or later) one.  There was a bug about zero layered preset in the
older versions.
<p>

If you have an error message saying "no space left" from sfxload,
increase the maximum number of samples and voice informations.
The AWE driver has two fixed size tables for sound sample and voice informations, respectively.
The default table size is designed to fit to 512k GS samples,
so it'll be short for 2MB or larger presets.
Usually, 600 samples and 3200 voices are enough for most of presets.
<p>

You can see these table sizes from <code>txt2sfx</code> or <code>sfxload</code>
using <code>-v</code> option.  The messages are output to standard error.
<pre>
version = 2.0
sampledata = 160 1843630
presets = 327
instruments = 262
samples = 387
voices=922
max voices=2903
...
</pre>
<p>

Then, edit your <code>awe_config.h</code> as
<pre>
/*----------------------------------------------------------------
 * maximum size of sample table:
 * the followings are for ROM GM and 512k GS samples.  if your have
 * additional DRAM and SoundFonts, increase these values.
 *----------------------------------------------------------------*/

#define AWE_MAX_SAMPLES 600
#define AWE_MAX_INFOS 3200
</pre>
and recompile the kernel or modules in your system.
<p>

<p><hr><p>

<h3><a name=Q2.7>
Q2.7: I couldn't load Chaos 2MB GM/GS preset.
</h3><p>

It's the problem of sfxload utility.
Please update it to the newest one (ver.0.2.99c or later).
<p>

Chaos 2M SoundFont file is designed to fit just to 2MB DRAM.
The older sfxload than v0.2.99c appends the 48 size blank loops
after each sample, and this increases the total size over 2MB.
The recent sfxload (v0.2.99c) keeps the total sample size as original
unless <code>-B</code> option is specified.
<p>

<p><hr><p>

<h3><a name=Q2.8>
Q2.8: I have no DRAM in my card - can I still play midi files with it?
</h3><p>

<i>Chris Wedgwood &lt;chris@cyphercom.com&gt; answers:</i><p>

Yes. You can use the default ROM fonts that are built into the card.
However, it won't necessarily sound very good.
<p>

<p><hr><p>

<h3><a name=Q2.9>
Q2.9: How can I play midi files using the default ROM fonts that come with
   my card?
</h3><p>

<i>Chris Wedgwood &lt;chris@cyphercom.com&gt; answers:</i><p>

You have to load the ROM fonts into the card using <code>sfxload</code>.
To do this you need a file called '<code>synthgm.sbk</code>'
(or <code>synthgm.sf2</code>) which is installed under Windows95
and presumably Windows 3.1.
<p>

There always seems to be a copy in the 'windows system'
directory, and often another copy amongst the other installed Creative Labs files. The windows system directory is usually <code>\WINDOWS\SYSTEM</code>.
<p>

For the 'purists' who don't have Windows installed - you will probably
have to try and get this file from elsewhere, as it is not stored on the
CDROM in any useful form. (At least not on mine). It appears to be
archive in the <code>win95/sfbank/sfbank.lib</code> file
- but I have no details on the format of this).
<p>

To load the ROM fonts type:
<pre>
	% sfxload synthgm.sbk
</pre>

(Obviously you will have to prepend a path if <code>synthgm.sbk</code>
is not in the current working directory).
<p>

   The size of the file is about 35k, it compresses down to about 14k, so
   obtaining it via FTP or email shouldn't be a big problem - although there
   maybe copyright issues involved. I wouldn't know, I'm not a lawyer.
<p>

<p><hr size=10><p>

<h2><a name=Q3>
3. PLAYING MIDI FILES
</h2><p>

<h3><a name=Q3.1>
Q3.1: <code>drvmidi</code> plays strange sounds when I use an addtional SoundFont file.
</h3><p>

 Most of user-defined SoundFont files are designed to be loaded on
 bank 1.  Try the option <code>-b 1</code> of <code>sfxload</code> for such a sample (see <a href=#Q2.3>Q2.3</a>).
<p>

<p><hr><p>

<h3><a name=Q3.2>
Q3.2: I changed chorus and reverb modes using <code>drvmidi</code>, but nothing
    changed.  Why?
</h3><p>

To activate chorus and reverb modes, you have to specify non-zero values for these
effects at loading samples by using <code>-c</code> and <code>-r</code> options of <code>sfxload</code>,
respectively.
<pre>
	% sfxload -i -c 30 -r 20 gm.sfx
</pre>
<p>

<p><hr><p>

<h3><a name=Q3.3>
Q3.3: Many clicking noises can be heard in some midi files.
</h3><p>

If this happens when panning status changes, it is due to the
restriction of Emu8000 chip.  Otherwise, it may be a bug.
<p>

<p><hr><p>

<h3><a name=Q3.4>
Q3.4: Sounds are too loud!
</h3><p>

I think so, too...
The total volume of the samples can be changed
by using <code>-V</code> option at loading.
<pre>
	% sfxload -i -V 40 gm.sfx
</pre>
The value is in percent with a default of 70%.
<p>

If you're using linux, the mixer volumes can be set at loading the module
automatically (see <a href=#Q1.7>Q1.7</a>).
<p>

<p><hr><p>

<h3><a name=Q3.5>
Q3.5*: How can MIDI files be played from Netscape?
</h3><p>

If you're using..
<dl>
<dt> Netscape 3.0
<dd>
The plug-in for Netscape 3.0 is now available.
You only install MIDI plug-in package, and check the helper list
in Options menu.  See the document in this package for more details.
<p>
Note: if you already add mime types as below, you should edit these configuration
files manually.  Netscape only appends its list.
<p>

<dt> Other browsers
<dd>
Add a new mime type for MIDI files by adding the following to your
<code>~/.mime.types</code> file:
<pre>
audio/x-midi	exts=mid,midi
</pre>
Then specify the application for this type by adding to <code>~/.mailcap</code>:
<pre>
audio/x-midi; drvmidi %s
</pre>
Of course, you can choose your favorite MIDI players instead of this.
</dl>
<p>

<p><hr><p>
<h3><a name=Q3.6>
Q3.6: Some sounds changed after updating <code>sfxload</code>.
</h3><p>

In the older versions, sfxload uses only the first instrument found in the
same preset.
From ver.0.3(beta), the AWE driver can handle multiple instruments,
and along with this improvement,
sfxload transfers all the instrument layers to the
driver as default.
This results in that different instruments may be choosed
in some presets from the older driver.
Such a difference can be suppressed by changing the search mode as the
older way using <code>-m0</code> option when loading or converting the
SoundFont file.
<p>

<p><hr><p>
<h3><a name=Q3.7>
Q3.7: My trace window of <code>drvmidi</code> is empty.  How can I use it?
</h3><p>

Use <code>-t</code> option.  As default, the tracing mode is turned off.
<p>

<p><hr><p>

<h3><a name=Q3.8>
Q3.8: A strange piano sound is heard instead of drum sounds.
</h3><p>

Some MIDI files use the channel 16 as a drum channel.
while only the channel 10 is accepted as a drum in <code>drvmidi</code>
 as default.
In such a case, use <code>-D 16</code> option.  This specifies the channel 16
as a drum channel.  The positive argument means to turn on the drum channel,
but the negative argument means to turn off.
So, you can reserve the channel 10 as a normal channel using
<code>-D -10</code> option.
<p>

<p><hr size=10><p>

<h2><a name=Q4>
4. PROGRAMMING &amp; MISCELLANEOUS
</h2><p>

<h3><a name=Q4.1>
Q4.1: I'm planning to write a music player for AWE32.  How can I control
    the AWE32 driver from my program?
</h3><p>

See <a href=awedrv-prog.html>the AWEDRV programming notes</a>
for control of awedrv device.
<p>

<p><hr><p>

<h3><a name=Q4.2>
Q4.2: I want a MOD player!
</h3><p>

Me, too :-)<br>
Awedrv ver.0.2 accepts the GUS compatible patches and hardware controls,
so you can play module players using GUS driver like gmod by a slight
modification.

For example, to use gmod for awedrv, just change the line 62 of
<code>Sequencer.c</code> for detection of synthesizer card to accept
subtype 0x20 like
<pre>
if (info.synth_type == SYNTH_TYPE_SAMPLE
    && (info.synth_subtype == SAMPLE_TYPE_GUS||info.synth_subtype==0x20))
    gus_dev = i;
</pre>
(<code>0x20</code> means <code>SAMPLE_TYPE_AWE32</code> defined in <code>awe_voice.h</code>.)<br>
That's all.  Enjoy listening!
<p>

<p><hr size=10>
Takashi Iwai<br>
<a href=mailto:iwai@dragon.mm.t.u-tokyo.ac.jp>
<i>iwai@dragon.mm.t.u-tokyo.ac.jp</i></a><br>
<a href=http://bahamut.mm.t.u-tokyo.ac.jp/~iwai>
<i>http://bahamut.mm.t.u-tokyo.ac.jp/~iwai</i></a>

</body>

Documentation for cdda2wav, the full digital sampling utility

cdda2wav stands for CDDA to WAV (where CDDA stands for compact disc digital 
audio and WAV is another sound sample format introduced by Windows 3.1). It
allows copying CDDA audio data from the cdrom drive into a file on your ram-, 
hard-, floppy- or whatever-disk in the very common WAV format or in sun audio
format.
(note that this sampling has not to be done in realtime, data is read on 
request).

cdda2wav has the following parameters:

cdda2wav [-c chans] [-s] [-m] [-b bits] [-r rate] [-a divider]
         [-t track] [-i index] [-o offset] [-d duration]
         [-x] [-q] [-w] [-v] [-R] [-P] [-e] [-n sectors] [-N]
         [-D device] [-I interface] [-O audiotype] [audiofile]
         Version 0.4a
cdda2wav copies parts from audio cd's directly to wav or au files.
It requires a supported cdrom drive to work.
options: -D device   : set the cdrom or the generic scsi device.
         -A auxdevice: set the auxiliary device.
         -I interface: specify the interface for cdrom access.
                     : (generic_scsi or cooked_ioctl).
	 -c channels : set 1 for mono, or 2 for stereo recording.
         -s          : set to stereo recording.
         -m          : set to mono recording.
         -x          : set to maximum quality (stereo/16-bit/44.1 KHz).
         -b bits     : set bits per sample per channel (8, 12 or 16 bits).
         -r rate     : set rate in samples per second. -R gives all rates
         -a divider  : set rate to 44100Hz / divider. -R gives all rates
         -R          : dump a table with all available sample rates
         -P          : switch off overlap sampling
         -t track    : select start track.
         -i index    : select start index.
         -o offset   : start 'offset' sectors behind start track/index.
                       one sector equivalents 1/75 second.
         -O audiotype: set wav or sun au audio format. Default is wav.
         -d duration : set recording time in seconds or 0 for whole track.
         -w          : wait for audio signal, then start recording.
         -e          : echo audio data to sound device SOUND_DEV.
         -v          : print all information on current cd.
         -N          : no file operation.
         -q          : quiet operation, no screen output.

If your cdrom drive is loaded with an audio cd and your device and interface
are according to the settings from the Makefile, you may simply invoke
'cdda2wav' and it will create the sound file audio.wav recording 16 seconds
beginning with track 1 in mono at 16 bit at 22050 Hz, if your current file
system has 705644 bytes free. Otherwise recording time will be limited.

Table of Contents
=================
The display will show the table of contents with number of tracks and
total time (displayed in mm:ss.hh format, mm = minutes, ss = seconds, 
hh = 1/100 seconds).
The following list displays track number and track time for each entry.
More information is available via the -v option (see below).
Less information is available via the -q option (see below).

Recording display
=================
During recording a time display shows the current position in a
minutes:seconds:frames format. The displayed time is always related to start 
of the track. On some configurations there is an optional display for track
and indexing information.
Less information is available via the -q option (see below).

Options
=======
Most of the options are used to control the format of the WAV file. In the 
following text all of them are described.

Select Device
=============
-D device	select the cdrom drive device. Default is
		is currently /dev/sr0. The device has to match the interface
                type.

Select Interface
================
-I interface	There are two possible interface types.
		For nonscsi drives, select the 'cooked_ioctl' kernel interface.
		For SCSI drives, select the 'generic_scsi' driver.

Enable echo to soundcard
========================
-e[cho]		copy audio data to the soundcard while recording, so you hear 
		it nearly simultanously. The soundcard gets the same data
		that is recorded. This is time critical, so it works best
		with the -q option.
		To use cdda2wav as a pseudo cd player without recording
		in a file you could use
			cdda2wav -qeNd0 -t2
		to play the whole second track.

Select mono or stereo recording
===============================
-m[ono]		or	-c[hannels] 1
	selects mono recording (both stereo channels are mixed)

-s[tereo]	or	-c[hannels] 2
	selects stereo recording (doubles file size)

Select maximum quality
======================
-x		will set stereo, 16 bits per sample at 44.1 KHz
		(full cd quality).

Note that other format options given later do change this setting.

Select sample quality
=====================
-b[its]  8	specifies 8 bit (1 Byte) for each sample in each channel
-b[its] 12	specifies 12 bit (2 Byte) for each sample in each channel
-b[its] 16	specifies 16 bit (2 Byte) for each sample in each channel

(Ensure that your sample player or sound card is capable of playing 
12-bit or 16-bit samples). Selecting 12 or 16 bits doubles file size.
12-bit samples are aligned to 16-bit samples, so they waste some disk space.

Select sample rate
==================
-r[ate] samplerate	selects a sample rate
-a      divider         sets sample rate via divider

sample rate can be 88200 Hz / wholenumber = 44100 / divider

All rates are dividable by 88200 Hertz (twice the audio cd sampling rate).
The rate has not to be matched exactly, cdda2wav chooses the nearest rate.

To make the sound smoother at lower sampling rates, cdda2wav sums over n
samples (where n is the specific dividend). So for 22050 Hertz output 
we have to sum over 2 samples, for 900 Hertz we have to sum over 49 samples.
This cancels higher frequencies.

Arbitrary sampling rates in high quality would require some interpolation 
scheme, which needs much more sophisticated programming. Currently a very
simple quadratic interpolation takes place, when there is no integral amount
of output samples per input sample. See option -R for available rates.

Show available rates
====================
-R              print table of available rates and exit
This will print a table consisting of 4 columns of available rates and
their dividers. Here it is:
Available rates are:
Rate   Divider      Rate   Divider      Rate   Divider      Rate   Divider
44100     1         29400     1.5       22050     2         17640     2.5
14700     3         12600     3.5       11025     4         9800      4.5
8820      5         8018.18   5.5       7350      6         6784.62   6.5
6300      7         5880      7.5       5512.5    8         5188.24   8.5
4900      9         4642.11   9.5       4410     10         4200     10.5
4009.09  11         3834.78  11.5       3675     12         3528     12.5
3392.31  13         3266.67  13.5       3150     14         3041.38  14.5
2940     15         2845.16  15.5       2756.25  16         2672.73  16.5
2594.12  17         2520     17.5       2450     18         2383.78  18.5
2321.05  19         2261.54  19.5       2205     20         2151.22  20.5
2100     21         2051.16  21.5       2004.55  22         1960     22.5
1917.39  23         1876.6   23.5       1837.5   24         1800     24.5
1764     25         1729.41  25.5       1696.15  26         1664.15  26.5
1633.33  27         1603.64  27.5       1575     28         1547.37  28.5
1520.69  29         1494.92  29.5       1470     30         1445.9   30.5
1422.58  31         1400     31.5       1378.12  32         1356.92  32.5
1336.36  33         1316.42  33.5       1297.06  34         1278.26  34.5
1260     35         1242.25  35.5       1225     36         1208.22  36.5
1191.89  37         1176     37.5       1160.53  38         1145.45  38.5
1130.77  39         1116.46  39.5       1102.5   40         1088.89  40.5
1075.61  41         1062.65  41.5       1050     42         1037.65  42.5
1025.58  43         1013.79  43.5       1002.27  44         991.011  44.5
980      45         969.231  45.5       958.696  46         948.387  46.5
938.298  47         928.421  47.5       918.75   48         909.278  48.5
900      49         890.909  49.5       882      50         873.267  50.5



Suppress overlap sampling
=========================
-P              switch to faster, but less reliable sampling.
Due to technical cdrom drive problems, interrupted sampling leads to
inaccurate samples (with noises at the interruptions). Overlap sampling
tries to eliminate these problems by reading the last sectors again. It
then tries to leave out the inaccurate parts. For more info see the README
file.
              

Select start track
==================
-t[rack] n	select one of the tracks displayed in the table of contents

This sets the track where recording begins, but recording can advance through
the following tracks as well (depending on recording time).

Select start index
==================
-i[ndex] n	select an index to begin recording with.

This will start the index scanner, which will take some time to find the
correct start position. An offset may be given additionally (see below).

Set recording time
==================
-d[uration]	n	set recording time to n seconds	or
			set recording time for whole track (n = 0)

Recording time is defined as the time the generated sample will play (at the
defined sample rate). Since it's related to the amount of generated samples,
it's not the time of the sampling process itself (which can be greater on
slow devices or smaller on double/quad speed drives).
It's neither strictly coupled with the time information on the
audio cd (shown by your hifi cd player). Differences can occur by the usage
of the -o option (see below).

Notice that recording time will be limited, unless enough disk space exists.
Recording can be aborted at anytime by pressing Control-C.

Set start sector offset
=======================
-o[ffset] sectors	advances start sector of the track by sectors

By this option you are able to skip a certain amount at the beginning of 
a track so you can pick exactly the part you want. Each sector runs 1/75
second, so you have very fine control. If your offset is so high that it
would not fit into the current track, a warning message is issued and the
offset is ignored.
Recording time is not reduced.
(To skip introductory quiet passages automagically, use the -w option see 
below.)

Wait for signal option
======================
-w[ait]

Turning on this option will suppress all silent output at startup, reducing
possibly file size. Cdda2wav will watch for any signal in the output signal
and switches on writing to file.

Verbose option
==============
-v[erbose]	prints information from sub-q-channel of the table of 
		contents. Equal successive tracks are combined in one line
		describing the type.

	track pre-emphasis copy-permitted tracktype channels sub-Q-channel

	  The track column holds the track number range.
	  'Pre-Emphasis' shows if that track has been given a non linear
	  frequency response.
	  'Copy-permitted' indicates if this track is free of copyrights.
	  'Tracktype' can be data or audio. On multimedia cds both of
	  them should be there.
	  'Channels' is defined for audio tracks only. There can be two
	  or four channels.
	  'sub-Q-channel' indicates the type of additional information
	  present in the sub-Q-channel. This can be a position, a media
	  catalog number or a track international standard recording code.

	Further information can include the media catalog number or the
	track international standard recording code.

	In future releases an index scanner may be finished. Now it is
        considered experimental.

Suppress writing to file
========================
-N[ofile]	this is mainly a debugging option

In combination with the -e (echo) option you can hear music without filling
samples on disk.


Quiet option
============
-q[uiet]	suppress all screen output except error messages. Further it
		avoids any sub q channel requests for position reports in the 
		recording display. That reduces cpu time resources and allows
		feeding a soundcard with audio data on the fly.


Hints
=====
Don't create samples you cannot read. First check your sample player software
and sound card hardware. I experienced problems with very low sample rates
(stereo <= 1575 Hz, mono <= 3675 Hz) when trying to play them with standard
WAV players for sound blaster (may be they are not legal in WAV format).
With such a variety of output rates your sound card may not be able to match
them exactly. In this case the sample will have a higher or lower 'pitch'.

Conversion to other sound formats can be done using the sox program package.
The resampling from cdda2wav is superior to that of sox (linear interpolation).

When using cdda2wav to just hear music via the -e option, use the -n option
or the /dev/null as output file.

If you really want to sample more than one track in one file, this is 
currently possible with the -d[uration] option. When recording time exceeds 
the track limit the next track will be recorded too.

IMPORTANT: It is prohibited to sell copies of copyrighted material. This 
	program may not be used to circumvent copyrights.

Enjoy and distribute cdda2wav


========================================================================

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2, or (at your option)
   any later version.
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

   Copyright (c) : Lionel Fournigault, Bruno Pages and Dominique Leveque.

========================================================================

FIRST:
-----
	-Read this file (down to the end).
	-Try to build and install Xcoral.
	-Send Doc/xcoral-2.5.ps to your favorite printer
	  and also Doc/xcoral-card.ps.

	-Try the HTML Xcoral User's Manual with your favorite Net browser.
	(i.e. cd Doc/HTML; Mosaic xcoral.html). These HTML documents have
	been produced from xcoral-2.5.tex with the translator LateX2html.

Contents:
---------
	-Some information about building Xcoral.
	-How to built Xcoral for each of the following systems:
	 
		SunOS/Solaris,
		LINUX,
		HP-UX,
		IRIX,
		AIX,
		Ultrix,
		OSF1.

Preamble:
---------
	Xcoral has been developped on SunOS 4.1.x (BSD) with
	MIT X11 R[4|5] Window System and GNU cc compiler.
	We have compiled and tested it (a little) on other systems.

	To build Xcoral, you need only the X11 library
	(libX11.a). It's better if you have the MIT X Window System 
	distribution rather than a proprietary X Window System.

	You can use your native cc compiler (if it exists...), but it's 
	better to use gcc (GNU compiler).
	
Warning:
--------
	The lex.yy.c files are built with 'flex -8' (part of GNU
	distribution),and gen.tab.[ch] with the standard
	'yacc -d'. These files are present in this distribution
	and are not produced by make.

Build:
------		
	A/ Set XC_LIBDIR (default /usr/local/lib/xcoral)
	in Imakefile if the command xmkmf is available,
	else in one of the other Makefile corresponding
	to your system or in Makefile_std. 

	XC_LIBDIR defines the directory which contains SmacLib files
	and manual (man.dtex).

	B/ In Smac directory, the word.h file must be the one
	of your system (char,int and pointer alignment).
	On SunOS4.1.x, HP-UX, IRIX, ULTRIX43, LINUX, IRIX, AIX
	SOLARIS2 and OSF1, the file word.h is generated correctly
	by make.

	In the other cases, try to build word.h (See target
	word.h in Smac/Imakefile).

	C/ If you don't run MIT X11 R[4|5|6], edit config.h
	to set fontnames and colornames for your X Window System.
	See also X_INCLUDE and X_LIBPATH.

	D/ At the top level type :

		xmkmf
		make All
		make install

		or make -f Makefile_SYSNAME
		and make install -f Makefile_SYSNAME
		
		The 'make install' command also copies SMACLIB/* 
		in XC_LIBDIR directory.
		
		IMPORTANT : copy SmacLib/xcoralrc.lf in your
		homedir as .xcoralrc
		(if you have already a .xcoralrc, save it and
		use the new .xcoralrc)

		Install: check the install directories permissions.
		or 'make install' as root or change XC_LIBDIR and
		X_BINDIR.		

	E/ SEE ALSO :

		SmacLib directory presents a clever use of
		Smac user functions (color, asynchronous make
		and RCS interface, mouse and file header functions,
		comments generation, etc)

Build on SunOS.4.1.X and Solaris2
---------------------------------
	Sun 3/4, SS2 SS10 SS5/20 with SunOS 4.1.x and MIT X11 R[4|5] or
		OpenWindows2/3.
	Compiler : GCC, Standard K&R cc, acc.

	A/ SunOS 4.1.x and MIT X11 R[4|5]

		Set XC_LIBDIR in Imakefile

		xmkmf
		make All
		make install

	B/ SunOS 4.1.x and OpenWindows.
   
		Set XC_LIBDIR and X_BINDIR in Makefile_SUN_OS
		if necessary.

		make -f Makefile_SUN_OS
		make -f Makefile_SUN_OS install

	C/ Solaris 2.4/2.5 and OpenWindows.

		Set XC_LIBDIR and X_BINDIR in Makefile_SOLARIS
		if necessary.

		make -f Makefile_SOLARIS
		make -f Makefile_SOLARIS install
		
Build on LINUX
--------------
	386/486	Box, GNU cc Compiler. 

	xmkmf
	make All
	make install

	A friend of mine has compiled xcoral-2.5 on a 1.069 Linux box
	and played with it half an hour. Apparently, it's OK...

	WARNING: 
		Xcoral may crash if it is run with an old low
		resolution display (640x480).
		
		With the old filesystem (filename len <= 14),
		you must rename some Smac files (.sc).

Build on HPUX
-------------
 	HP 9000-720 with  HP-UX A.09.03 C and HP X11R5 server.
	HP cc Compiler

	Edit Makefile_HPUX to set X_INCLUDE, X_LIBPATH, XC_LIBDIR
	and X_BINDIR.

	make -f Makefile_HPUX
	make -f Makefile_HPUX install

Build on IRIX
-------------
	Indigo-2  with IRIX Release 4.0.5H
	SGI cc Compiler

	Edit Makefile_IRIX to set X_INCLUDE, X_LIBPATH, XC_LIBDIR
	and X_BINDIR.

	make -f Makefile_IRIX
	make -f Makefile_IRIX install

	Warning: install uses bsdinst.sh from (/usr/bin/X11).
	check your path.

Build on AIX 
------------
	RS-6000 AIX 3.2.
	IBM cc Compiler.

	Edit Makefile_AIX to set X_INCLUDE, X_LIBPATH, XC_LIBDIR
	and X_BINDIR.

	make -f Makefile_AIX
	make -f Makefile_AIX install

Build on Ultrix4.3 
------------------
	Dec station 3100 with ULTRIX V4.3 and MIT X11 R[4|5].
	Dec station 5000 with ULTRIX V4.3 and Xws (Dec X11R4 server).
	GNU cc compiler or cc Ultrix compiler.

	Edit Makefile_Ultrix43 to set X_INCLUDE, X_LIBPATH, XC_LIBDIR
	and X_BINDIR.

	make -f Makefile_Ultrix43
	make -f Makefile_Ultrix43 install

Build on Alpha OSF1
-------------------
	Edit Makefile_OSF1 to set X_INCLUDE, X_LIBPATH, XC_LIBDIR
	and X_BINDIR.

	make -f Makefile_OSF1
	make -f Makefile_OSF1 install 

	Warning: install doesn't work like you think.
	Good luck.	

You can send bugs or suggestions to lf@lri.lri.fr

	[Lionel, Bruno, Dominique]

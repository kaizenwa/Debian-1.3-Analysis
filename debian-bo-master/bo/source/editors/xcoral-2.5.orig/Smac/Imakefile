TOP_INCLUDES =

LEX = mylex
YACC = yacc

CCOPTIONS = -D$(LEX) -DXCORAL -DRUNTIMECHECK
DEPENDFLAGS = $(CCOPTIONS)

SRCS	= word.h 					\
	y.tab.c mylex.c list.c memo.c hash.c mem.c      \
	const.c stack.c error.c control.c function.c    \
	type.c identifier.c block.c declaration.c if.c  \
	operator.c funcall.c comma.c return.c while.c   \
	for.c cast.c assignment.c array.c  indirection.c \
	switch.c smac.c \
	Type.c Const.c Var.c Block.c If.c Return.c      \
	Comma.c Function.c FunctionCall.c Identifier.c  \
	Builtin.c Declaration.c While.c Control.c For.c \
	Cast.c Array.c RefDeref.c Switch.c              \
	smacXcoral.c

OBJS	= y.tab.o mylex.o list.o memo.o hash.o mem.o      \
	const.o stack.o error.o control.o function.o    \
	type.o identifier.o block.o declaration.o  if.o \
	operator.o funcall.o comma.o return.o while.o   \
	for.o cast.o assignment.o array.o indirection.o \
	switch.o smac.o \
	Type.o Const.o Var.o Block.o If.o Return.o      \
	Comma.o Function.o FunctionCall.o Identifier.o  \
	Builtin.o Declaration.o While.o Control.o For.o \
	Cast.o Array.o RefDeref.o Switch.o              \
	smacXcoral.o

AllTarget($(OBJS))

word.h : word.c
	$(CC) -o word word.c
	$(RM) word.h
	./word > word.h
	$(RM) word

y.tab.o: word.h

y.tab.c: c5.y
	$(YACC) -dl c5.y

DependTarget()
	




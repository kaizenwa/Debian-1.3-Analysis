<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!- Converted with LaTeX2HTML 0.6.4 (Tues Aug 30 1994) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds ->
<P>
<HEAD>
<TITLE> Buffers and files</TITLE>
<meta name="description" value=" Buffers and files">
<meta name="keywords" value="xcoral">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
</HEAD>
<BODY><P>
 <BR> <HR><A NAME=tex2html2062 HREF="node102.html"><IMG ALIGN=BOTTOM ALT="next" SRC="./next_motif.gif"></A> <A NAME=tex2html2060 HREF="node93.html"><IMG ALIGN=BOTTOM ALT="up" SRC="./up_motif.gif"></A> <A NAME=tex2html2054 HREF="node100.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="./previous_motif.gif"></A> <A NAME=tex2html2064 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="./contents_motif.gif"></A> <A NAME=tex2html2065 HREF="node126.html"><IMG ALIGN=BOTTOM ALT="index" SRC="./index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2063 HREF="node102.html"> Windows</A>
<B>Up:</B> <A NAME=tex2html2061 HREF="node93.html"> Functions</A>
<B> Previous:</B> <A NAME=tex2html2055 HREF="node100.html"> Mark</A>
<BR> <HR> <P>
<H2><A NAME=SECTION04238000000000000000> Buffers and files</A></H2>
<P>
	 <A NAME=3923>&#160;</A>
<P>
	 Some editing operations called by menus can be executed from <b>Smac</b>. But in
	 this case the information asked for by <b>Xcoral</b> menus have to be given as
	 arguments of the corresponding functions (questions are not performed).
<P>
	 <H3><A NAME=SECTION04238100000000000000> read_file</A></H3>
<P>
	    <A NAME=3924>&#160;</A>
	    <A NAME=3925>&#160;</A><A NAME=read_file>&#160;</A>
	    <code>int read_file(char * filename)</code>
<P>
	    Changes the current buffer to the file associated to
	    <i>filename</i> like the <b>Read File</b> menu entry, except that if the current
	    buffer is not saved, its contents is lost (see <i>current<code>\_</code>buffer<code>\_</code>is<code>\_</code>modified()</i> &#167;<A HREF="node101.html#current_buffer_is_modified">7.3.8</A> page <A HREF="node101.html#current_buffer_is_modified"><IMG ALIGN=BOTTOM ALT="gif" SRC="./cross_ref_motif.gif"></A>).
	    Returns 0 if there is no file matching <i>filename</i> and <code>-1</code> if
	    the file is already loaded in an other buffer of the current session, leaving the
	    buffer unchanged. Otherwise returns 1 and loads filename in the current buffer.
	    The current position becomes the beginning of buffer.
<P>
	 <H3><A NAME=SECTION04238200000000000000> save_file</A></H3>
<P>
	    <A NAME=3932>&#160;</A>
	    <code>void save_file()</code>
<P>
	    Saves the buffer into the corresponding file in the same way as the <b>Save
	    File</b> menu entry does.
<P>
	 <H3><A NAME=SECTION04238300000000000000> write_file</A></H3>
<P>
	    <A NAME=3934>&#160;</A>
	    <code>void write_file(char * newfilename)</code>
<P>
	    Saves the buffer into the file corresponding to <i>newfilename</i> like the
	    <b>Write File</b> menu entry does.
<P>
	 <H3><A NAME=SECTION04238400000000000000> insert_file</A></H3>
<P>
	    <A NAME=3936>&#160;</A><A NAME=insert_file>&#160;</A>
	    <code>int insert_file(char * filename)</code>
<P>
	    Inserts the contents of the file associated to <i>filename</i> at the
	    current position. Current position stays unchanged (it is the beginning
	    of the inserted file). Returns 1 on success, otherwise 0 (if <b>Smac</b>
	    cannot read <i>filename</i>).
<P>
	 <H3><A NAME=SECTION04238500000000000000> kill_current_buffer</A></H3>
<P>
	    <A NAME=3938>&#160;</A><A NAME=kill_current_buffer>&#160;</A>
	    <code>void kill_current_buffer()</code>
<P>
	    Empties the current buffer. If it has not already been saved, its
	    contents is lost.
<P>
	 <H3><A NAME=SECTION04238600000000000000> current_buffer_is_modified</A></H3>
<P>
	    <A NAME=3940>&#160;</A>
	    <A NAME=current_buffer_is_modified>&#160;</A>
	    <code>int current_buffer_is_modified()</code>
<P>
	    Returns 1 if the current buffer is modified, else 0. Here is an example
	    of this function use:
<P>
	    	       <P><IMG ALIGN=BOTTOM SRC="_12027_tabular2199.gif"><P>
<P>
	 <H3><A NAME=SECTION04238700000000000000> line_count</A></H3>
<P>
	    <A NAME=3942>&#160;</A><A NAME=line_count>&#160;</A>
	    <code>int line_count()</code>
<P>
	    Returns the current buffer number of lines, a non terminated line is
	    counted, therefore an empty buffer has 1 line. Its definition is
	    equivalent to:
<P>
	    	       <P><IMG ALIGN=BOTTOM SRC="_12027_tabular2207.gif"><P>
<P>
	 <H3><A NAME=SECTION04238800000000000000> redisplay</A></H3>
<P>
	    <A NAME=3944>&#160;</A><A NAME=redisplay>&#160;</A>
	    <code>void redisplay()</code>
<P>
	    Updates the contents of windows needing redisplay. Of course
	    this update is immediate, and not delayed until current <b>Smac</b>
	    execution ends.
<P>
	 <H3><A NAME=SECTION04238900000000000000> filename</A></H3>
<P>
	    <A NAME=3946>&#160;</A><A NAME=filename>&#160;</A>
	    <code>char * filename()</code>
<P>
	    Returns a new allocated string containing the absolute <i>filename</i>
	    corresponding to the current buffer, or 0 when the buffer is untitled.
<P>
	    <b>ATTENTION</b> Be careful, the string is allocated each time the
	    function is called, use <b>free()</b> to release it.
<P>
	 <H3><A NAME=SECTION042381000000000000000> current_line_to_top</A></H3>
<P>
	    <A NAME=3949>&#160;</A>
	    <code>void current_line_to_top()</code>
<P>
	    Scrolls to position the current line as the window first line. Note that
	    the window will not be updated until the current <b>Smac</b> execution ends.
<P>
	    <b>ATTENTION</b> Be careful, if you change the current position after this
	    function call, the window appearance could be changed and the line
	    designated might not become the first of the window.
<P>
	 <H3><A NAME=SECTION042381100000000000000> set_font</A></H3>
<P>
	    <A NAME=3952>&#160;</A><A NAME=set_font>&#160;</A>
	    <code>void set_font(char * fontname)</code>
<P>
	    Changes the current buffer font to <i>fontname</i>.
<P>
	 <H3><A NAME=SECTION042381200000000000000> </A></H3>
<P>
	    See also <b>current<code>\_</code>window()</b> and <b>select<code>\_</code>window()</b> below.
<P>
      <BR> <HR><A NAME=tex2html2062 HREF="node102.html"><IMG ALIGN=BOTTOM ALT="next" SRC="./next_motif.gif"></A> <A NAME=tex2html2060 HREF="node93.html"><IMG ALIGN=BOTTOM ALT="up" SRC="./up_motif.gif"></A> <A NAME=tex2html2054 HREF="node100.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="./previous_motif.gif"></A> <A NAME=tex2html2064 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="./contents_motif.gif"></A> <A NAME=tex2html2065 HREF="node126.html"><IMG ALIGN=BOTTOM ALT="index" SRC="./index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2063 HREF="node102.html"> Windows</A>
<B>Up:</B> <A NAME=tex2html2061 HREF="node93.html"> Functions</A>
<B> Previous:</B> <A NAME=tex2html2055 HREF="node100.html"> Mark</A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I> Lionel Fournigault <BR>
Mon Mar  6 13:33:34 MET 1995</I>
</ADDRESS>
</BODY>
